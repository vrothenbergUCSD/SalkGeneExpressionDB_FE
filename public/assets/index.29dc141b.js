const dL=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};dL();function Sy(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function Re(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=gt(i)?gL(i):Re(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(gt(e))return e;if(ct(e))return e}}const hL=/;(?![^(]*\))/g,fL=/:([^]+)/,pL=/\/\*.*?\*\//gs;function gL(e){const t={};return e.replace(pL,"").split(hL).forEach(n=>{if(n){const i=n.split(fL);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function P(e){let t="";if(gt(e))t=e;else if(Ee(e))for(let n=0;n<e.length;n++){const i=P(e[n]);i&&(t+=i+" ")}else if(ct(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const mL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yL=Sy(mL);function Wx(e){return!!e||e===""}const M=e=>gt(e)?e:e==null?"":Ee(e)||ct(e)&&(e.toString===Yx||!Oe(e.toString))?JSON.stringify(e,qx,2):String(e),qx=(e,t)=>t&&t.__v_isRef?qx(e,t.value):Aa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Xx(t)?{[`Set(${t.size})`]:[...t.values()]}:ct(t)&&!Ee(t)&&!Zx(t)?String(t):t,lt={},la=[],bi=()=>{},vL=()=>!1,wL=/^on[^a-z]/,Mh=e=>wL.test(e),Fy=e=>e.startsWith("onUpdate:"),Gt=Object.assign,Uy=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_L=Object.prototype.hasOwnProperty,Ve=(e,t)=>_L.call(e,t),Ee=Array.isArray,Aa=e=>tu(e)==="[object Map]",Xx=e=>tu(e)==="[object Set]",bL=e=>tu(e)==="[object RegExp]",Oe=e=>typeof e=="function",gt=e=>typeof e=="string",Ty=e=>typeof e=="symbol",ct=e=>e!==null&&typeof e=="object",Jx=e=>ct(e)&&Oe(e.then)&&Oe(e.catch),Yx=Object.prototype.toString,tu=e=>Yx.call(e),BL=e=>tu(e).slice(8,-1),Zx=e=>tu(e)==="[object Object]",ky=e=>gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xc=Sy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ph=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},CL=/-(\w)/g,zi=Ph(e=>e.replace(CL,(t,n)=>n?n.toUpperCase():"")),xL=/\B([A-Z])/g,yo=Ph(e=>e.replace(xL,"-$1").toLowerCase()),Hh=Ph(e=>e.charAt(0).toUpperCase()+e.slice(1)),Jc=Ph(e=>e?`on${Hh(e)}`:""),cA=(e,t)=>!Object.is(e,t),ua=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},bd=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Tg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},EL=e=>{const t=gt(e)?Number(e):NaN;return isNaN(t)?e:t};let V_;const IL=()=>V_||(V_=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let fi;class e1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fi,!t&&fi&&(this.index=(fi.scopes||(fi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=fi;try{return fi=this,t()}finally{fi=n}}}on(){fi=this}off(){fi=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function SL(e){return new e1(e)}function FL(e,t=fi){t&&t.active&&t.effects.push(e)}function UL(){return fi}const Qy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},t1=e=>(e.w&pr)>0,n1=e=>(e.n&pr)>0,TL=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=pr},kL=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];t1(s)&&!n1(s)?s.delete(e):t[n++]=s,s.w&=~pr,s.n&=~pr}t.length=n}},kg=new WeakMap;let Sl=0,pr=1;const Qg=30;let gi;const Jr=Symbol(""),Lg=Symbol("");class Ly{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,FL(this,i)}run(){if(!this.active)return this.fn();let t=gi,n=or;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=gi,gi=this,or=!0,pr=1<<++Sl,Sl<=Qg?TL(this):$_(this),this.fn()}finally{Sl<=Qg&&kL(this),pr=1<<--Sl,gi=this.parent,or=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gi===this?this.deferStop=!0:this.active&&($_(this),this.onStop&&this.onStop(),this.active=!1)}}function $_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let or=!0;const i1=[];function qa(){i1.push(or),or=!1}function Xa(){const e=i1.pop();or=e===void 0?!0:e}function Qn(e,t,n){if(or&&gi){let i=kg.get(e);i||kg.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=Qy()),s1(s)}}function s1(e,t){let n=!1;Sl<=Qg?n1(e)||(e.n|=pr,n=!t1(e)):n=!e.has(gi),n&&(e.add(gi),gi.deps.push(e))}function bs(e,t,n,i,s,r){const o=kg.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&Ee(e)){const l=Number(i);o.forEach((A,u)=>{(u==="length"||u>=l)&&a.push(A)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":Ee(e)?ky(n)&&a.push(o.get("length")):(a.push(o.get(Jr)),Aa(e)&&a.push(o.get(Lg)));break;case"delete":Ee(e)||(a.push(o.get(Jr)),Aa(e)&&a.push(o.get(Lg)));break;case"set":Aa(e)&&a.push(o.get(Jr));break}if(a.length===1)a[0]&&Og(a[0]);else{const l=[];for(const A of a)A&&l.push(...A);Og(Qy(l))}}function Og(e,t){const n=Ee(e)?e:[...e];for(const i of n)i.computed&&G_(i);for(const i of n)i.computed||G_(i)}function G_(e,t){(e!==gi||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const QL=Sy("__proto__,__v_isRef,__isVue"),r1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ty)),LL=Oy(),OL=Oy(!1,!0),RL=Oy(!0),z_=DL();function DL(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=$e(this);for(let r=0,o=this.length;r<o;r++)Qn(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map($e)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qa();const i=$e(this)[t].apply(this,n);return Xa(),i}}),e}function ML(e){const t=$e(this);return Qn(t,"has",e),t.hasOwnProperty(e)}function Oy(e=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?eO:u1:t?A1:l1).get(i))return i;const o=Ee(i);if(!e){if(o&&Ve(z_,s))return Reflect.get(z_,s,r);if(s==="hasOwnProperty")return ML}const a=Reflect.get(i,s,r);return(Ty(s)?r1.has(s):QL(s))||(e||Qn(i,"get",s),t)?a:dn(a)?o&&ky(s)?a:a.value:ct(a)?e?c1(a):vo(a):a}}const PL=o1(),HL=o1(!0);function o1(e=!1){return function(n,i,s,r){let o=n[i];if(ba(o)&&dn(o)&&!dn(s))return!1;if(!e&&(!Bd(s)&&!ba(s)&&(o=$e(o),s=$e(s)),!Ee(n)&&dn(o)&&!dn(s)))return o.value=s,!0;const a=Ee(n)&&ky(i)?Number(i)<n.length:Ve(n,i),l=Reflect.set(n,i,s,r);return n===$e(r)&&(a?cA(s,o)&&bs(n,"set",i,s):bs(n,"add",i,s)),l}}function NL(e,t){const n=Ve(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&bs(e,"delete",t,void 0),i}function KL(e,t){const n=Reflect.has(e,t);return(!Ty(t)||!r1.has(t))&&Qn(e,"has",t),n}function VL(e){return Qn(e,"iterate",Ee(e)?"length":Jr),Reflect.ownKeys(e)}const a1={get:LL,set:PL,deleteProperty:NL,has:KL,ownKeys:VL},$L={get:RL,set(e,t){return!0},deleteProperty(e,t){return!0}},GL=Gt({},a1,{get:OL,set:HL}),Ry=e=>e,Nh=e=>Reflect.getPrototypeOf(e);function Gu(e,t,n=!1,i=!1){e=e.__v_raw;const s=$e(e),r=$e(t);n||(t!==r&&Qn(s,"get",t),Qn(s,"get",r));const{has:o}=Nh(s),a=i?Ry:n?Py:dA;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function zu(e,t=!1){const n=this.__v_raw,i=$e(n),s=$e(e);return t||(e!==s&&Qn(i,"has",e),Qn(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function ju(e,t=!1){return e=e.__v_raw,!t&&Qn($e(e),"iterate",Jr),Reflect.get(e,"size",e)}function j_(e){e=$e(e);const t=$e(this);return Nh(t).has.call(t,e)||(t.add(e),bs(t,"add",e,e)),this}function W_(e,t){t=$e(t);const n=$e(this),{has:i,get:s}=Nh(n);let r=i.call(n,e);r||(e=$e(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?cA(t,o)&&bs(n,"set",e,t):bs(n,"add",e,t),this}function q_(e){const t=$e(this),{has:n,get:i}=Nh(t);let s=n.call(t,e);s||(e=$e(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&bs(t,"delete",e,void 0),r}function X_(){const e=$e(this),t=e.size!==0,n=e.clear();return t&&bs(e,"clear",void 0,void 0),n}function Wu(e,t){return function(i,s){const r=this,o=r.__v_raw,a=$e(o),l=t?Ry:e?Py:dA;return!e&&Qn(a,"iterate",Jr),o.forEach((A,u)=>i.call(s,l(A),l(u),r))}}function qu(e,t,n){return function(...i){const s=this.__v_raw,r=$e(s),o=Aa(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,A=s[e](...i),u=n?Ry:t?Py:dA;return!t&&Qn(r,"iterate",l?Lg:Jr),{next(){const{value:c,done:d}=A.next();return d?{value:c,done:d}:{value:a?[u(c[0]),u(c[1])]:u(c),done:d}},[Symbol.iterator](){return this}}}}function Rs(e){return function(...t){return e==="delete"?!1:this}}function zL(){const e={get(r){return Gu(this,r)},get size(){return ju(this)},has:zu,add:j_,set:W_,delete:q_,clear:X_,forEach:Wu(!1,!1)},t={get(r){return Gu(this,r,!1,!0)},get size(){return ju(this)},has:zu,add:j_,set:W_,delete:q_,clear:X_,forEach:Wu(!1,!0)},n={get(r){return Gu(this,r,!0)},get size(){return ju(this,!0)},has(r){return zu.call(this,r,!0)},add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear"),forEach:Wu(!0,!1)},i={get(r){return Gu(this,r,!0,!0)},get size(){return ju(this,!0)},has(r){return zu.call(this,r,!0)},add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear"),forEach:Wu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=qu(r,!1,!1),n[r]=qu(r,!0,!1),t[r]=qu(r,!1,!0),i[r]=qu(r,!0,!0)}),[e,n,t,i]}const[jL,WL,qL,XL]=zL();function Dy(e,t){const n=t?e?XL:qL:e?WL:jL;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Ve(n,s)&&s in i?n:i,s,r)}const JL={get:Dy(!1,!1)},YL={get:Dy(!1,!0)},ZL={get:Dy(!0,!1)},l1=new WeakMap,A1=new WeakMap,u1=new WeakMap,eO=new WeakMap;function tO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nO(e){return e.__v_skip||!Object.isExtensible(e)?0:tO(BL(e))}function vo(e){return ba(e)?e:My(e,!1,a1,JL,l1)}function iO(e){return My(e,!1,GL,YL,A1)}function c1(e){return My(e,!0,$L,ZL,u1)}function My(e,t,n,i,s){if(!ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=nO(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function ca(e){return ba(e)?ca(e.__v_raw):!!(e&&e.__v_isReactive)}function ba(e){return!!(e&&e.__v_isReadonly)}function Bd(e){return!!(e&&e.__v_isShallow)}function d1(e){return ca(e)||ba(e)}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function h1(e){return bd(e,"__v_skip",!0),e}const dA=e=>ct(e)?vo(e):e,Py=e=>ct(e)?c1(e):e;function f1(e){or&&gi&&(e=$e(e),s1(e.dep||(e.dep=Qy())))}function p1(e,t){e=$e(e);const n=e.dep;n&&Og(n)}function dn(e){return!!(e&&e.__v_isRef===!0)}function Rt(e){return g1(e,!1)}function sO(e){return g1(e,!0)}function g1(e,t){return dn(e)?e:new rO(e,t)}class rO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:$e(t),this._value=n?t:dA(t)}get value(){return f1(this),this._value}set value(t){const n=this.__v_isShallow||Bd(t)||ba(t);t=n?t:$e(t),cA(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:dA(t),p1(this))}}function da(e){return dn(e)?e.value:e}const oO={get:(e,t,n)=>da(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return dn(s)&&!dn(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function m1(e){return ca(e)?e:new Proxy(e,oO)}var y1;class aO{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[y1]=!1,this._dirty=!0,this.effect=new Ly(t,()=>{this._dirty||(this._dirty=!0,p1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=$e(this);return f1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}y1="__v_isReadonly";function lO(e,t,n=!1){let i,s;const r=Oe(e);return r?(i=e,s=bi):(i=e.get,s=e.set),new aO(i,s,r||!s,n)}function ar(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){Kh(r,t,n)}return s}function ri(e,t,n,i){if(Oe(e)){const r=ar(e,t,n,i);return r&&Jx(r)&&r.catch(o=>{Kh(o,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(ri(e[r],t,n,i));return s}function Kh(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const A=r.ec;if(A){for(let u=0;u<A.length;u++)if(A[u](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){ar(l,null,10,[e,o,a]);return}}AO(e,n,s,i)}function AO(e,t,n,i=!0){console.error(e)}let hA=!1,Rg=!1;const un=[];let Pi=0;const ha=[];let cs=null,Rr=0;const v1=Promise.resolve();let Hy=null;function ms(e){const t=Hy||v1;return e?t.then(this?e.bind(this):e):t}function uO(e){let t=Pi+1,n=un.length;for(;t<n;){const i=t+n>>>1;fA(un[i])<e?t=i+1:n=i}return t}function Ny(e){(!un.length||!un.includes(e,hA&&e.allowRecurse?Pi+1:Pi))&&(e.id==null?un.push(e):un.splice(uO(e.id),0,e),w1())}function w1(){!hA&&!Rg&&(Rg=!0,Hy=v1.then(b1))}function cO(e){const t=un.indexOf(e);t>Pi&&un.splice(t,1)}function dO(e){Ee(e)?ha.push(...e):(!cs||!cs.includes(e,e.allowRecurse?Rr+1:Rr))&&ha.push(e),w1()}function J_(e,t=hA?Pi+1:0){for(;t<un.length;t++){const n=un[t];n&&n.pre&&(un.splice(t,1),t--,n())}}function _1(e){if(ha.length){const t=[...new Set(ha)];if(ha.length=0,cs){cs.push(...t);return}for(cs=t,cs.sort((n,i)=>fA(n)-fA(i)),Rr=0;Rr<cs.length;Rr++)cs[Rr]();cs=null,Rr=0}}const fA=e=>e.id==null?1/0:e.id,hO=(e,t)=>{const n=fA(e)-fA(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function b1(e){Rg=!1,hA=!0,un.sort(hO);const t=bi;try{for(Pi=0;Pi<un.length;Pi++){const n=un[Pi];n&&n.active!==!1&&ar(n,null,14)}}finally{Pi=0,un.length=0,_1(),hA=!1,Hy=null,(un.length||ha.length)&&b1()}}function fO(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||lt;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:c,trim:d}=i[u]||lt;d&&(s=n.map(h=>gt(h)?h.trim():h)),c&&(s=n.map(Tg))}let a,l=i[a=Jc(t)]||i[a=Jc(zi(t))];!l&&r&&(l=i[a=Jc(yo(t))]),l&&ri(l,e,6,s);const A=i[a+"Once"];if(A){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ri(A,e,6,s)}}function B1(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!Oe(e)){const l=A=>{const u=B1(A,t,!0);u&&(a=!0,Gt(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(ct(e)&&i.set(e,null),null):(Ee(r)?r.forEach(l=>o[l]=null):Gt(o,r),ct(e)&&i.set(e,o),o)}function Vh(e,t){return!e||!Mh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ve(e,t[0].toLowerCase()+t.slice(1))||Ve(e,yo(t))||Ve(e,t))}let Jt=null,$h=null;function Cd(e){const t=Jt;return Jt=e,$h=e&&e.type.__scopeId||null,t}function Fi(e){$h=e}function Ui(){$h=null}function O(e,t=Jt,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&lb(-1);const r=Cd(t);let o;try{o=e(...s)}finally{Cd(r),i._d&&lb(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function gp(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:A,render:u,renderCache:c,data:d,setupState:h,ctx:p,inheritAttrs:m}=e;let g,w;const v=Cd(e);try{if(n.shapeFlag&4){const B=s||i;g=Mi(u.call(B,B,c,r,h,d,p)),w=l}else{const B=t;g=Mi(B.length>1?B(r,{attrs:l,slots:a,emit:A}):B(r,null)),w=t.props?l:pO(l)}}catch(B){Wl.length=0,Kh(B,e,1),g=b(oi)}let C=g;if(w&&m!==!1){const B=Object.keys(w),{shapeFlag:E}=C;B.length&&E&7&&(o&&B.some(Fy)&&(w=gO(w,o)),C=ji(C,w))}return n.dirs&&(C=ji(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),g=C,Cd(v),g}const pO=e=>{let t;for(const n in e)(n==="class"||n==="style"||Mh(n))&&((t||(t={}))[n]=e[n]);return t},gO=(e,t)=>{const n={};for(const i in e)(!Fy(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function mO(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,A=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Y_(i,o,A):!!o;if(l&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const d=u[c];if(o[d]!==i[d]&&!Vh(A,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Y_(i,o,A):!0:!!o;return!1}function Y_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!Vh(n,r))return!0}return!1}function yO({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const C1=e=>e.__isSuspense;function vO(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):dO(e)}function lr(e,t){if(It){let n=It.provides;const i=It.parent&&It.parent.provides;i===n&&(n=It.provides=Object.create(i)),n[e]=t}}function jn(e,t,n=!1){const i=It||Jt;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Oe(t)?t.call(i.proxy):t}}function nu(e,t){return Ky(e,null,t)}const Xu={};function Yr(e,t,n){return Ky(e,t,n)}function Ky(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=lt){const a=UL()===(It==null?void 0:It.scope)?It:null;let l,A=!1,u=!1;if(dn(e)?(l=()=>e.value,A=Bd(e)):ca(e)?(l=()=>e,i=!0):Ee(e)?(u=!0,A=e.some(C=>ca(C)||Bd(C)),l=()=>e.map(C=>{if(dn(C))return C.value;if(ca(C))return Kr(C);if(Oe(C))return ar(C,a,2)})):Oe(e)?t?l=()=>ar(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return c&&c(),ri(e,a,3,[d])}:l=bi,t&&i){const C=l;l=()=>Kr(C())}let c,d=C=>{c=w.onStop=()=>{ar(C,a,4)}},h;if(vA)if(d=bi,t?n&&ri(t,a,3,[l(),u?[]:void 0,d]):l(),s==="sync"){const C=hR();h=C.__watcherHandles||(C.__watcherHandles=[])}else return bi;let p=u?new Array(e.length).fill(Xu):Xu;const m=()=>{if(!!w.active)if(t){const C=w.run();(i||A||(u?C.some((B,E)=>cA(B,p[E])):cA(C,p)))&&(c&&c(),ri(t,a,3,[C,p===Xu?void 0:u&&p[0]===Xu?[]:p,d]),p=C)}else w.run()};m.allowRecurse=!!t;let g;s==="sync"?g=m:s==="post"?g=()=>Wt(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),g=()=>Ny(m));const w=new Ly(l,g);t?n?m():p=w.run():s==="post"?Wt(w.run.bind(w),a&&a.suspense):w.run();const v=()=>{w.stop(),a&&a.scope&&Uy(a.scope.effects,w)};return h&&h.push(v),v}function wO(e,t,n){const i=this.proxy,s=gt(e)?e.includes(".")?x1(i,e):()=>i[e]:e.bind(i,i);let r;Oe(t)?r=t:(r=t.handler,n=t);const o=It;Ca(this);const a=Ky(s,r.bind(i),n);return o?Ca(o):Zr(),a}function x1(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Kr(e,t){if(!ct(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),dn(e))Kr(e.value,t);else if(Ee(e))for(let n=0;n<e.length;n++)Kr(e[n],t);else if(Xx(e)||Aa(e))e.forEach(n=>{Kr(n,t)});else if(Zx(e))for(const n in e)Kr(e[n],t);return e}function E1(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gr(()=>{e.isMounted=!0}),Gy(()=>{e.isUnmounting=!0}),e}const Yn=[Function,Array],_O={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Yn,onEnter:Yn,onAfterEnter:Yn,onEnterCancelled:Yn,onBeforeLeave:Yn,onLeave:Yn,onAfterLeave:Yn,onLeaveCancelled:Yn,onBeforeAppear:Yn,onAppear:Yn,onAfterAppear:Yn,onAppearCancelled:Yn},setup(e,{slots:t}){const n=Yy(),i=E1();let s;return()=>{const r=t.default&&Vy(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const m of r)if(m.type!==oi){o=m;break}}const a=$e(e),{mode:l}=a;if(i.isLeaving)return mp(o);const A=Z_(o);if(!A)return mp(o);const u=pA(A,a,i,n);Ba(A,u);const c=n.subTree,d=c&&Z_(c);let h=!1;const{getTransitionKey:p}=A.type;if(p){const m=p();s===void 0?s=m:m!==s&&(s=m,h=!0)}if(d&&d.type!==oi&&(!Xs(A,d)||h)){const m=pA(d,a,i,n);if(Ba(d,m),l==="out-in")return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},mp(o);l==="in-out"&&A.type!==oi&&(m.delayLeave=(g,w,v)=>{const C=S1(i,d);C[String(d.key)]=d,g._leaveCb=()=>{w(),g._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=v})}return o}}},I1=_O;function S1(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function pA(e,t,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:A,onEnterCancelled:u,onBeforeLeave:c,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:w,onAppearCancelled:v}=t,C=String(e.key),B=S1(n,e),E=(U,Q)=>{U&&ri(U,i,9,Q)},S=(U,Q)=>{const k=Q[1];E(U,Q),Ee(U)?U.every(L=>L.length<=1)&&k():U.length<=1&&k()},F={mode:r,persisted:o,beforeEnter(U){let Q=a;if(!n.isMounted)if(s)Q=m||a;else return;U._leaveCb&&U._leaveCb(!0);const k=B[C];k&&Xs(e,k)&&k.el._leaveCb&&k.el._leaveCb(),E(Q,[U])},enter(U){let Q=l,k=A,L=u;if(!n.isMounted)if(s)Q=g||l,k=w||A,L=v||u;else return;let R=!1;const D=U._enterCb=z=>{R||(R=!0,z?E(L,[U]):E(k,[U]),F.delayedLeave&&F.delayedLeave(),U._enterCb=void 0)};Q?S(Q,[U,D]):D()},leave(U,Q){const k=String(e.key);if(U._enterCb&&U._enterCb(!0),n.isUnmounting)return Q();E(c,[U]);let L=!1;const R=U._leaveCb=D=>{L||(L=!0,Q(),D?E(p,[U]):E(h,[U]),U._leaveCb=void 0,B[k]===e&&delete B[k])};B[k]=e,d?S(d,[U,R]):R()},clone(U){return pA(U,t,n,i)}};return F}function mp(e){if(Gh(e))return e=ji(e),e.children=null,e}function Z_(e){return Gh(e)?e.children?e.children[0]:void 0:e}function Ba(e,t){e.shapeFlag&6&&e.component?Ba(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vy(e,t=!1,n){let i=[],s=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===J?(o.patchFlag&128&&s++,i=i.concat(Vy(o.children,t,a))):(t||o.type!==oi)&&i.push(a!=null?ji(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Qs(e){return Oe(e)?{setup:e,name:e.name}:e}const fa=e=>!!e.type.__asyncLoader,Gh=e=>e.type.__isKeepAlive,bO={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Yy(),i=n.ctx;if(!i.renderer)return()=>{const v=t.default&&t.default();return v&&v.length===1?v[0]:v};const s=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:A,um:u,o:{createElement:c}}}=i,d=c("div");i.activate=(v,C,B,E,S)=>{const F=v.component;A(v,C,B,0,a),l(F.vnode,v,C,B,F,a,E,v.slotScopeIds,S),Wt(()=>{F.isDeactivated=!1,F.a&&ua(F.a);const U=v.props&&v.props.onVnodeMounted;U&&Zn(U,F.parent,v)},a)},i.deactivate=v=>{const C=v.component;A(v,d,null,1,a),Wt(()=>{C.da&&ua(C.da);const B=v.props&&v.props.onVnodeUnmounted;B&&Zn(B,C.parent,v),C.isDeactivated=!0},a)};function h(v){yp(v),u(v,n,a,!0)}function p(v){s.forEach((C,B)=>{const E=Vg(C.type);E&&(!v||!v(E))&&m(B)})}function m(v){const C=s.get(v);!o||!Xs(C,o)?h(C):o&&yp(o),s.delete(v),r.delete(v)}Yr(()=>[e.include,e.exclude],([v,C])=>{v&&p(B=>Fl(v,B)),C&&p(B=>!Fl(C,B))},{flush:"post",deep:!0});let g=null;const w=()=>{g!=null&&s.set(g,vp(n.subTree))};return gr(w),$y(w),Gy(()=>{s.forEach(v=>{const{subTree:C,suspense:B}=n,E=vp(C);if(v.type===E.type&&v.key===E.key){yp(E);const S=E.component.da;S&&Wt(S,B);return}h(v)})}),()=>{if(g=null,!t.default)return null;const v=t.default(),C=v[0];if(v.length>1)return o=null,v;if(!yA(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return o=null,C;let B=vp(C);const E=B.type,S=Vg(fa(B)?B.type.__asyncResolved||{}:E),{include:F,exclude:U,max:Q}=e;if(F&&(!S||!Fl(F,S))||U&&S&&Fl(U,S))return o=B,C;const k=B.key==null?E:B.key,L=s.get(k);return B.el&&(B=ji(B),C.shapeFlag&128&&(C.ssContent=B)),g=k,L?(B.el=L.el,B.component=L.component,B.transition&&Ba(B,B.transition),B.shapeFlag|=512,r.delete(k),r.add(k)):(r.add(k),Q&&r.size>parseInt(Q,10)&&m(r.values().next().value)),B.shapeFlag|=256,o=B,C1(C.type)?C:B}}},BO=bO;function Fl(e,t){return Ee(e)?e.some(n=>Fl(n,t)):gt(e)?e.split(",").includes(t):bL(e)?e.test(t):!1}function CO(e,t){F1(e,"a",t)}function xO(e,t){F1(e,"da",t)}function F1(e,t,n=It){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(zh(t,i,n),n){let s=n.parent;for(;s&&s.parent;)Gh(s.parent.vnode)&&EO(i,t,n,s),s=s.parent}}function EO(e,t,n,i){const s=zh(t,e,i,!0);iu(()=>{Uy(i[t],s)},n)}function yp(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function vp(e){return e.shapeFlag&128?e.ssContent:e}function zh(e,t,n=It,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;qa(),Ca(n);const a=ri(t,n,e,o);return Zr(),Xa(),a});return i?s.unshift(r):s.push(r),r}}const Ls=e=>(t,n=It)=>(!vA||e==="sp")&&zh(e,(...i)=>t(...i),n),IO=Ls("bm"),gr=Ls("m"),SO=Ls("bu"),$y=Ls("u"),Gy=Ls("bum"),iu=Ls("um"),FO=Ls("sp"),UO=Ls("rtg"),TO=Ls("rtc");function kO(e,t=It){zh("ec",e,t)}function re(e,t){const n=Jt;if(n===null)return e;const i=qh(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,A=lt]=t[r];o&&(Oe(o)&&(o={mounted:o,updated:o}),o.deep&&Kr(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:A}))}return e}function Fr(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(qa(),ri(l,n,8,[e.el,a,e,t]),Xa())}}const zy="components",QO="directives";function N(e,t){return jy(zy,e,!0,t)||e}const U1=Symbol();function ht(e){return gt(e)?jy(zy,e,!1)||e:e||U1}function pt(e){return jy(QO,e)}function jy(e,t,n=!0,i=!1){const s=Jt||It;if(s){const r=s.type;if(e===zy){const a=Vg(r,!1);if(a&&(a===t||a===zi(t)||a===Hh(zi(t))))return r}const o=eb(s[e]||r[e],t)||eb(s.appContext[e],t);return!o&&i?r:o}}function eb(e,t){return e&&(e[t]||e[zi(t)]||e[Hh(zi(t))])}function be(e,t,n,i){let s;const r=n&&n[i];if(Ee(e)||gt(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(ct(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const A=o[a];s[a]=t(e[A],A,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}function gA(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(Ee(i))for(let s=0;s<i.length;s++)e[i[s].name]=i[s].fn;else i&&(e[i.name]=i.key?(...s)=>{const r=i.fn(...s);return r&&(r.key=i.key),r}:i.fn)}return e}function ue(e,t,n={},i,s){if(Jt.isCE||Jt.parent&&fa(Jt.parent)&&Jt.parent.isCE)return t!=="default"&&(n.name=t),b("slot",n,i&&i());let r=e[t];r&&r._c&&(r._d=!1),y();const o=r&&T1(r(n)),a=ee(J,{key:n.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function T1(e){return e.some(t=>yA(t)?!(t.type===oi||t.type===J&&!T1(t.children)):!0)?e:null}function Ju(e,t){const n={};for(const i in e)n[t&&/[A-Z]/.test(i)?`on:${i}`:Jc(i)]=e[i];return n}const Dg=e=>e?K1(e)?qh(e)||e.proxy:Dg(e.parent):null,zl=Gt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dg(e.parent),$root:e=>Dg(e.root),$emit:e=>e.emit,$options:e=>Wy(e),$forceUpdate:e=>e.f||(e.f=()=>Ny(e.update)),$nextTick:e=>e.n||(e.n=ms.bind(e.proxy)),$watch:e=>wO.bind(e)}),wp=(e,t)=>e!==lt&&!e.__isScriptSetup&&Ve(e,t),LO={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let A;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(wp(i,t))return o[t]=1,i[t];if(s!==lt&&Ve(s,t))return o[t]=2,s[t];if((A=e.propsOptions[0])&&Ve(A,t))return o[t]=3,r[t];if(n!==lt&&Ve(n,t))return o[t]=4,n[t];Mg&&(o[t]=0)}}const u=zl[t];let c,d;if(u)return t==="$attrs"&&Qn(e,"get",t),u(e);if((c=a.__cssModules)&&(c=c[t]))return c;if(n!==lt&&Ve(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Ve(d,t))return d[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return wp(s,t)?(s[t]=n,!0):i!==lt&&Ve(i,t)?(i[t]=n,!0):Ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==lt&&Ve(e,o)||wp(t,o)||(a=r[0])&&Ve(a,o)||Ve(i,o)||Ve(zl,o)||Ve(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ve(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Mg=!0;function OO(e){const t=Wy(e),n=e.proxy,i=e.ctx;Mg=!1,t.beforeCreate&&tb(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:A,created:u,beforeMount:c,mounted:d,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:w,beforeUnmount:v,destroyed:C,unmounted:B,render:E,renderTracked:S,renderTriggered:F,errorCaptured:U,serverPrefetch:Q,expose:k,inheritAttrs:L,components:R,directives:D,filters:z}=t;if(A&&RO(A,i,null,e.appContext.config.unwrapInjectedRef),o)for(const q in o){const ae=o[q];Oe(ae)&&(i[q]=ae.bind(n))}if(s){const q=s.call(n,n);ct(q)&&(e.data=vo(q))}if(Mg=!0,r)for(const q in r){const ae=r[q],ve=Oe(ae)?ae.bind(n,n):Oe(ae.get)?ae.get.bind(n,n):bi,Ne=!Oe(ae)&&Oe(ae.set)?ae.set.bind(n):bi,tt=it({get:ve,set:Ne});Object.defineProperty(i,q,{enumerable:!0,configurable:!0,get:()=>tt.value,set:We=>tt.value=We})}if(a)for(const q in a)k1(a[q],i,n,q);if(l){const q=Oe(l)?l.call(n):l;Reflect.ownKeys(q).forEach(ae=>{lr(ae,q[ae])})}u&&tb(u,e,"c");function Y(q,ae){Ee(ae)?ae.forEach(ve=>q(ve.bind(n))):ae&&q(ae.bind(n))}if(Y(IO,c),Y(gr,d),Y(SO,h),Y($y,p),Y(CO,m),Y(xO,g),Y(kO,U),Y(TO,S),Y(UO,F),Y(Gy,v),Y(iu,B),Y(FO,Q),Ee(k))if(k.length){const q=e.exposed||(e.exposed={});k.forEach(ae=>{Object.defineProperty(q,ae,{get:()=>n[ae],set:ve=>n[ae]=ve})})}else e.exposed||(e.exposed={});E&&e.render===bi&&(e.render=E),L!=null&&(e.inheritAttrs=L),R&&(e.components=R),D&&(e.directives=D)}function RO(e,t,n=bi,i=!1){Ee(e)&&(e=Pg(e));for(const s in e){const r=e[s];let o;ct(r)?"default"in r?o=jn(r.from||s,r.default,!0):o=jn(r.from||s):o=jn(r),dn(o)&&i?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function tb(e,t,n){ri(Ee(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function k1(e,t,n,i){const s=i.includes(".")?x1(n,i):()=>n[i];if(gt(e)){const r=t[e];Oe(r)&&Yr(s,r)}else if(Oe(e))Yr(s,e.bind(n));else if(ct(e))if(Ee(e))e.forEach(r=>k1(r,t,n,i));else{const r=Oe(e.handler)?e.handler.bind(n):t[e.handler];Oe(r)&&Yr(s,r,e)}}function Wy(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!n&&!i?l=t:(l={},s.length&&s.forEach(A=>xd(l,A,o,!0)),xd(l,t,o)),ct(t)&&r.set(t,l),l}function xd(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&xd(e,r,n,!0),s&&s.forEach(o=>xd(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=DO[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const DO={data:nb,props:Qr,emits:Qr,methods:Qr,computed:Qr,beforeCreate:_n,created:_n,beforeMount:_n,mounted:_n,beforeUpdate:_n,updated:_n,beforeDestroy:_n,beforeUnmount:_n,destroyed:_n,unmounted:_n,activated:_n,deactivated:_n,errorCaptured:_n,serverPrefetch:_n,components:Qr,directives:Qr,watch:PO,provide:nb,inject:MO};function nb(e,t){return t?e?function(){return Gt(Oe(e)?e.call(this,this):e,Oe(t)?t.call(this,this):t)}:t:e}function MO(e,t){return Qr(Pg(e),Pg(t))}function Pg(e){if(Ee(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _n(e,t){return e?[...new Set([].concat(e,t))]:t}function Qr(e,t){return e?Gt(Gt(Object.create(null),e),t):t}function PO(e,t){if(!e)return t;if(!t)return e;const n=Gt(Object.create(null),e);for(const i in t)n[i]=_n(e[i],t[i]);return n}function HO(e,t,n,i=!1){const s={},r={};bd(r,Wh,1),e.propsDefaults=Object.create(null),Q1(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:iO(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function NO(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=$e(s),[l]=e.propsOptions;let A=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let c=0;c<u.length;c++){let d=u[c];if(Vh(e.emitsOptions,d))continue;const h=t[d];if(l)if(Ve(r,d))h!==r[d]&&(r[d]=h,A=!0);else{const p=zi(d);s[p]=Hg(l,a,p,h,e,!1)}else h!==r[d]&&(r[d]=h,A=!0)}}}else{Q1(e,t,s,r)&&(A=!0);let u;for(const c in a)(!t||!Ve(t,c)&&((u=yo(c))===c||!Ve(t,u)))&&(l?n&&(n[c]!==void 0||n[u]!==void 0)&&(s[c]=Hg(l,a,c,void 0,e,!0)):delete s[c]);if(r!==a)for(const c in r)(!t||!Ve(t,c)&&!0)&&(delete r[c],A=!0)}A&&bs(e,"set","$attrs")}function Q1(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Xc(l))continue;const A=t[l];let u;s&&Ve(s,u=zi(l))?!r||!r.includes(u)?n[u]=A:(a||(a={}))[u]=A:Vh(e.emitsOptions,l)||(!(l in i)||A!==i[l])&&(i[l]=A,o=!0)}if(r){const l=$e(n),A=a||lt;for(let u=0;u<r.length;u++){const c=r[u];n[c]=Hg(s,l,c,A[c],e,!Ve(A,c))}}return o}function Hg(e,t,n,i,s,r){const o=e[n];if(o!=null){const a=Ve(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&Oe(l)){const{propsDefaults:A}=s;n in A?i=A[n]:(Ca(s),i=A[n]=l.call(null,t),Zr())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===yo(n))&&(i=!0))}return i}function L1(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!Oe(e)){const u=c=>{l=!0;const[d,h]=L1(c,t,!0);Gt(o,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return ct(e)&&i.set(e,la),la;if(Ee(r))for(let u=0;u<r.length;u++){const c=zi(r[u]);ib(c)&&(o[c]=lt)}else if(r)for(const u in r){const c=zi(u);if(ib(c)){const d=r[u],h=o[c]=Ee(d)||Oe(d)?{type:d}:Object.assign({},d);if(h){const p=ob(Boolean,h.type),m=ob(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||Ve(h,"default"))&&a.push(c)}}}const A=[o,a];return ct(e)&&i.set(e,A),A}function ib(e){return e[0]!=="$"}function sb(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function rb(e,t){return sb(e)===sb(t)}function ob(e,t){return Ee(t)?t.findIndex(n=>rb(n,e)):Oe(t)&&rb(t,e)?0:-1}const O1=e=>e[0]==="_"||e==="$stable",qy=e=>Ee(e)?e.map(Mi):[Mi(e)],KO=(e,t,n)=>{if(t._n)return t;const i=O((...s)=>qy(t(...s)),n);return i._c=!1,i},R1=(e,t,n)=>{const i=e._ctx;for(const s in e){if(O1(s))continue;const r=e[s];if(Oe(r))t[s]=KO(s,r,i);else if(r!=null){const o=qy(r);t[s]=()=>o}}},D1=(e,t)=>{const n=qy(t);e.slots.default=()=>n},VO=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=$e(t),bd(t,"_",n)):R1(t,e.slots={})}else e.slots={},t&&D1(e,t);bd(e.slots,Wh,1)},$O=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=lt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(Gt(s,t),!n&&a===1&&delete s._):(r=!t.$stable,R1(t,s)),o=t}else t&&(D1(e,t),o={default:1});if(r)for(const a in s)!O1(a)&&!(a in o)&&delete s[a]};function M1(){return{app:null,config:{isNativeTag:vL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GO=0;function zO(e,t){return function(i,s=null){Oe(i)||(i=Object.assign({},i)),s!=null&&!ct(s)&&(s=null);const r=M1(),o=new Set;let a=!1;const l=r.app={_uid:GO++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:fR,get config(){return r.config},set config(A){},use(A,...u){return o.has(A)||(A&&Oe(A.install)?(o.add(A),A.install(l,...u)):Oe(A)&&(o.add(A),A(l,...u))),l},mixin(A){return r.mixins.includes(A)||r.mixins.push(A),l},component(A,u){return u?(r.components[A]=u,l):r.components[A]},directive(A,u){return u?(r.directives[A]=u,l):r.directives[A]},mount(A,u,c){if(!a){const d=b(i,s);return d.appContext=r,u&&t?t(d,A):e(d,A,c),a=!0,l._container=A,A.__vue_app__=l,qh(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(A,u){return r.provides[A]=u,l}};return l}}function Ng(e,t,n,i,s=!1){if(Ee(e)){e.forEach((d,h)=>Ng(d,t&&(Ee(t)?t[h]:t),n,i,s));return}if(fa(i)&&!s)return;const r=i.shapeFlag&4?qh(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,A=t&&t.r,u=a.refs===lt?a.refs={}:a.refs,c=a.setupState;if(A!=null&&A!==l&&(gt(A)?(u[A]=null,Ve(c,A)&&(c[A]=null)):dn(A)&&(A.value=null)),Oe(l))ar(l,a,12,[o,u]);else{const d=gt(l),h=dn(l);if(d||h){const p=()=>{if(e.f){const m=d?Ve(c,l)?c[l]:u[l]:l.value;s?Ee(m)&&Uy(m,r):Ee(m)?m.includes(r)||m.push(r):d?(u[l]=[r],Ve(c,l)&&(c[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else d?(u[l]=o,Ve(c,l)&&(c[l]=o)):h&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,Wt(p,n)):p()}}}const Wt=vO;function jO(e){return WO(e)}function WO(e,t){const n=IL();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:A,setElementText:u,parentNode:c,nextSibling:d,setScopeId:h=bi,insertStaticContent:p}=e,m=(x,T,K,G=null,W=null,ne=null,le=!1,te=null,ie=!!T.dynamicChildren)=>{if(x===T)return;x&&!Xs(x,T)&&(G=se(x),We(x,W,ne,!0),x=null),T.patchFlag===-2&&(ie=!1,T.dynamicChildren=null);const{type:X,ref:_e,shapeFlag:pe}=T;switch(X){case jh:g(x,T,K,G);break;case oi:w(x,T,K,G);break;case Yc:x==null&&v(T,K,G,le);break;case J:R(x,T,K,G,W,ne,le,te,ie);break;default:pe&1?E(x,T,K,G,W,ne,le,te,ie):pe&6?D(x,T,K,G,W,ne,le,te,ie):(pe&64||pe&128)&&X.process(x,T,K,G,W,ne,le,te,ie,Me)}_e!=null&&W&&Ng(_e,x&&x.ref,ne,T||x,!T)},g=(x,T,K,G)=>{if(x==null)i(T.el=a(T.children),K,G);else{const W=T.el=x.el;T.children!==x.children&&A(W,T.children)}},w=(x,T,K,G)=>{x==null?i(T.el=l(T.children||""),K,G):T.el=x.el},v=(x,T,K,G)=>{[x.el,x.anchor]=p(x.children,T,K,G,x.el,x.anchor)},C=({el:x,anchor:T},K,G)=>{let W;for(;x&&x!==T;)W=d(x),i(x,K,G),x=W;i(T,K,G)},B=({el:x,anchor:T})=>{let K;for(;x&&x!==T;)K=d(x),s(x),x=K;s(T)},E=(x,T,K,G,W,ne,le,te,ie)=>{le=le||T.type==="svg",x==null?S(T,K,G,W,ne,le,te,ie):Q(x,T,W,ne,le,te,ie)},S=(x,T,K,G,W,ne,le,te)=>{let ie,X;const{type:_e,props:pe,shapeFlag:we,transition:Ie,dirs:De}=x;if(ie=x.el=o(x.type,ne,pe&&pe.is,pe),we&8?u(ie,x.children):we&16&&U(x.children,ie,null,G,W,ne&&_e!=="foreignObject",le,te),De&&Fr(x,null,G,"created"),F(ie,x,x.scopeId,le,G),pe){for(const Ge in pe)Ge!=="value"&&!Xc(Ge)&&r(ie,Ge,null,pe[Ge],ne,x.children,G,W,oe);"value"in pe&&r(ie,"value",null,pe.value),(X=pe.onVnodeBeforeMount)&&Zn(X,G,x)}De&&Fr(x,null,G,"beforeMount");const Ye=(!W||W&&!W.pendingBranch)&&Ie&&!Ie.persisted;Ye&&Ie.beforeEnter(ie),i(ie,T,K),((X=pe&&pe.onVnodeMounted)||Ye||De)&&Wt(()=>{X&&Zn(X,G,x),Ye&&Ie.enter(ie),De&&Fr(x,null,G,"mounted")},W)},F=(x,T,K,G,W)=>{if(K&&h(x,K),G)for(let ne=0;ne<G.length;ne++)h(x,G[ne]);if(W){let ne=W.subTree;if(T===ne){const le=W.vnode;F(x,le,le.scopeId,le.slotScopeIds,W.parent)}}},U=(x,T,K,G,W,ne,le,te,ie=0)=>{for(let X=ie;X<x.length;X++){const _e=x[X]=te?Vs(x[X]):Mi(x[X]);m(null,_e,T,K,G,W,ne,le,te)}},Q=(x,T,K,G,W,ne,le)=>{const te=T.el=x.el;let{patchFlag:ie,dynamicChildren:X,dirs:_e}=T;ie|=x.patchFlag&16;const pe=x.props||lt,we=T.props||lt;let Ie;K&&Ur(K,!1),(Ie=we.onVnodeBeforeUpdate)&&Zn(Ie,K,T,x),_e&&Fr(T,x,K,"beforeUpdate"),K&&Ur(K,!0);const De=W&&T.type!=="foreignObject";if(X?k(x.dynamicChildren,X,te,K,G,De,ne):le||ae(x,T,te,null,K,G,De,ne,!1),ie>0){if(ie&16)L(te,T,pe,we,K,G,W);else if(ie&2&&pe.class!==we.class&&r(te,"class",null,we.class,W),ie&4&&r(te,"style",pe.style,we.style,W),ie&8){const Ye=T.dynamicProps;for(let Ge=0;Ge<Ye.length;Ge++){const St=Ye[Ge],ci=pe[St],Lo=we[St];(Lo!==ci||St==="value")&&r(te,St,ci,Lo,W,x.children,K,G,oe)}}ie&1&&x.children!==T.children&&u(te,T.children)}else!le&&X==null&&L(te,T,pe,we,K,G,W);((Ie=we.onVnodeUpdated)||_e)&&Wt(()=>{Ie&&Zn(Ie,K,T,x),_e&&Fr(T,x,K,"updated")},G)},k=(x,T,K,G,W,ne,le)=>{for(let te=0;te<T.length;te++){const ie=x[te],X=T[te],_e=ie.el&&(ie.type===J||!Xs(ie,X)||ie.shapeFlag&70)?c(ie.el):K;m(ie,X,_e,null,G,W,ne,le,!0)}},L=(x,T,K,G,W,ne,le)=>{if(K!==G){if(K!==lt)for(const te in K)!Xc(te)&&!(te in G)&&r(x,te,K[te],null,le,T.children,W,ne,oe);for(const te in G){if(Xc(te))continue;const ie=G[te],X=K[te];ie!==X&&te!=="value"&&r(x,te,X,ie,le,T.children,W,ne,oe)}"value"in G&&r(x,"value",K.value,G.value)}},R=(x,T,K,G,W,ne,le,te,ie)=>{const X=T.el=x?x.el:a(""),_e=T.anchor=x?x.anchor:a("");let{patchFlag:pe,dynamicChildren:we,slotScopeIds:Ie}=T;Ie&&(te=te?te.concat(Ie):Ie),x==null?(i(X,K,G),i(_e,K,G),U(T.children,K,_e,W,ne,le,te,ie)):pe>0&&pe&64&&we&&x.dynamicChildren?(k(x.dynamicChildren,we,K,W,ne,le,te),(T.key!=null||W&&T===W.subTree)&&Xy(x,T,!0)):ae(x,T,K,_e,W,ne,le,te,ie)},D=(x,T,K,G,W,ne,le,te,ie)=>{T.slotScopeIds=te,x==null?T.shapeFlag&512?W.ctx.activate(T,K,G,le,ie):z(T,K,G,W,ne,le,ie):ce(x,T,ie)},z=(x,T,K,G,W,ne,le)=>{const te=x.component=oR(x,G,W);if(Gh(x)&&(te.ctx.renderer=Me),aR(te),te.asyncDep){if(W&&W.registerDep(te,Y),!x.el){const ie=te.subTree=b(oi);w(null,ie,T,K)}return}Y(te,x,T,K,W,ne,le)},ce=(x,T,K)=>{const G=T.component=x.component;if(mO(x,T,K))if(G.asyncDep&&!G.asyncResolved){q(G,T,K);return}else G.next=T,cO(G.update),G.update();else T.el=x.el,G.vnode=T},Y=(x,T,K,G,W,ne,le)=>{const te=()=>{if(x.isMounted){let{next:_e,bu:pe,u:we,parent:Ie,vnode:De}=x,Ye=_e,Ge;Ur(x,!1),_e?(_e.el=De.el,q(x,_e,le)):_e=De,pe&&ua(pe),(Ge=_e.props&&_e.props.onVnodeBeforeUpdate)&&Zn(Ge,Ie,_e,De),Ur(x,!0);const St=gp(x),ci=x.subTree;x.subTree=St,m(ci,St,c(ci.el),se(ci),x,W,ne),_e.el=St.el,Ye===null&&yO(x,St.el),we&&Wt(we,W),(Ge=_e.props&&_e.props.onVnodeUpdated)&&Wt(()=>Zn(Ge,Ie,_e,De),W)}else{let _e;const{el:pe,props:we}=T,{bm:Ie,m:De,parent:Ye}=x,Ge=fa(T);if(Ur(x,!1),Ie&&ua(Ie),!Ge&&(_e=we&&we.onVnodeBeforeMount)&&Zn(_e,Ye,T),Ur(x,!0),pe&&Qe){const St=()=>{x.subTree=gp(x),Qe(pe,x.subTree,x,W,null)};Ge?T.type.__asyncLoader().then(()=>!x.isUnmounted&&St()):St()}else{const St=x.subTree=gp(x);m(null,St,K,G,x,W,ne),T.el=St.el}if(De&&Wt(De,W),!Ge&&(_e=we&&we.onVnodeMounted)){const St=T;Wt(()=>Zn(_e,Ye,St),W)}(T.shapeFlag&256||Ye&&fa(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&x.a&&Wt(x.a,W),x.isMounted=!0,T=K=G=null}},ie=x.effect=new Ly(te,()=>Ny(X),x.scope),X=x.update=()=>ie.run();X.id=x.uid,Ur(x,!0),X()},q=(x,T,K)=>{T.component=x;const G=x.vnode.props;x.vnode=T,x.next=null,NO(x,T.props,G,K),$O(x,T.children,K),qa(),J_(),Xa()},ae=(x,T,K,G,W,ne,le,te,ie=!1)=>{const X=x&&x.children,_e=x?x.shapeFlag:0,pe=T.children,{patchFlag:we,shapeFlag:Ie}=T;if(we>0){if(we&128){Ne(X,pe,K,G,W,ne,le,te,ie);return}else if(we&256){ve(X,pe,K,G,W,ne,le,te,ie);return}}Ie&8?(_e&16&&oe(X,W,ne),pe!==X&&u(K,pe)):_e&16?Ie&16?Ne(X,pe,K,G,W,ne,le,te,ie):oe(X,W,ne,!0):(_e&8&&u(K,""),Ie&16&&U(pe,K,G,W,ne,le,te,ie))},ve=(x,T,K,G,W,ne,le,te,ie)=>{x=x||la,T=T||la;const X=x.length,_e=T.length,pe=Math.min(X,_e);let we;for(we=0;we<pe;we++){const Ie=T[we]=ie?Vs(T[we]):Mi(T[we]);m(x[we],Ie,K,null,W,ne,le,te,ie)}X>_e?oe(x,W,ne,!0,!1,pe):U(T,K,G,W,ne,le,te,ie,pe)},Ne=(x,T,K,G,W,ne,le,te,ie)=>{let X=0;const _e=T.length;let pe=x.length-1,we=_e-1;for(;X<=pe&&X<=we;){const Ie=x[X],De=T[X]=ie?Vs(T[X]):Mi(T[X]);if(Xs(Ie,De))m(Ie,De,K,null,W,ne,le,te,ie);else break;X++}for(;X<=pe&&X<=we;){const Ie=x[pe],De=T[we]=ie?Vs(T[we]):Mi(T[we]);if(Xs(Ie,De))m(Ie,De,K,null,W,ne,le,te,ie);else break;pe--,we--}if(X>pe){if(X<=we){const Ie=we+1,De=Ie<_e?T[Ie].el:G;for(;X<=we;)m(null,T[X]=ie?Vs(T[X]):Mi(T[X]),K,De,W,ne,le,te,ie),X++}}else if(X>we)for(;X<=pe;)We(x[X],W,ne,!0),X++;else{const Ie=X,De=X,Ye=new Map;for(X=De;X<=we;X++){const Nn=T[X]=ie?Vs(T[X]):Mi(T[X]);Nn.key!=null&&Ye.set(Nn.key,X)}let Ge,St=0;const ci=we-De+1;let Lo=!1,H_=0;const pl=new Array(ci);for(X=0;X<ci;X++)pl[X]=0;for(X=Ie;X<=pe;X++){const Nn=x[X];if(St>=ci){We(Nn,W,ne,!0);continue}let Ri;if(Nn.key!=null)Ri=Ye.get(Nn.key);else for(Ge=De;Ge<=we;Ge++)if(pl[Ge-De]===0&&Xs(Nn,T[Ge])){Ri=Ge;break}Ri===void 0?We(Nn,W,ne,!0):(pl[Ri-De]=X+1,Ri>=H_?H_=Ri:Lo=!0,m(Nn,T[Ri],K,null,W,ne,le,te,ie),St++)}const N_=Lo?qO(pl):la;for(Ge=N_.length-1,X=ci-1;X>=0;X--){const Nn=De+X,Ri=T[Nn],K_=Nn+1<_e?T[Nn+1].el:G;pl[X]===0?m(null,Ri,K,K_,W,ne,le,te,ie):Lo&&(Ge<0||X!==N_[Ge]?tt(Ri,K,K_,2):Ge--)}}},tt=(x,T,K,G,W=null)=>{const{el:ne,type:le,transition:te,children:ie,shapeFlag:X}=x;if(X&6){tt(x.component.subTree,T,K,G);return}if(X&128){x.suspense.move(T,K,G);return}if(X&64){le.move(x,T,K,Me);return}if(le===J){i(ne,T,K);for(let pe=0;pe<ie.length;pe++)tt(ie[pe],T,K,G);i(x.anchor,T,K);return}if(le===Yc){C(x,T,K);return}if(G!==2&&X&1&&te)if(G===0)te.beforeEnter(ne),i(ne,T,K),Wt(()=>te.enter(ne),W);else{const{leave:pe,delayLeave:we,afterLeave:Ie}=te,De=()=>i(ne,T,K),Ye=()=>{pe(ne,()=>{De(),Ie&&Ie()})};we?we(ne,De,Ye):Ye()}else i(ne,T,K)},We=(x,T,K,G=!1,W=!1)=>{const{type:ne,props:le,ref:te,children:ie,dynamicChildren:X,shapeFlag:_e,patchFlag:pe,dirs:we}=x;if(te!=null&&Ng(te,null,K,x,!0),_e&256){T.ctx.deactivate(x);return}const Ie=_e&1&&we,De=!fa(x);let Ye;if(De&&(Ye=le&&le.onVnodeBeforeUnmount)&&Zn(Ye,T,x),_e&6)V(x.component,K,G);else{if(_e&128){x.suspense.unmount(K,G);return}Ie&&Fr(x,null,T,"beforeUnmount"),_e&64?x.type.remove(x,T,K,W,Me,G):X&&(ne!==J||pe>0&&pe&64)?oe(X,T,K,!1,!0):(ne===J&&pe&384||!W&&_e&16)&&oe(ie,T,K),G&&Ct(x)}(De&&(Ye=le&&le.onVnodeUnmounted)||Ie)&&Wt(()=>{Ye&&Zn(Ye,T,x),Ie&&Fr(x,null,T,"unmounted")},K)},Ct=x=>{const{type:T,el:K,anchor:G,transition:W}=x;if(T===J){Ot(K,G);return}if(T===Yc){B(x);return}const ne=()=>{s(K),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(x.shapeFlag&1&&W&&!W.persisted){const{leave:le,delayLeave:te}=W,ie=()=>le(K,ne);te?te(x.el,ne,ie):ie()}else ne()},Ot=(x,T)=>{let K;for(;x!==T;)K=d(x),s(x),x=K;s(T)},V=(x,T,K)=>{const{bum:G,scope:W,update:ne,subTree:le,um:te}=x;G&&ua(G),W.stop(),ne&&(ne.active=!1,We(le,x,T,K)),te&&Wt(te,T),Wt(()=>{x.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},oe=(x,T,K,G=!1,W=!1,ne=0)=>{for(let le=ne;le<x.length;le++)We(x[le],T,K,G,W)},se=x=>x.shapeFlag&6?se(x.component.subTree):x.shapeFlag&128?x.suspense.next():d(x.anchor||x.el),ge=(x,T,K)=>{x==null?T._vnode&&We(T._vnode,null,null,!0):m(T._vnode||null,x,T,null,null,null,K),J_(),_1(),T._vnode=x},Me={p:m,um:We,m:tt,r:Ct,mt:z,mc:U,pc:ae,pbc:k,n:se,o:e};let at,Qe;return t&&([at,Qe]=t(Me)),{render:ge,hydrate:at,createApp:zO(ge,at)}}function Ur({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Xy(e,t,n=!1){const i=e.children,s=t.children;if(Ee(i)&&Ee(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Vs(s[r]),a.el=o.el),n||Xy(o,a)),a.type===jh&&(a.el=o.el)}}function qO(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const A=e[i];if(A!==0){if(s=n[n.length-1],e[s]<A){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<A?r=a+1:o=a;A<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const XO=e=>e.__isTeleport,jl=e=>e&&(e.disabled||e.disabled===""),ab=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Kg=(e,t)=>{const n=e&&e.to;return gt(n)?t?t(n):null:n},JO={__isTeleport:!0,process(e,t,n,i,s,r,o,a,l,A){const{mc:u,pc:c,pbc:d,o:{insert:h,querySelector:p,createText:m,createComment:g}}=A,w=jl(t.props);let{shapeFlag:v,children:C,dynamicChildren:B}=t;if(e==null){const E=t.el=m(""),S=t.anchor=m("");h(E,n,i),h(S,n,i);const F=t.target=Kg(t.props,p),U=t.targetAnchor=m("");F&&(h(U,F),o=o||ab(F));const Q=(k,L)=>{v&16&&u(C,k,L,s,r,o,a,l)};w?Q(n,S):F&&Q(F,U)}else{t.el=e.el;const E=t.anchor=e.anchor,S=t.target=e.target,F=t.targetAnchor=e.targetAnchor,U=jl(e.props),Q=U?n:S,k=U?E:F;if(o=o||ab(S),B?(d(e.dynamicChildren,B,Q,s,r,o,a),Xy(e,t,!0)):l||c(e,t,Q,k,s,r,o,a,!1),w)U||Yu(t,n,E,A,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const L=t.target=Kg(t.props,p);L&&Yu(t,L,null,A,0)}else U&&Yu(t,S,F,A,1)}P1(t)},remove(e,t,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:A,targetAnchor:u,target:c,props:d}=e;if(c&&r(u),(o||!jl(d))&&(r(A),a&16))for(let h=0;h<l.length;h++){const p=l[h];s(p,t,n,!0,!!p.dynamicChildren)}},move:Yu,hydrate:YO};function Yu(e,t,n,{o:{insert:i},m:s},r=2){r===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:A,props:u}=e,c=r===2;if(c&&i(o,t,n),(!c||jl(u))&&l&16)for(let d=0;d<A.length;d++)s(A[d],t,n,2);c&&i(a,t,n)}function YO(e,t,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},A){const u=t.target=Kg(t.props,l);if(u){const c=u._lpa||u.firstChild;if(t.shapeFlag&16)if(jl(t.props))t.anchor=A(o(e),t,a(e),n,i,s,r),t.targetAnchor=c;else{t.anchor=o(e);let d=c;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}A(c,t,u,n,i,s,r)}P1(t)}return t.anchor&&o(t.anchor)}const ZO=JO;function P1(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const J=Symbol(void 0),jh=Symbol(void 0),oi=Symbol(void 0),Yc=Symbol(void 0),Wl=[];let yi=null;function y(e=!1){Wl.push(yi=e?null:[])}function eR(){Wl.pop(),yi=Wl[Wl.length-1]||null}let mA=1;function lb(e){mA+=e}function H1(e){return e.dynamicChildren=mA>0?yi||la:null,eR(),mA>0&&yi&&yi.push(e),e}function _(e,t,n,i,s,r){return H1(f(e,t,n,i,s,r,!0))}function ee(e,t,n,i,s){return H1(b(e,t,n,i,s,!0))}function yA(e){return e?e.__v_isVNode===!0:!1}function Xs(e,t){return e.type===t.type&&e.key===t.key}const Wh="__vInternal",N1=({key:e})=>e!=null?e:null,Zc=({ref:e,ref_key:t,ref_for:n})=>e!=null?gt(e)||dn(e)||Oe(e)?{i:Jt,r:e,k:t,f:!!n}:e:null;function f(e,t=null,n=null,i=0,s=null,r=e===J?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&N1(t),ref:t&&Zc(t),scopeId:$h,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return a?(Jy(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=gt(n)?8:16),mA>0&&!o&&yi&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&yi.push(l),l}const b=tR;function tR(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===U1)&&(e=oi),yA(e)){const a=ji(e,t,!0);return n&&Jy(a,n),mA>0&&!r&&yi&&(a.shapeFlag&6?yi[yi.indexOf(e)]=a:yi.push(a)),a.patchFlag|=-2,a}if(cR(e)&&(e=e.__vccOpts),t){t=nR(t);let{class:a,style:l}=t;a&&!gt(a)&&(t.class=P(a)),ct(l)&&(d1(l)&&!Ee(l)&&(l=Gt({},l)),t.style=Re(l))}const o=gt(e)?1:C1(e)?128:XO(e)?64:ct(e)?4:Oe(e)?2:0;return f(e,t,n,i,s,o,r,!0)}function nR(e){return e?d1(e)||Wh in e?Gt({},e):e:null}function ji(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,a=t?Ue(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&N1(a),ref:t&&t.ref?n&&s?Ee(s)?s.concat(Zc(t)):[s,Zc(t)]:Zc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==J?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ji(e.ssContent),ssFallback:e.ssFallback&&ji(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function he(e=" ",t=0){return b(jh,null,e,t)}function iR(e,t){const n=b(Yc,null,e);return n.staticCount=t,n}function H(e="",t=!1){return t?(y(),ee(oi,null,e)):b(oi,null,e)}function Mi(e){return e==null||typeof e=="boolean"?b(oi):Ee(e)?b(J,null,e.slice()):typeof e=="object"?Vs(e):b(jh,null,String(e))}function Vs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ji(e)}function Jy(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ee(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Jy(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Wh in t)?t._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Oe(t)?(t={default:t,_ctx:Jt},n=32):(t=String(t),i&64?(n=16,t=[he(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ue(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=P([t.class,i.class]));else if(s==="style")t.style=Re([t.style,i.style]);else if(Mh(s)){const r=t[s],o=i[s];o&&r!==o&&!(Ee(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function Zn(e,t,n,i=null){ri(e,t,7,[n,i])}const sR=M1();let rR=0;function oR(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||sR,r={uid:rR++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new e1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:L1(i,s),emitsOptions:B1(i,s),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:i.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=fO.bind(null,r),e.ce&&e.ce(r),r}let It=null;const Yy=()=>It||Jt,Ca=e=>{It=e,e.scope.on()},Zr=()=>{It&&It.scope.off(),It=null};function K1(e){return e.vnode.shapeFlag&4}let vA=!1;function aR(e,t=!1){vA=t;const{props:n,children:i}=e.vnode,s=K1(e);HO(e,n,s,t),VO(e,i);const r=s?lR(e,t):void 0;return vA=!1,r}function lR(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=h1(new Proxy(e.ctx,LO));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?uR(e):null;Ca(e),qa();const r=ar(i,e,0,[e.props,s]);if(Xa(),Zr(),Jx(r)){if(r.then(Zr,Zr),t)return r.then(o=>{Ab(e,o,t)}).catch(o=>{Kh(o,e,0)});e.asyncDep=r}else Ab(e,r,t)}else V1(e,t)}function Ab(e,t,n){Oe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ct(t)&&(e.setupState=m1(t)),V1(e,n)}let ub;function V1(e,t,n){const i=e.type;if(!e.render){if(!t&&ub&&!i.render){const s=i.template||Wy(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,A=Gt(Gt({isCustomElement:r,delimiters:a},o),l);i.render=ub(s,A)}}e.render=i.render||bi}Ca(e),qa(),OO(e),Xa(),Zr()}function AR(e){return new Proxy(e.attrs,{get(t,n){return Qn(e,"get","$attrs"),t[n]}})}function uR(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=AR(e))},slots:e.slots,emit:e.emit,expose:t}}function qh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(m1(h1(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zl)return zl[n](e)},has(t,n){return n in t||n in zl}}))}function Vg(e,t=!0){return Oe(e)?e.displayName||e.name:e.name||t&&e.__name}function cR(e){return Oe(e)&&"__vccOpts"in e}const it=(e,t)=>lO(e,t,vA);function Xh(e,t,n){const i=arguments.length;return i===2?ct(t)&&!Ee(t)?yA(t)?b(e,null,[t]):b(e,t):b(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&yA(n)&&(n=[n]),b(e,t,n))}const dR=Symbol(""),hR=()=>jn(dR),fR="3.2.47",pR="http://www.w3.org/2000/svg",Dr=typeof document!="undefined"?document:null,cb=Dr&&Dr.createElement("template"),gR={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?Dr.createElementNS(pR,e):Dr.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>Dr.createTextNode(e),createComment:e=>Dr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{cb.innerHTML=i?`<svg>${e}</svg>`:e;const a=cb.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function mR(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function yR(e,t,n){const i=e.style,s=gt(n);if(n&&!s){if(t&&!gt(t))for(const r in t)n[r]==null&&$g(i,r,"");for(const r in n)$g(i,r,n[r])}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const db=/\s*!important$/;function $g(e,t,n){if(Ee(n))n.forEach(i=>$g(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=vR(e,t);db.test(n)?e.setProperty(yo(i),n.replace(db,""),"important"):e[i]=n}}const hb=["Webkit","Moz","ms"],_p={};function vR(e,t){const n=_p[t];if(n)return n;let i=zi(t);if(i!=="filter"&&i in e)return _p[t]=i;i=Hh(i);for(let s=0;s<hb.length;s++){const r=hb[s]+i;if(r in e)return _p[t]=r}return t}const fb="http://www.w3.org/1999/xlink";function wR(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(fb,t.slice(6,t.length)):e.setAttributeNS(fb,t,n);else{const r=yL(t);n==null||r&&!Wx(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function _R(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const l=n==null?"":n;(e.value!==l||e.tagName==="OPTION")&&(e.value=l),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Wx(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function qo(e,t,n,i){e.addEventListener(t,n,i)}function bR(e,t,n,i){e.removeEventListener(t,n,i)}function BR(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=CR(t);if(i){const A=r[t]=IR(i,s);qo(e,a,A,l)}else o&&(bR(e,a,o,l),r[t]=void 0)}}const pb=/(?:Once|Passive|Capture)$/;function CR(e){let t;if(pb.test(e)){t={};let i;for(;i=e.match(pb);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):yo(e.slice(2)),t]}let bp=0;const xR=Promise.resolve(),ER=()=>bp||(xR.then(()=>bp=0),bp=Date.now());function IR(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ri(SR(i,n.value),t,5,[i])};return n.value=e,n.attached=ER(),n}function SR(e,t){if(Ee(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const gb=/^on[a-z]/,FR=(e,t,n,i,s=!1,r,o,a,l)=>{t==="class"?mR(e,i,s):t==="style"?yR(e,n,i):Mh(t)?Fy(t)||BR(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):UR(e,t,i,s))?_R(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),wR(e,t,i,s))};function UR(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&gb.test(t)&&Oe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||gb.test(t)&&gt(n)?!1:t in e}const Ds="transition",gl="animation",Dn=(e,{slots:t})=>Xh(I1,G1(e),t);Dn.displayName="Transition";const $1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TR=Dn.props=Gt({},I1.props,$1),Tr=(e,t=[])=>{Ee(e)?e.forEach(n=>n(...t)):e&&e(...t)},mb=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function G1(e){const t={};for(const R in e)R in $1||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:A=o,appearToClass:u=a,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=kR(s),m=p&&p[0],g=p&&p[1],{onBeforeEnter:w,onEnter:v,onEnterCancelled:C,onLeave:B,onLeaveCancelled:E,onBeforeAppear:S=w,onAppear:F=v,onAppearCancelled:U=C}=t,Q=(R,D,z)=>{Hs(R,D?u:a),Hs(R,D?A:o),z&&z()},k=(R,D)=>{R._isLeaving=!1,Hs(R,c),Hs(R,h),Hs(R,d),D&&D()},L=R=>(D,z)=>{const ce=R?F:v,Y=()=>Q(D,R,z);Tr(ce,[D,Y]),yb(()=>{Hs(D,R?l:r),us(D,R?u:a),mb(ce)||vb(D,i,m,Y)})};return Gt(t,{onBeforeEnter(R){Tr(w,[R]),us(R,r),us(R,o)},onBeforeAppear(R){Tr(S,[R]),us(R,l),us(R,A)},onEnter:L(!1),onAppear:L(!0),onLeave(R,D){R._isLeaving=!0;const z=()=>k(R,D);us(R,c),j1(),us(R,d),yb(()=>{!R._isLeaving||(Hs(R,c),us(R,h),mb(B)||vb(R,i,g,z))}),Tr(B,[R,z])},onEnterCancelled(R){Q(R,!1),Tr(C,[R])},onAppearCancelled(R){Q(R,!0),Tr(U,[R])},onLeaveCancelled(R){k(R),Tr(E,[R])}})}function kR(e){if(e==null)return null;if(ct(e))return[Bp(e.enter),Bp(e.leave)];{const t=Bp(e);return[t,t]}}function Bp(e){return EL(e)}function us(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Hs(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function yb(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let QR=0;function vb(e,t,n,i){const s=e._endId=++QR,r=()=>{s===e._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=z1(e,t);if(!o)return i();const A=o+"end";let u=0;const c=()=>{e.removeEventListener(A,d),r()},d=h=>{h.target===e&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},a+1),e.addEventListener(A,d)}function z1(e,t){const n=window.getComputedStyle(e),i=p=>(n[p]||"").split(", "),s=i(`${Ds}Delay`),r=i(`${Ds}Duration`),o=wb(s,r),a=i(`${gl}Delay`),l=i(`${gl}Duration`),A=wb(a,l);let u=null,c=0,d=0;t===Ds?o>0&&(u=Ds,c=o,d=r.length):t===gl?A>0&&(u=gl,c=A,d=l.length):(c=Math.max(o,A),u=c>0?o>A?Ds:gl:null,d=u?u===Ds?r.length:l.length:0);const h=u===Ds&&/\b(transform|all)(,|$)/.test(i(`${Ds}Property`).toString());return{type:u,timeout:c,propCount:d,hasTransform:h}}function wb(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>_b(n)+_b(e[i])))}function _b(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function j1(){return document.body.offsetHeight}const W1=new WeakMap,q1=new WeakMap,X1={name:"TransitionGroup",props:Gt({},TR,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Yy(),i=E1();let s,r;return $y(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!PR(s[0].el,n.vnode.el,o))return;s.forEach(RR),s.forEach(DR);const a=s.filter(MR);j1(),a.forEach(l=>{const A=l.el,u=A.style;us(A,o),u.transform=u.webkitTransform=u.transitionDuration="";const c=A._moveCb=d=>{d&&d.target!==A||(!d||/transform$/.test(d.propertyName))&&(A.removeEventListener("transitionend",c),A._moveCb=null,Hs(A,o))};A.addEventListener("transitionend",c)})}),()=>{const o=$e(e),a=G1(o);let l=o.tag||J;s=r,r=t.default?Vy(t.default()):[];for(let A=0;A<r.length;A++){const u=r[A];u.key!=null&&Ba(u,pA(u,a,i,n))}if(s)for(let A=0;A<s.length;A++){const u=s[A];Ba(u,pA(u,a,i,n)),W1.set(u,u.el.getBoundingClientRect())}return b(l,null,r)}}},LR=e=>delete e.mode;X1.props;const OR=X1;function RR(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function DR(e){q1.set(e,e.el.getBoundingClientRect())}function MR(e){const t=W1.get(e),n=q1.get(e),i=t.left-n.left,s=t.top-n.top;if(i||s){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",e}}function PR(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:r}=z1(i);return s.removeChild(i),r}const bb=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?n=>ua(t,n):t};function HR(e){e.target.composing=!0}function Bb(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const NR={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=bb(s);const r=i||s.props&&s.props.type==="number";qo(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Tg(a)),e._assign(a)}),n&&qo(e,"change",()=>{e.value=e.value.trim()}),t||(qo(e,"compositionstart",HR),qo(e,"compositionend",Bb),qo(e,"change",Bb))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=bb(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(s||e.type==="number")&&Tg(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},KR=["ctrl","shift","alt","meta"],VR={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>KR.some(n=>e[`${n}Key`]&&!t.includes(n))},Jh=(e,t)=>(n,...i)=>{for(let s=0;s<t.length;s++){const r=VR[t[s]];if(r&&r(n,t))return}return e(n,...i)},$R={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bi=(e,t)=>n=>{if(!("key"in n))return;const i=yo(n.key);if(t.some(s=>s===i||$R[s]===i))return e(n)},xe={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ml(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),ml(e,!0),i.enter(e)):i.leave(e,()=>{ml(e,!1)}):ml(e,t))},beforeUnmount(e,{value:t}){ml(e,t)}};function ml(e,t){e.style.display=t?e._vod:"none"}const GR=Gt({patchProp:FR},gR);let Cb;function zR(){return Cb||(Cb=jO(GR))}const jR=(...e)=>{const t=zR().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=WR(i);if(!s)return;const r=t._component;!Oe(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function WR(e){return gt(e)?document.querySelector(e):e}function qR(){return J1().__VUE_DEVTOOLS_GLOBAL_HOOK__}function J1(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const XR=typeof Proxy=="function",JR="devtools-plugin:setup",YR="plugin:settings:set";let Oo,Gg;function ZR(){var e;return Oo!==void 0||(typeof window!="undefined"&&window.performance?(Oo=!0,Gg=window.performance):typeof global!="undefined"&&((e=global.perf_hooks)===null||e===void 0?void 0:e.performance)?(Oo=!0,Gg=global.perf_hooks.performance):Oo=!1),Oo}function eD(){return ZR()?Gg.now():Date.now()}class tD{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const i={};if(t.settings)for(const o in t.settings){const a=t.settings[o];i[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},i);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(r,a)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}r=o},now(){return eD()}},n&&n.on(YR,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(A=>{this.targetQueue.push({method:a,args:l,resolve:A})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function nD(e,t){const n=e,i=J1(),s=qR(),r=XR&&n.enableEarlyProxy;if(s&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))s.emit(JR,e,t);else{const o=r?new tD(n,s):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var iD="store";function Ja(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function sD(e){return e!==null&&typeof e=="object"}function rD(e){return e&&typeof e.then=="function"}function oD(e,t){return function(){return e(t)}}function Y1(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function Z1(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Yh(e,n,[],e._modules.root,!0),Zy(e,n,t)}function Zy(e,t,n){var i=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,o={},a={},l=SL(!0);l.run(function(){Ja(r,function(A,u){o[u]=oD(A,e),a[u]=it(function(){return o[u]()}),Object.defineProperty(e.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),e._state=vo({data:t}),e._scope=l,e.strict&&cD(e),i&&n&&e._withCommit(function(){i.data=null}),s&&s.stop()}function Yh(e,t,n,i,s){var r=!n.length,o=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=i),!r&&!s){var a=ev(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=i.state})}var A=i.context=aD(e,o,n);i.forEachMutation(function(u,c){var d=o+c;lD(e,d,u,A)}),i.forEachAction(function(u,c){var d=u.root?c:o+c,h=u.handler||u;AD(e,d,h,A)}),i.forEachGetter(function(u,c){var d=o+c;uD(e,d,u,A)}),i.forEachChild(function(u,c){Yh(e,t,n.concat(c),u,s)})}function aD(e,t,n){var i=t==="",s={dispatch:i?e.dispatch:function(r,o,a){var l=Ed(r,o,a),A=l.payload,u=l.options,c=l.type;return(!u||!u.root)&&(c=t+c),e.dispatch(c,A)},commit:i?e.commit:function(r,o,a){var l=Ed(r,o,a),A=l.payload,u=l.options,c=l.type;(!u||!u.root)&&(c=t+c),e.commit(c,A,u)}};return Object.defineProperties(s,{getters:{get:i?function(){return e.getters}:function(){return eE(e,t)}},state:{get:function(){return ev(e.state,n)}}}),s}function eE(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,i)===t){var r=s.slice(i);Object.defineProperty(n,r,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function lD(e,t,n,i){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(o){n.call(e,i.state,o)})}function AD(e,t,n,i){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(o){var a=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},o);return rD(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function uD(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(r){return n(i.state,i.getters,r.state,r.getters)})}function cD(e){Yr(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function ev(e,t){return t.reduce(function(n,i){return n[i]},e)}function Ed(e,t,n){return sD(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var dD="vuex bindings",xb="vuex:mutations",Cp="vuex:actions",Ro="vuex",hD=0;function fD(e,t){nD({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[dD]},function(n){n.addTimelineLayer({id:xb,label:"Vuex Mutations",color:Eb}),n.addTimelineLayer({id:Cp,label:"Vuex Actions",color:Eb}),n.addInspector({id:Ro,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(i){if(i.app===e&&i.inspectorId===Ro)if(i.filter){var s=[];sE(s,t._modules.root,i.filter,""),i.rootNodes=s}else i.rootNodes=[iE(t._modules.root,"")]}),n.on.getInspectorState(function(i){if(i.app===e&&i.inspectorId===Ro){var s=i.nodeId;eE(t,s),i.state=mD(vD(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(i){if(i.app===e&&i.inspectorId===Ro){var s=i.nodeId,r=i.path;s!=="root"&&(r=s.split("/").filter(Boolean).concat(r)),t._withCommit(function(){i.set(t._state.data,r,i.state.value)})}}),t.subscribe(function(i,s){var r={};i.payload&&(r.payload=i.payload),r.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Ro),n.sendInspectorState(Ro),n.addTimelineEvent({layerId:xb,event:{time:Date.now(),title:i.type,data:r}})}),t.subscribeAction({before:function(i,s){var r={};i.payload&&(r.payload=i.payload),i._id=hD++,i._time=Date.now(),r.state=s,n.addTimelineEvent({layerId:Cp,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:r}})},after:function(i,s){var r={},o=Date.now()-i._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},i.payload&&(r.payload=i.payload),r.state=s,n.addTimelineEvent({layerId:Cp,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:r}})}})})}var Eb=8702998,pD=6710886,gD=16777215,tE={label:"namespaced",textColor:gD,backgroundColor:pD};function nE(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function iE(e,t){return{id:t||"root",label:nE(t),tags:e.namespaced?[tE]:[],children:Object.keys(e._children).map(function(n){return iE(e._children[n],t+n+"/")})}}function sE(e,t,n,i){i.includes(n)&&e.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[tE]:[]}),Object.keys(t._children).forEach(function(s){sE(e,t._children[s],n,i+s+"/")})}function mD(e,t,n){t=n==="root"?t:t[n];var i=Object.keys(t),s={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(i.length){var r=yD(t);s.getters=Object.keys(r).map(function(o){return{key:o.endsWith("/")?nE(o):o,editable:!1,value:zg(function(){return r[o]})}})}return s}function yD(e){var t={};return Object.keys(e).forEach(function(n){var i=n.split("/");if(i.length>1){var s=t,r=i.pop();i.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[r]=zg(function(){return e[n]})}else t[n]=zg(function(){return e[n]})}),t}function vD(e,t){var n=t.split("/").filter(function(i){return i});return n.reduce(function(i,s,r){var o=i[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+t+'".');return r===n.length-1?o:o._children},t==="root"?e:e.root._children)}function zg(e){try{return e()}catch(t){return t}}var Ti=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},rE={namespaced:{configurable:!0}};rE.namespaced.get=function(){return!!this._rawModule.namespaced};Ti.prototype.addChild=function(t,n){this._children[t]=n};Ti.prototype.removeChild=function(t){delete this._children[t]};Ti.prototype.getChild=function(t){return this._children[t]};Ti.prototype.hasChild=function(t){return t in this._children};Ti.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Ti.prototype.forEachChild=function(t){Ja(this._children,t)};Ti.prototype.forEachGetter=function(t){this._rawModule.getters&&Ja(this._rawModule.getters,t)};Ti.prototype.forEachAction=function(t){this._rawModule.actions&&Ja(this._rawModule.actions,t)};Ti.prototype.forEachMutation=function(t){this._rawModule.mutations&&Ja(this._rawModule.mutations,t)};Object.defineProperties(Ti.prototype,rE);var wo=function(t){this.register([],t,!1)};wo.prototype.get=function(t){return t.reduce(function(n,i){return n.getChild(i)},this.root)};wo.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(i,s){return n=n.getChild(s),i+(n.namespaced?s+"/":"")},"")};wo.prototype.update=function(t){oE([],this.root,t)};wo.prototype.register=function(t,n,i){var s=this;i===void 0&&(i=!0);var r=new Ti(n,i);if(t.length===0)this.root=r;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],r)}n.modules&&Ja(n.modules,function(a,l){s.register(t.concat(l),a,i)})};wo.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1],s=n.getChild(i);!s||!s.runtime||n.removeChild(i)};wo.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),i=t[t.length-1];return n?n.hasChild(i):!1};function oE(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;oE(e.concat(i),t.getChild(i),n.modules[i])}}function wD(e){return new Mn(e)}var Mn=function(t){var n=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var s=t.strict;s===void 0&&(s=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new wo(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var o=this,a=this,l=a.dispatch,A=a.commit;this.dispatch=function(d,h){return l.call(o,d,h)},this.commit=function(d,h,p){return A.call(o,d,h,p)},this.strict=s;var u=this._modules.root.state;Yh(this,u,[],this._modules.root),Zy(this,u),i.forEach(function(c){return c(n)})},tv={state:{configurable:!0}};Mn.prototype.install=function(t,n){t.provide(n||iD,this),t.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&fD(t,this)};tv.state.get=function(){return this._state.data};tv.state.set=function(e){};Mn.prototype.commit=function(t,n,i){var s=this,r=Ed(t,n,i),o=r.type,a=r.payload,l={type:o,payload:a},A=this._mutations[o];!A||(this._withCommit(function(){A.forEach(function(c){c(a)})}),this._subscribers.slice().forEach(function(u){return u(l,s.state)}))};Mn.prototype.dispatch=function(t,n){var i=this,s=Ed(t,n),r=s.type,o=s.payload,a={type:r,payload:o},l=this._actions[r];if(!!l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,i.state)})}catch{}var A=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,c){A.then(function(d){try{i._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(a,i.state)})}catch{}u(d)},function(d){try{i._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(a,i.state,d)})}catch{}c(d)})})}};Mn.prototype.subscribe=function(t,n){return Y1(t,this._subscribers,n)};Mn.prototype.subscribeAction=function(t,n){var i=typeof t=="function"?{before:t}:t;return Y1(i,this._actionSubscribers,n)};Mn.prototype.watch=function(t,n,i){var s=this;return Yr(function(){return t(s.state,s.getters)},n,Object.assign({},i))};Mn.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Mn.prototype.registerModule=function(t,n,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Yh(this,this.state,t,this._modules.get(t),i.preserveState),Zy(this,this.state)};Mn.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=ev(n.state,t.slice(0,-1));delete i[t[t.length-1]]}),Z1(this)};Mn.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Mn.prototype.hotUpdate=function(t){this._modules.update(t),Z1(this,!0)};Mn.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Mn.prototype,tv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},_D=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,A=l?e[s+2]:0,u=r>>2,c=(r&3)<<4|a>>4;let d=(a&15)<<2|A>>6,h=A&63;l||(h=64,o||(d=64)),i.push(n[u],n[c],n[d],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(aE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):_D(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const A=s<e.length?n[e.charAt(s)]:64;++s;const c=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||a==null||A==null||c==null)throw new bD;const d=r<<2|a>>4;if(i.push(d),A!==64){const h=a<<4&240|A>>2;if(i.push(h),c!==64){const p=A<<6&192|c;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class bD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BD=function(e){const t=aE(e);return nv.encodeByteArray(t,!0)},Id=function(e){return BD(e).replace(/\./g,"")},lE=function(e){try{return nv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=()=>AE().__FIREBASE_DEFAULTS__,xD=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ED=()=>{if(typeof document=="undefined")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&lE(e[1]);return t&&JSON.parse(t)},iv=()=>{try{return CD()||xD()||ED()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uE=e=>{var t,n;return(n=(t=iv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},sv=e=>{const t=uE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},ID=()=>{var e;return(e=iv())===null||e===void 0?void 0:e.config},cE=e=>{var t;return(t=iv())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Id(JSON.stringify(n)),Id(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SD(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function FD(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function UD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){const e=mn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rv(){try{return typeof indexedDB=="object"}catch{return!1}}function kD(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="FirebaseError";class Yi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=QD,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?LD(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Yi(s,a,i)}}function LD(e,t){return e.replace(OD,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const OD=/\{\$([^}]+)}/g;function RD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sd(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],o=t[s];if(Ib(r)&&Ib(o)){if(!Sd(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Ib(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ul(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Tl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function DD(e,t){const n=new MD(e,t);return n.subscribe.bind(n)}class MD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");PD(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=xp),s.error===void 0&&(s.error=xp),s.complete===void 0&&(s.complete=xp);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=1e3,KD=2,VD=4*60*60*1e3,$D=.5;function GD(e,t=ND,n=KD){const i=t*Math.pow(n,e),s=Math.round($D*i*(Math.random()-.5)*2);return Math.min(VD,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(e){return e&&e._delegate?e._delegate:e}class Ci{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new wA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WD(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jD(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jD(e){return e===Lr?void 0:e}function WD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(je||(je={}));const XD={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},JD=je.INFO,YD={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},ZD=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=YD[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zh{constructor(t){this.name=t,this._logLevel=JD,this._logHandler=ZD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in je))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...t),this._logHandler(this,je.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...t),this._logHandler(this,je.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,je.INFO,...t),this._logHandler(this,je.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,je.WARN,...t),this._logHandler(this,je.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...t),this._logHandler(this,je.ERROR,...t)}}const eM=(e,t)=>t.some(n=>e instanceof n);let Sb,Fb;function tM(){return Sb||(Sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nM(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,jg=new WeakMap,fE=new WeakMap,Ep=new WeakMap,ov=new WeakMap;function iM(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Ar(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&hE.set(n,e)}).catch(()=>{}),ov.set(t,e),t}function sM(e){if(jg.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});jg.set(e,t)}let Wg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rM(e){Wg=e(Wg)}function oM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Ip(this),t,...n);return fE.set(i,t.sort?t.sort():[t]),Ar(i)}:nM().includes(e)?function(...t){return e.apply(Ip(this),t),Ar(hE.get(this))}:function(...t){return Ar(e.apply(Ip(this),t))}}function aM(e){return typeof e=="function"?oM(e):(e instanceof IDBTransaction&&sM(e),eM(e,tM())?new Proxy(e,Wg):e)}function Ar(e){if(e instanceof IDBRequest)return iM(e);if(Ep.has(e))return Ep.get(e);const t=aM(e);return t!==e&&(Ep.set(e,t),ov.set(t,e)),t}const Ip=e=>ov.get(e);function lM(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Ar(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ar(o.result),l.oldVersion,l.newVersion,Ar(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const AM=["get","getKey","getAll","getAllKeys","count"],uM=["put","add","delete","clear"],Sp=new Map;function Ub(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Sp.get(t))return Sp.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=uM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||AM.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let A=l.store;return i&&(A=A.index(a.shift())),(await Promise.all([A[n](...a),s&&l.done]))[0]};return Sp.set(t,r),r}rM(e=>({...e,get:(t,n,i)=>Ub(t,n)||e.get(t,n,i),has:(t,n)=>!!Ub(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function dM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qg="@firebase/app",Tb="0.9.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Zh("@firebase/app"),hM="@firebase/app-compat",fM="@firebase/analytics-compat",pM="@firebase/analytics",gM="@firebase/app-check-compat",mM="@firebase/app-check",yM="@firebase/auth",vM="@firebase/auth-compat",wM="@firebase/database",_M="@firebase/database-compat",bM="@firebase/functions",BM="@firebase/functions-compat",CM="@firebase/installations",xM="@firebase/installations-compat",EM="@firebase/messaging",IM="@firebase/messaging-compat",SM="@firebase/performance",FM="@firebase/performance-compat",UM="@firebase/remote-config",TM="@firebase/remote-config-compat",kM="@firebase/storage",QM="@firebase/storage-compat",LM="@firebase/firestore",OM="@firebase/firestore-compat",RM="firebase",DM="9.19.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="[DEFAULT]",MM={[qg]:"fire-core",[hM]:"fire-core-compat",[pM]:"fire-analytics",[fM]:"fire-analytics-compat",[mM]:"fire-app-check",[gM]:"fire-app-check-compat",[yM]:"fire-auth",[vM]:"fire-auth-compat",[wM]:"fire-rtdb",[_M]:"fire-rtdb-compat",[bM]:"fire-fn",[BM]:"fire-fn-compat",[CM]:"fire-iid",[xM]:"fire-iid-compat",[EM]:"fire-fcm",[IM]:"fire-fcm-compat",[SM]:"fire-perf",[FM]:"fire-perf-compat",[UM]:"fire-rc",[TM]:"fire-rc-compat",[kM]:"fire-gcs",[QM]:"fire-gcs-compat",[LM]:"fire-fst",[OM]:"fire-fst-compat","fire-js":"fire-js",[RM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,Jg=new Map;function PM(e,t){try{e.container.addComponent(t)}catch(n){lo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wi(e){const t=e.name;if(Jg.has(t))return lo.debug(`There were multiple attempts to register component ${t}.`),!1;Jg.set(t,e);for(const n of Fd.values())PM(n,e);return!0}function _o(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new Ya("app","Firebase",HM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=DM;function pE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Xg,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw ur.create("bad-app-name",{appName:String(s)});if(n||(n=ID()),!n)throw ur.create("no-options");const r=Fd.get(s);if(r){if(Sd(n,r.options)&&Sd(i,r.config))return r;throw ur.create("duplicate-app",{appName:s})}const o=new qD(s);for(const l of Jg.values())o.addComponent(l);const a=new NM(n,i,o);return Fd.set(s,a),a}function ru(e=Xg){const t=Fd.get(e);if(!t&&e===Xg)return pE();if(!t)throw ur.create("no-app",{appName:e});return t}function Wn(e,t,n){var i;let s=(i=MM[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}Wi(new Ci(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="firebase-heartbeat-database",VM=1,_A="firebase-heartbeat-store";let Fp=null;function gE(){return Fp||(Fp=lM(KM,VM,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(_A)}}}).catch(e=>{throw ur.create("idb-open",{originalErrorMessage:e.message})})),Fp}async function $M(e){try{return(await gE()).transaction(_A).objectStore(_A).get(mE(e))}catch(t){if(t instanceof Yi)lo.warn(t.message);else{const n=ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});lo.warn(n.message)}}}async function kb(e,t){try{const i=(await gE()).transaction(_A,"readwrite");return await i.objectStore(_A).put(t,mE(e)),i.done}catch(n){if(n instanceof Yi)lo.warn(n.message);else{const i=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(i.message)}}}function mE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=1024,zM=30*24*60*60*1e3;class jM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=zM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qb(),{heartbeatsToSend:n,unsentEntries:i}=WM(this._heartbeatsCache.heartbeats),s=Id(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Qb(){return new Date().toISOString().substring(0,10)}function WM(e,t=GM){const n=[];let i=e.slice();for(const s of e){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Lb(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Lb(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class qM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rv()?kD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $M(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Lb(e){return Id(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(e){Wi(new Ci("platform-logger",t=>new cM(t),"PRIVATE")),Wi(new Ci("heartbeat",t=>new jM(t),"PRIVATE")),Wn(qg,Tb,e),Wn(qg,Tb,"esm2017"),Wn("fire-js","")}XM("");var JM=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},me,av=av||{},Te=JM||self;function Ud(){}function ef(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ou(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function YM(e){return Object.prototype.hasOwnProperty.call(e,Up)&&e[Up]||(e[Up]=++ZM)}var Up="closure_uid_"+(1e9*Math.random()>>>0),ZM=0;function eP(e,t,n){return e.call.apply(e.bind,arguments)}function tP(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function pn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pn=eP:pn=tP,pn.apply(null,arguments)}function Zu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function en(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(i,o)}}function br(){this.s=this.s,this.o=this.o}var nP=0;br.prototype.s=!1;br.prototype.na=function(){!this.s&&(this.s=!0,this.M(),nP!=0)&&YM(this)};br.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yE=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function lv(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Ob(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(ef(i)){const s=e.length||0,r=i.length||0;e.length=s+r;for(let o=0;o<r;o++)e[s+o]=i[o]}else e.push(i)}}function gn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gn.prototype.h=function(){this.defaultPrevented=!0};var iP=function(){if(!Te.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Te.addEventListener("test",Ud,t),Te.removeEventListener("test",Ud,t)}catch{}return e}();function Td(e){return/^[\s\xa0]*$/.test(e)}var Rb=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tp(e,t){return e<t?-1:e>t?1:0}function tf(){var e=Te.navigator;return e&&(e=e.userAgent)?e:""}function Hi(e){return tf().indexOf(e)!=-1}function Av(e){return Av[" "](e),e}Av[" "]=Ud;function sP(e){var t=aP;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var rP=Hi("Opera"),xa=Hi("Trident")||Hi("MSIE"),vE=Hi("Edge"),Yg=vE||xa,wE=Hi("Gecko")&&!(tf().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),oP=tf().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge");function _E(){var e=Te.document;return e?e.documentMode:void 0}var kd;e:{var kp="",Qp=function(){var e=tf();if(wE)return/rv:([^\);]+)(\)|;)/.exec(e);if(vE)return/Edge\/([\d\.]+)/.exec(e);if(xa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(oP)return/WebKit\/(\S+)/.exec(e);if(rP)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Qp&&(kp=Qp?Qp[1]:""),xa){var Lp=_E();if(Lp!=null&&Lp>parseFloat(kp)){kd=String(Lp);break e}}kd=kp}var aP={};function lP(){return sP(function(){let e=0;const t=Rb(String(kd)).split("."),n=Rb("9").split("."),i=Math.max(t.length,n.length);for(let o=0;e==0&&o<i;o++){var s=t[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s[0].length==0&&r[0].length==0)break;e=Tp(s[1].length==0?0:parseInt(s[1],10),r[1].length==0?0:parseInt(r[1],10))||Tp(s[2].length==0,r[2].length==0)||Tp(s[2],r[2]),s=s[3],r=r[3]}while(e==0)}return 0<=e})}var Zg;if(Te.document&&xa){var Db=_E();Zg=Db||parseInt(kd,10)||void 0}else Zg=void 0;var AP=Zg;function bA(e,t){if(gn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(wE){e:{try{Av(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:uP[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bA.X.h.call(this)}}en(bA,gn);var uP={2:"touch",3:"pen",4:"mouse"};bA.prototype.h=function(){bA.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var au="closure_listenable_"+(1e6*Math.random()|0),cP=0;function dP(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=s,this.key=++cP,this.ba=this.ea=!1}function nf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function uv(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function bE(e){const t={};for(const n in e)t[n]=e[n];return t}const Mb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BE(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let r=0;r<Mb.length;r++)n=Mb[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function sf(e){this.src=e,this.g={},this.h=0}sf.prototype.add=function(e,t,n,i,s){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=tm(e,t,i,s);return-1<o?(t=e[o],n||(t.ea=!1)):(t=new dP(t,this.src,r,!!i,s),t.ea=n,e.push(t)),t};function em(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=yE(i,t),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(nf(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function tm(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.ba&&r.listener==t&&r.capture==!!n&&r.ha==i)return s}return-1}var cv="closure_lm_"+(1e6*Math.random()|0),Op={};function CE(e,t,n,i,s){if(i&&i.once)return EE(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)CE(e,t[r],n,i,s);return null}return n=fv(n),e&&e[au]?e.N(t,n,ou(i)?!!i.capture:!!i,s):xE(e,t,n,!1,i,s)}function xE(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var o=ou(s)?!!s.capture:!!s,a=hv(e);if(a||(e[cv]=a=new sf(e)),n=a.add(t,n,i,o,r),n.proxy)return n;if(i=hP(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)iP||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(SE(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hP(){function e(n){return t.call(e.src,e.listener,n)}const t=fP;return e}function EE(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)EE(e,t[r],n,i,s);return null}return n=fv(n),e&&e[au]?e.O(t,n,ou(i)?!!i.capture:!!i,s):xE(e,t,n,!0,i,s)}function IE(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)IE(e,t[r],n,i,s);else i=ou(i)?!!i.capture:!!i,n=fv(n),e&&e[au]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=tm(r,n,i,s),-1<n&&(nf(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=hv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tm(t,n,i,s)),(n=-1<e?t[e]:null)&&dv(n))}function dv(e){if(typeof e!="number"&&e&&!e.ba){var t=e.src;if(t&&t[au])em(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(SE(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=hv(t))?(em(n,e),n.h==0&&(n.src=null,t[cv]=null)):nf(e)}}}function SE(e){return e in Op?Op[e]:Op[e]="on"+e}function fP(e,t){if(e.ba)e=!0;else{t=new bA(t,this);var n=e.listener,i=e.ha||e.src;e.ea&&dv(e),e=n.call(i,t)}return e}function hv(e){return e=e[cv],e instanceof sf?e:null}var Rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fv(e){return typeof e=="function"?e:(e[Rp]||(e[Rp]=function(t){return e.handleEvent(t)}),e[Rp])}function zt(){br.call(this),this.i=new sf(this),this.P=this,this.I=null}en(zt,br);zt.prototype[au]=!0;zt.prototype.removeEventListener=function(e,t,n,i){IE(this,e,t,n,i)};function Zt(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new gn(t,e);else if(t instanceof gn)t.target=t.target||e;else{var s=t;t=new gn(i,e),BE(t,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=ec(o,i,!0,t)&&s}if(o=t.g=e,s=ec(o,i,!0,t)&&s,s=ec(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)o=t.g=n[r],s=ec(o,i,!1,t)&&s}zt.prototype.M=function(){if(zt.X.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)nf(n[i]);delete e.g[t],e.h--}}this.I=null};zt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};zt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function ec(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&em(e.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var pv=Te.JSON.stringify;function pP(){var e=TE;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class gP{constructor(){this.h=this.g=null}add(t,n){const i=FE.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var FE=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mP,e=>e.reset());class mP{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yP(e){Te.setTimeout(()=>{throw e},0)}function UE(e,t){nm||vP(),im||(nm(),im=!0),TE.add(e,t)}var nm;function vP(){var e=Te.Promise.resolve(void 0);nm=function(){e.then(wP)}}var im=!1,TE=new gP;function wP(){for(var e;e=pP();){try{e.h.call(e.g)}catch(n){yP(n)}var t=FE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}im=!1}function rf(e,t){zt.call(this),this.h=e||1,this.g=t||Te,this.j=pn(this.lb,this),this.l=Date.now()}en(rf,zt);me=rf.prototype;me.ca=!1;me.R=null;me.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zt(this,"tick"),this.ca&&(gv(this),this.start()))}};me.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gv(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}me.M=function(){rf.X.M.call(this),gv(this),delete this.g};function mv(e,t,n){if(typeof e=="function")n&&(e=pn(e,n));else if(e&&typeof e.handleEvent=="function")e=pn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Te.setTimeout(e,t||0)}function kE(e){e.g=mv(()=>{e.g=null,e.i&&(e.i=!1,kE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class _P extends br{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:kE(this)}M(){super.M(),this.g&&(Te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function BA(e){br.call(this),this.h=e,this.g={}}en(BA,br);var Pb=[];function QE(e,t,n,i){Array.isArray(n)||(n&&(Pb[0]=n.toString()),n=Pb);for(var s=0;s<n.length;s++){var r=CE(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function LE(e){uv(e.g,function(t,n){this.g.hasOwnProperty(n)&&dv(t)},e),e.g={}}BA.prototype.M=function(){BA.X.M.call(this),LE(this)};BA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function of(){this.g=!0}of.prototype.Aa=function(){this.g=!1};function bP(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var A=a[l].split("=");if(1<A.length){var u=A[0];A=A[1];var c=u.split("_");o=2<=c.length&&c[1]=="type"?o+(u+"="+A+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function BP(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+r+" "+o})}function ta(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+xP(e,n)+(i?" "+i:"")})}function CP(e,t){e.info(function(){return"TIMEOUT: "+t})}of.prototype.info=function(){};function xP(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return pv(n)}catch{return t}}var bo={},Hb=null;function af(){return Hb=Hb||new zt}bo.Pa="serverreachability";function OE(e){gn.call(this,bo.Pa,e)}en(OE,gn);function CA(e){const t=af();Zt(t,new OE(t))}bo.STAT_EVENT="statevent";function RE(e,t){gn.call(this,bo.STAT_EVENT,e),this.stat=t}en(RE,gn);function Bn(e){const t=af();Zt(t,new RE(t,e))}bo.Qa="timingevent";function DE(e,t){gn.call(this,bo.Qa,e),this.size=t}en(DE,gn);function lu(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Te.setTimeout(function(){e()},t)}var lf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ME={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function yv(){}yv.prototype.h=null;function Nb(e){return e.h||(e.h=e.i())}function PE(){}var Au={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vv(){gn.call(this,"d")}en(vv,gn);function wv(){gn.call(this,"c")}en(wv,gn);var sm;function Af(){}en(Af,yv);Af.prototype.g=function(){return new XMLHttpRequest};Af.prototype.i=function(){return{}};sm=new Af;function uu(e,t,n,i){this.l=e,this.j=t,this.m=n,this.U=i||1,this.S=new BA(this),this.O=EP,e=Yg?125:void 0,this.T=new rf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new HE}function HE(){this.i=null,this.g="",this.h=!1}var EP=45e3,rm={},Qd={};me=uu.prototype;me.setTimeout=function(e){this.O=e};function om(e,t,n){e.K=1,e.v=cf(Bs(t)),e.s=n,e.P=!0,NE(e,null)}function NE(e,t){e.F=Date.now(),cu(e),e.A=Bs(e.v);var n=e.A,i=e.U;Array.isArray(i)||(i=[String(i)]),qE(n.i,"t",i),e.C=0,n=e.l.H,e.h=new HE,e.g=gI(e.l,n?t:null,!e.s),0<e.N&&(e.L=new _P(pn(e.La,e,e.g),e.N)),QE(e.S,e.g,"readystatechange",e.ib),t=e.H?bE(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),CA(),bP(e.j,e.u,e.A,e.m,e.U,e.s)}me.ib=function(e){e=e.target;const t=this.L;t&&fs(e)==3?t.l():this.La(e)};me.La=function(e){try{if(e==this.g)e:{const u=fs(this.g);var t=this.g.Ea();const c=this.g.aa();if(!(3>u)&&(u!=3||Yg||this.g&&(this.h.h||this.g.fa()||Gb(this.g)))){this.I||u!=4||t==7||(t==8||0>=c?CA(3):CA(2)),uf(this);var n=this.g.aa();this.Y=n;t:if(KE(this)){var i=Gb(this.g);e="";var s=i.length,r=fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Vr(this),ql(this);var o="";break t}this.h.i=new Te.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,BP(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Td(a)){var A=a;break t}}A=null}if(n=A)ta(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,am(this,n);else{this.i=!1,this.o=3,Bn(12),Vr(this),ql(this);break e}}this.P?(VE(this,u,o),Yg&&this.i&&u==3&&(QE(this.S,this.T,"tick",this.hb),this.T.start())):(ta(this.j,this.m,o,null),am(this,o)),u==4&&Vr(this),this.i&&!this.I&&(u==4?dI(this.l,this):(this.i=!1,cu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),Vr(this),ql(this)}}}catch{}finally{}};function KE(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Da:!1}function VE(e,t,n){let i=!0,s;for(;!e.I&&e.C<n.length;)if(s=IP(e,n),s==Qd){t==4&&(e.o=4,Bn(14),i=!1),ta(e.j,e.m,null,"[Incomplete Response]");break}else if(s==rm){e.o=4,Bn(15),ta(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else ta(e.j,e.m,s,null),am(e,s);KE(e)&&s!=Qd&&s!=rm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Bn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,t=e.l,t.g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iv(t),t.K=!0,Bn(11))):(ta(e.j,e.m,n,"[Invalid Chunked Response]"),Vr(e),ql(e))}me.hb=function(){if(this.g){var e=fs(this.g),t=this.g.fa();this.C<t.length&&(uf(this),VE(this,e,t),this.i&&e!=4&&cu(this))}};function IP(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Qd:(n=Number(t.substring(n,i)),isNaN(n)?rm:(i+=1,i+n>t.length?Qd:(t=t.substr(i,n),e.C=i+n,t)))}me.cancel=function(){this.I=!0,Vr(this)};function cu(e){e.V=Date.now()+e.O,$E(e,e.O)}function $E(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=lu(pn(e.gb,e),t)}function uf(e){e.B&&(Te.clearTimeout(e.B),e.B=null)}me.gb=function(){this.B=null;const e=Date.now();0<=e-this.V?(CP(this.j,this.A),this.K!=2&&(CA(),Bn(17)),Vr(this),this.o=2,ql(this)):$E(this,this.V-e)};function ql(e){e.l.G==0||e.I||dI(e.l,e)}function Vr(e){uf(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,gv(e.T),LE(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function am(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||lm(n.h,e))){if(!e.J&&lm(n.h,e)&&n.G==3){try{var i=n.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Rd(n),ff(n);else break e;Ev(n),Bn(18)}}else n.Ba=s[1],0<n.Ba-n.T&&37500>s[2]&&n.L&&n.A==0&&!n.v&&(n.v=lu(pn(n.cb,n),6e3));if(1>=YE(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else $r(n,11)}else if((e.J||n.g==e)&&Rd(n),!Td(t))for(s=n.Fa.g.parse(t),t=0;t<s.length;t++){let A=s[t];if(n.T=A[0],A=A[1],n.G==2)if(A[0]=="c"){n.I=A[1],n.ka=A[2];const u=A[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const c=A[4];c!=null&&(n.Ca=c,n.j.info("SVER="+n.Ca));const d=A[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.h;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(_v(r,r.h),r.h=null))}if(i.D){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.za=m,ft(i.F,i.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=e;if(i.sa=pI(i,i.H?i.ka:null,i.V),o.J){ZE(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(uf(a),cu(a)),i.g=o}else uI(i);0<n.i.length&&pf(n)}else A[0]!="stop"&&A[0]!="close"||$r(n,7);else n.G==3&&(A[0]=="stop"||A[0]=="close"?A[0]=="stop"?$r(n,7):xv(n):A[0]!="noop"&&n.l&&n.l.wa(A),n.A=0)}}CA(4)}catch{}}function SP(e){if(e.W&&typeof e.W=="function")return e.W();if(typeof Map!="undefined"&&e instanceof Map||typeof Set!="undefined"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ef(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function FP(e){if(e.oa&&typeof e.oa=="function")return e.oa();if(!e.W||typeof e.W!="function"){if(typeof Map!="undefined"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set!="undefined"&&e instanceof Set)){if(ef(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function GE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ef(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=FP(e),i=SP(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}var zE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UP(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function eo(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof eo){this.h=t!==void 0?t:e.h,Ld(this,e.j),this.s=e.s,this.g=e.g,Od(this,e.m),this.l=e.l,t=e.i;var n=new xA;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Kb(this,n),this.o=e.o}else e&&(n=String(e).match(zE))?(this.h=!!t,Ld(this,n[1]||"",!0),this.s=kl(n[2]||""),this.g=kl(n[3]||"",!0),Od(this,n[4]),this.l=kl(n[5]||"",!0),Kb(this,n[6]||"",!0),this.o=kl(n[7]||"")):(this.h=!!t,this.i=new xA(null,this.h))}eo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ql(t,Vb,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ql(t,Vb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ql(n,n.charAt(0)=="/"?QP:kP,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ql(n,OP)),e.join("")};function Bs(e){return new eo(e)}function Ld(e,t,n){e.j=n?kl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Od(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Kb(e,t,n){t instanceof xA?(e.i=t,RP(e.i,e.h)):(n||(t=Ql(t,LP)),e.i=new xA(t,e.h))}function ft(e,t,n){e.i.set(t,n)}function cf(e){return ft(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ql(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,TP),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function TP(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Vb=/[#\/\?@]/g,kP=/[#\?:]/g,QP=/[#\?]/g,LP=/[#\?@]/g,OP=/#/g;function xA(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Br(e){e.g||(e.g=new Map,e.h=0,e.i&&UP(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}me=xA.prototype;me.add=function(e,t){Br(this),this.i=null,e=el(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function jE(e,t){Br(e),t=el(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function WE(e,t){return Br(e),t=el(e,t),e.g.has(t)}me.forEach=function(e,t){Br(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};me.oa=function(){Br(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let r=0;r<s.length;r++)n.push(t[i])}return n};me.W=function(e){Br(this);let t=[];if(typeof e=="string")WE(this,e)&&(t=t.concat(this.g.get(el(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};me.set=function(e,t){return Br(this),this.i=null,e=el(this,e),WE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};me.get=function(e,t){return e?(e=this.W(e),0<e.length?String(e[0]):t):t};function qE(e,t,n){jE(e,t),0<n.length&&(e.i=null,e.g.set(el(e,t),lv(n)),e.h+=n.length)}me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};function el(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function RP(e,t){t&&!e.j&&(Br(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(jE(this,i),qE(this,s,n))},e)),e.j=t}var DP=class{constructor(e,t){this.h=e,this.g=t}};function XE(e){this.l=e||MP,Te.PerformanceNavigationTiming?(e=Te.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Te.g&&Te.g.Ga&&Te.g.Ga()&&Te.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MP=10;function JE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function YE(e){return e.h?1:e.g?e.g.size:0}function lm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function _v(e,t){e.g?e.g.add(t):e.h=t}function ZE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}XE.prototype.cancel=function(){if(this.i=eI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function eI(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return lv(e.i)}function bv(){}bv.prototype.stringify=function(e){return Te.JSON.stringify(e,void 0)};bv.prototype.parse=function(e){return Te.JSON.parse(e,void 0)};function PP(){this.g=new bv}function HP(e,t,n){const i=n||"";try{GE(e,function(s,r){let o=s;ou(s)&&(o=pv(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function NP(e,t){const n=new of;if(Te.Image){const i=new Image;i.onload=Zu(tc,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Zu(tc,n,i,"TestLoadImage: error",!1,t),i.onabort=Zu(tc,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Zu(tc,n,i,"TestLoadImage: timeout",!1,t),Te.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function tc(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function du(e){this.l=e.ac||null,this.j=e.jb||!1}en(du,yv);du.prototype.g=function(){return new df(this.l,this.j)};du.prototype.i=function(e){return function(){return e}}({});function df(e,t){zt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Bv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}en(df,zt);var Bv=0;me=df.prototype;me.open=function(e,t){if(this.readyState!=Bv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,EA(this)};me.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Te).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))};me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=Bv};me.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,EA(this)),this.g&&(this.readyState=3,EA(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Te.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tI(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))};function tI(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}me.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hu(this):EA(this),this.readyState==3&&tI(this)}};me.Va=function(e){this.g&&(this.response=this.responseText=e,hu(this))};me.Ua=function(e){this.g&&(this.response=e,hu(this))};me.ga=function(){this.g&&hu(this)};function hu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,EA(e)}me.setRequestHeader=function(e,t){this.v.append(e,t)};me.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};me.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function EA(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var KP=Te.JSON.parse;function wt(e){zt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nI,this.K=this.L=!1}en(wt,zt);var nI="",VP=/^https?$/i,$P=["POST","PUT"];me=wt.prototype;me.Ka=function(e){this.L=e};me.da=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sm.g(),this.C=this.u?Nb(this.u):Nb(sm),this.g.onreadystatechange=pn(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(r){$b(this,r);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=Te.FormData&&e instanceof Te.FormData,!(0<=yE($P,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rI(this),0<this.B&&((this.K=GP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pn(this.qa,this)):this.A=mv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){$b(this,r)}};function GP(e){return xa&&lP()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}me.qa=function(){typeof av!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zt(this,"timeout"),this.abort(8))};function $b(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,iI(e),hf(e)}function iI(e){e.D||(e.D=!0,Zt(e,"complete"),Zt(e,"error"))}me.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zt(this,"complete"),Zt(this,"abort"),hf(this))};me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hf(this,!0)),wt.X.M.call(this)};me.Ha=function(){this.s||(this.F||this.v||this.l?sI(this):this.fb())};me.fb=function(){sI(this)};function sI(e){if(e.h&&typeof av!="undefined"&&(!e.C[1]||fs(e)!=4||e.aa()!=2)){if(e.v&&fs(e)==4)mv(e.Ha,0,e);else if(Zt(e,"readystatechange"),fs(e)==4){e.h=!1;try{const a=e.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=a===0){var s=String(e.H).match(zE)[1]||null;if(!s&&Te.self&&Te.self.location){var r=Te.self.location.protocol;s=r.substr(0,r.length-1)}i=!VP.test(s?s.toLowerCase():"")}n=i}if(n)Zt(e,"complete"),Zt(e,"success");else{e.m=6;try{var o=2<fs(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.aa()+"]",iI(e)}}finally{hf(e)}}}}function hf(e,t){if(e.g){rI(e);const n=e.g,i=e.C[0]?Ud:null;e.g=null,e.C=null,t||Zt(e,"ready");try{n.onreadystatechange=i}catch{}}}function rI(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Te.clearTimeout(e.A),e.A=null)}function fs(e){return e.g?e.g.readyState:0}me.aa=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}};me.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};me.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),KP(t)}};function Gb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case nI:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}me.Ea=function(){return this.m};me.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function oI(e){let t="";return uv(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Cv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=oI(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ft(e,t,n))}function yl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function aI(e){this.Ca=0,this.i=[],this.j=new of,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=yl("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=yl("baseRetryDelayMs",5e3,e),this.bb=yl("retryDelaySeedMs",1e4,e),this.$a=yl("forwardChannelMaxRetries",2,e),this.ta=yl("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new XE(e&&e.concurrentRequestLimit),this.Fa=new PP,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}me=aI.prototype;me.ma=8;me.G=1;function xv(e){if(lI(e),e.G==3){var t=e.U++,n=Bs(e.F);ft(n,"SID",e.I),ft(n,"RID",t),ft(n,"TYPE","terminate"),fu(e,n),t=new uu(e,e.j,t,void 0),t.K=2,t.v=cf(Bs(n)),n=!1,Te.navigator&&Te.navigator.sendBeacon&&(n=Te.navigator.sendBeacon(t.v.toString(),"")),!n&&Te.Image&&(new Image().src=t.v,n=!0),n||(t.g=gI(t.l,null),t.g.da(t.v)),t.F=Date.now(),cu(t)}fI(e)}function ff(e){e.g&&(Iv(e),e.g.cancel(),e.g=null)}function lI(e){ff(e),e.u&&(Te.clearTimeout(e.u),e.u=null),Rd(e),e.h.cancel(),e.m&&(typeof e.m=="number"&&Te.clearTimeout(e.m),e.m=null)}function pf(e){JE(e.h)||e.m||(e.m=!0,UE(e.Ja,e),e.C=0)}function zP(e,t){return YE(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.C>=(e.Za?0:e.$a)?!1:(e.m=lu(pn(e.Ja,e,t),hI(e,e.C)),e.C++,!0)}me.Ja=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new uu(this,this.j,e,void 0);let r=this.s;if(this.S&&(r?(r=bE(r),BE(r,this.S)):r=this.S),this.o!==null||this.N||(s.H=r,r=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var i=this.i[n];if("__data__"in i.g&&(i=i.g.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break e}if(t===4096||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=AI(this,s,t),n=Bs(this.F),ft(n,"RID",e),ft(n,"CVER",22),this.D&&ft(n,"X-HTTP-Session-Id",this.D),fu(this,n),r&&(this.N?t="headers="+encodeURIComponent(String(oI(r)))+"&"+t:this.o&&Cv(n,this.o,r)),_v(this.h,s),this.Ya&&ft(n,"TYPE","init"),this.O?(ft(n,"$req",t),ft(n,"SID","null"),s.Z=!0,om(s,n,null)):om(s,n,t),this.G=2}}else this.G==3&&(e?zb(this,e):this.i.length==0||JE(this.h)||zb(this))};function zb(e,t){var n;t?n=t.m:n=e.U++;const i=Bs(e.F);ft(i,"SID",e.I),ft(i,"RID",n),ft(i,"AID",e.T),fu(e,i),e.o&&e.s&&Cv(i,e.o,e.s),n=new uu(e,e.j,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=AI(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),_v(e.h,n),om(n,i,t)}function fu(e,t){e.ia&&uv(e.ia,function(n,i){ft(t,i,n)}),e.l&&GE({},function(n,i){ft(t,i,n)})}function AI(e,t,n){n=Math.min(e.i.length,n);var i=e.l?pn(e.l.Ra,e.l,e):null;e:{var s=e.i;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].h,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let A=s[l].h;const u=s[l].g;if(A-=r,0>A)r=Math.max(0,s[l].h-100),a=!1;else try{HP(u,o,"req"+A+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function uI(e){e.g||e.u||(e.Z=1,UE(e.Ia,e),e.A=0)}function Ev(e){return e.g||e.u||3<=e.A?!1:(e.Z++,e.u=lu(pn(e.Ia,e),hI(e,e.A)),e.A++,!0)}me.Ia=function(){if(this.u=null,cI(this),this.$&&!(this.K||this.g==null||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=lu(pn(this.eb,this),e)}};me.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Bn(10),ff(this),cI(this))};function Iv(e){e.B!=null&&(Te.clearTimeout(e.B),e.B=null)}function cI(e){e.g=new uu(e,e.j,"rpc",e.Z),e.o===null&&(e.g.H=e.s),e.g.N=0;var t=Bs(e.sa);ft(t,"RID","rpc"),ft(t,"SID",e.I),ft(t,"CI",e.L?"0":"1"),ft(t,"AID",e.T),ft(t,"TYPE","xmlhttp"),fu(e,t),e.o&&e.s&&Cv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=cf(Bs(t)),n.s=null,n.P=!0,NE(n,e)}me.cb=function(){this.v!=null&&(this.v=null,ff(this),Ev(this),Bn(19))};function Rd(e){e.v!=null&&(Te.clearTimeout(e.v),e.v=null)}function dI(e,t){var n=null;if(e.g==t){Rd(e),Iv(e),e.g=null;var i=2}else if(lm(e.h,t))n=t.D,ZE(e.h,t),i=1;else return;if(e.G!=0){if(e.pa=t.Y,t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;i=af(),Zt(i,new DE(i,n)),pf(e)}else uI(e);else if(s=t.o,s==3||s==0&&0<e.pa||!(i==1&&zP(e,t)||i==2&&Ev(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:$r(e,5);break;case 4:$r(e,10);break;case 3:$r(e,6);break;default:$r(e,2)}}}function hI(e,t){let n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function $r(e,t){if(e.j.info("Error code "+t),t==2){var n=null;e.l&&(n=null);var i=pn(e.kb,e);n||(n=new eo("//www.google.com/images/cleardot.gif"),Te.location&&Te.location.protocol=="http"||Ld(n,"https"),cf(n)),NP(n.toString(),i)}else Bn(2);e.G=0,e.l&&e.l.va(t),fI(e),lI(e)}me.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Bn(2)):(this.j.info("Failed to ping google.com"),Bn(1))};function fI(e){if(e.G=0,e.la=[],e.l){const t=eI(e.h);(t.length!=0||e.i.length!=0)&&(Ob(e.la,t),Ob(e.la,e.i),e.h.i.length=0,lv(e.i),e.i.length=0),e.l.ua()}}function pI(e,t,n){var i=n instanceof eo?Bs(n):new eo(n,void 0);if(i.g!="")t&&(i.g=t+"."+i.g),Od(i,i.m);else{var s=Te.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new eo(null,void 0);i&&Ld(r,i),t&&(r.g=t),s&&Od(r,s),n&&(r.l=n),i=r}return n=e.D,t=e.za,n&&t&&ft(i,n,t),ft(i,"VER",e.ma),fu(e,i),i}function gI(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Da&&!e.ra?new wt(new du({jb:!0})):new wt(e.ra),t.Ka(e.H),t}function mI(){}me=mI.prototype;me.xa=function(){};me.wa=function(){};me.va=function(){};me.ua=function(){};me.Ra=function(){};function Dd(){if(xa&&!(10<=Number(AP)))throw Error("Environmental error: no available transport.")}Dd.prototype.g=function(e,t){return new qn(e,t)};function qn(e,t){zt.call(this),this.g=new aI(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Td(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Td(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new tl(this)}en(qn,zt);qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Bn(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=pI(e,null,e.V),pf(e)};qn.prototype.close=function(){xv(this.g)};qn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=pv(e),e=n);t.i.push(new DP(t.ab++,e)),t.G==3&&pf(t)};qn.prototype.M=function(){this.g.l=null,delete this.j,xv(this.g),delete this.g,qn.X.M.call(this)};function yI(e){vv.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}en(yI,vv);function vI(){wv.call(this),this.status=1}en(vI,wv);function tl(e){this.g=e}en(tl,mI);tl.prototype.xa=function(){Zt(this.g,"a")};tl.prototype.wa=function(e){Zt(this.g,new yI(e))};tl.prototype.va=function(e){Zt(this.g,new vI)};tl.prototype.ua=function(){Zt(this.g,"b")};Dd.prototype.createWebChannel=Dd.prototype.g;qn.prototype.send=qn.prototype.u;qn.prototype.open=qn.prototype.m;qn.prototype.close=qn.prototype.close;lf.NO_ERROR=0;lf.TIMEOUT=8;lf.HTTP_ERROR=6;ME.COMPLETE="complete";PE.EventType=Au;Au.OPEN="a";Au.CLOSE="b";Au.ERROR="c";Au.MESSAGE="d";zt.prototype.listen=zt.prototype.N;wt.prototype.listenOnce=wt.prototype.O;wt.prototype.getLastError=wt.prototype.Oa;wt.prototype.getLastErrorCode=wt.prototype.Ea;wt.prototype.getStatus=wt.prototype.aa;wt.prototype.getResponseJson=wt.prototype.Sa;wt.prototype.getResponseText=wt.prototype.fa;wt.prototype.send=wt.prototype.da;wt.prototype.setWithCredentials=wt.prototype.Ka;var jP=function(){return new Dd},WP=function(){return af()},Dp=lf,qP=ME,XP=bo,jb={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},JP=du,nc=PE,YP=wt;const Wb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="9.19.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Zh("@firebase/firestore");function qb(){return Ao.logLevel}function ye(e,...t){if(Ao.logLevel<=je.DEBUG){const n=t.map(Sv);Ao.debug(`Firestore (${nl}): ${e}`,...n)}}function Cs(e,...t){if(Ao.logLevel<=je.ERROR){const n=t.map(Sv);Ao.error(`Firestore (${nl}): ${e}`,...n)}}function Md(e,...t){if(Ao.logLevel<=je.WARN){const n=t.map(Sv);Ao.warn(`Firestore (${nl}): ${e}`,...n)}}function Sv(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(e="Unexpected state"){const t=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+e;throw Cs(t),new Error(t)}function ut(e,t){e||Fe()}function Le(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class e2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t2{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ys,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ys)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ut(typeof i.accessToken=="string"),new wI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ut(t===null||typeof t=="string"),new an(t)}}class n2{constructor(t,n,i){this.h=t,this.l=n,this.m=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class i2{constructor(t,n,i){this.h=t,this.l=n,this.m=i}getToken(){return Promise.resolve(new n2(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const i=r=>{r.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?s(r):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ut(typeof n.token=="string"),this.T=n.token,new s2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=o2(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%t.length))}return i}}function Xe(e,t){return e<t?-1:e>t?1:0}function Ea(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new fe(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fe(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Mt.fromMillis(Date.now())}static fromDate(t){return Mt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Mt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xe(this.nanoseconds,t.nanoseconds):Xe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ke(t)}static min(){return new ke(new Mt(0,0))}static max(){return new ke(new Mt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,n,i){n===void 0?n=0:n>t.length&&Fe(),i===void 0?i=t.length-n:i>t.length-n&&Fe(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return IA.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof IA?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=t.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class At extends IA{construct(t,n,i){return new At(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new fe(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new At(n)}static emptyPath(){return new At([])}}const a2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends IA{construct(t,n,i){return new cn(t,n,i)}static isValidIdentifier(t){return a2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new fe(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new fe(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new fe(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.path=t}static fromPath(t){return new Be(At.fromString(t))}static fromName(t){return new Be(At.fromString(t).popFirst(5))}static empty(){return new Be(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&At.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return At.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Be(new At(t.slice()))}}function l2(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(i===1e9?new Mt(n+1,0):new Mt(n,i));return new mr(s,Be.empty(),t)}function A2(e){return new mr(e.readTime,e.key,-1)}class mr{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new mr(ke.min(),Be.empty(),-1)}static max(){return new mr(ke.max(),Be.empty(),-1)}}function u2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Be.comparator(e.documentKey,t.documentKey),n!==0?n:Xe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==c2)throw e;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,i)=>{n(t)})}static reject(t){return new Z((n,i)=>{i(t)})}static waitFor(t){return new Z((n,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(t){let n=Z.resolve(!1);for(const i of t)n=n.next(s=>s?Z.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new Z((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const A=l;n(t[A]).next(u=>{o[A]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(t,n){return new Z((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function gu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}Fv.ct=-1;function gf(e){return e==null}function Pd(e){return e===0&&1/e==-1/0}function h2(e){return typeof e=="number"&&Number.isInteger(e)&&!Pd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){this.comparator=t,this.root=n||Xt.EMPTY}insert(t,n){return new Ht(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(t){return new Ht(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ic(this.root,t,this.comparator,!0)}}class ic{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xt{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i!=null?i:Xt.RED,this.left=s!=null?s:Xt.EMPTY,this.right=r!=null?r:Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Xt(t!=null?t:this.key,n!=null?n:this.value,i!=null?i:this.color,s!=null?s:this.left,r!=null?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Xt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const t=this.left.check();if(t!==this.right.check())throw Fe();return t+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,n,i,s){return this}insert(e,t,n){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(t){this.comparator=t,this.data=new Ht(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jb(this.data.getIterator())}getIteratorFrom(t){return new Jb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Pt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pt(this.comparator);return n.data=t,n}}class Jb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new $n([])}unionWith(t){let n=new Pt(cn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new $n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ea(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException!="undefined"&&s instanceof DOMException?new f2("Invalid base64 string: "+s):s}}(t);return new yn(n)}static fromUint8Array(t){const n=function(i){let s="";for(let r=0;r<i.length;++r)s+=String.fromCharCode(i[r]);return s}(t);return new yn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const p2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(e){if(ut(!!e),typeof e=="string"){let t=0;const n=p2.exec(e);if(ut(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tt(e.seconds),nanos:Tt(e.nanos)}}function Tt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ia(e){return typeof e=="string"?yn.fromBase64String(e):yn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CI(e){const t=e.mapValue.fields.__previous_value__;return BI(t)?CI(t):t}function SA(e){const t=yr(e.mapValue.fields.__local_write_time__.timestampValue);return new Mt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t,n,i,s,r,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class FA{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new FA("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof FA&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?BI(e)?4:m2(e)?9007199254740991:10:Fe()}function qi(e,t){if(e===t)return!0;const n=uo(e);if(n!==uo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return SA(e).isEqual(SA(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const r=yr(i.timestampValue),o=yr(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return Ia(i.bytesValue).isEqual(Ia(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const r=Tt(i.doubleValue),o=Tt(s.doubleValue);return r===o?Pd(r)===Pd(o):isNaN(r)&&isNaN(o)}return!1}(e,t);case 9:return Ea(e.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:return function(i,s){const r=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Xb(r)!==Xb(o))return!1;for(const a in r)if(r.hasOwnProperty(a)&&(o[a]===void 0||!qi(r[a],o[a])))return!1;return!0}(e,t);default:return Fe()}}function UA(e,t){return(e.values||[]).find(n=>qi(n,t))!==void 0}function Sa(e,t){if(e===t)return 0;const n=uo(e),i=uo(t);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(e.booleanValue,t.booleanValue);case 2:return function(s,r){const o=Tt(s.integerValue||s.doubleValue),a=Tt(r.integerValue||r.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return Yb(e.timestampValue,t.timestampValue);case 4:return Yb(SA(e),SA(t));case 5:return Xe(e.stringValue,t.stringValue);case 6:return function(s,r){const o=Ia(s),a=Ia(r);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(s,r){const o=s.split("/"),a=r.split("/");for(let l=0;l<o.length&&l<a.length;l++){const A=Xe(o[l],a[l]);if(A!==0)return A}return Xe(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,r){const o=Xe(Tt(s.latitude),Tt(r.latitude));return o!==0?o:Xe(Tt(s.longitude),Tt(r.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,r){const o=s.values||[],a=r.values||[];for(let l=0;l<o.length&&l<a.length;++l){const A=Sa(o[l],a[l]);if(A)return A}return Xe(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,r){if(s===sc.mapValue&&r===sc.mapValue)return 0;if(s===sc.mapValue)return 1;if(r===sc.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=r.fields||{},A=Object.keys(l);a.sort(),A.sort();for(let u=0;u<a.length&&u<A.length;++u){const c=Xe(a[u],A[u]);if(c!==0)return c;const d=Sa(o[a[u]],l[A[u]]);if(d!==0)return d}return Xe(a.length,A.length)}(e.mapValue,t.mapValue);default:throw Fe()}}function Yb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Xe(e,t);const n=yr(e),i=yr(t),s=Xe(n.seconds,i.seconds);return s!==0?s:Xe(n.nanos,i.nanos)}function Fa(e){return Am(e)}function Am(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){const s=yr(i);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ia(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Be.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(i){let s="[",r=!0;for(const o of i.values||[])r?r=!1:s+=",",s+=Am(o);return s+"]"}(e.arrayValue):"mapValue"in e?function(i){const s=Object.keys(i.fields||{}).sort();let r="{",o=!0;for(const a of s)o?o=!1:r+=",",r+=`${a}:${Am(i.fields[a])}`;return r+"}"}(e.mapValue):Fe();var t,n}function Zb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function um(e){return!!e&&"integerValue"in e}function Uv(e){return!!e&&"arrayValue"in e}function e0(e){return!!e&&"nullValue"in e}function t0(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ed(e){return!!e&&"mapValue"in e}function Xl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bo(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Xl(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function m2(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ed(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(n)}setAll(t){let n=cn.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Xl(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];ed(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Bo(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Fn(Xl(this.value))}}function xI(e){const t=[];return Bo(e.fields,(n,i)=>{const s=new cn([n]);if(ed(i)){const r=xI(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,n,i,s,r,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new An(t,0,ke.min(),ke.min(),ke.min(),Fn.empty(),0)}static newFoundDocument(t,n,i,s){return new An(t,1,n,ke.min(),i,s,0)}static newNoDocument(t,n){return new An(t,2,n,ke.min(),ke.min(),Fn.empty(),0)}static newUnknownDocument(t,n){return new An(t,3,n,ke.min(),ke.min(),Fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof An&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,n){this.position=t,this.inclusive=n}}function n0(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(r.field.isKeyField()?i=Be.comparator(Be.fromName(o.referenceValue),n.key):i=Sa(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function i0(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n="asc"){this.field=t,this.dir=n}}function y2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{}class Qt extends EI{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new w2(t,n,i):n==="array-contains"?new B2(t,i):n==="in"?new C2(t,i):n==="not-in"?new x2(t,i):n==="array-contains-any"?new E2(t,i):new Qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new _2(t,i):new b2(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sa(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xi extends EI{constructor(t,n){super(),this.filters=t,this.op=n,this.ht=null}static create(t,n){return new xi(t,n)}matches(t){return II(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(n=>n.isInequality());return t!==null?t.field:null}lt(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function II(e){return e.op==="and"}function SI(e){return v2(e)&&II(e)}function v2(e){for(const t of e.filters)if(t instanceof xi)return!1;return!0}function cm(e){if(e instanceof Qt)return e.field.canonicalString()+e.op.toString()+Fa(e.value);if(SI(e))return e.filters.map(t=>cm(t)).join(",");{const t=e.filters.map(n=>cm(n)).join(",");return`${e.op}(${t})`}}function FI(e,t){return e instanceof Qt?function(n,i){return i instanceof Qt&&n.op===i.op&&n.field.isEqual(i.field)&&qi(n.value,i.value)}(e,t):e instanceof xi?function(n,i){return i instanceof xi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,r,o)=>s&&FI(r,i.filters[o]),!0):!1}(e,t):void Fe()}function UI(e){return e instanceof Qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Fa(t.value)}`}(e):e instanceof xi?function(t){return t.op.toString()+" {"+t.getFilters().map(UI).join(" ,")+"}"}(e):"Filter"}class w2 extends Qt{constructor(t,n,i){super(t,n,i),this.key=Be.fromName(i.referenceValue)}matches(t){const n=Be.comparator(t.key,this.key);return this.matchesComparison(n)}}class _2 extends Qt{constructor(t,n){super(t,"in",n),this.keys=TI("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class b2 extends Qt{constructor(t,n){super(t,"not-in",n),this.keys=TI("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function TI(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Be.fromName(i.referenceValue))}class B2 extends Qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Uv(n)&&UA(n.arrayValue,this.value)}}class C2 extends Qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&UA(this.value.arrayValue,n)}}class x2 extends Qt{constructor(t,n){super(t,"not-in",n)}matches(t){if(UA(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!UA(this.value.arrayValue,n)}}class E2 extends Qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>UA(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,n=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.ft=null}}function s0(e,t=null,n=[],i=[],s=null,r=null,o=null){return new I2(e,t,n,i,s,r,o)}function Tv(e){const t=Le(e);if(t.ft===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>cm(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),gf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Fa(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Fa(i)).join(",")),t.ft=n}return t.ft}function kv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!y2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!FI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!i0(e.startAt,t.startAt)&&i0(e.endAt,t.endAt)}function dm(e){return Be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function S2(e,t,n,i,s,r,o,a){return new mu(e,t,n,i,s,r,o,a)}function Qv(e){return new mu(e)}function r0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function kI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Lv(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function QI(e){return e.collectionGroup!==null}function pa(e){const t=Le(e);if(t.dt===null){t.dt=[];const n=Lv(t),i=kI(t);if(n!==null&&i===null)n.isKeyField()||t.dt.push(new Jl(n)),t.dt.push(new Jl(cn.keyField(),"asc"));else{let s=!1;for(const r of t.explicitOrderBy)t.dt.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Jl(cn.keyField(),r))}}}return t.dt}function xs(e){const t=Le(e);if(!t.wt)if(t.limitType==="F")t.wt=s0(t.path,t.collectionGroup,pa(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const r of pa(t)){const o=r.dir==="desc"?"asc":"desc";n.push(new Jl(r.field,o))}const i=t.endAt?new Hd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Hd(t.startAt.position,t.startAt.inclusive):null;t.wt=s0(t.path,t.collectionGroup,n,t.filters,t.limit,i,s)}return t.wt}function hm(e,t){t.getFirstInequalityField(),Lv(e);const n=e.filters.concat([t]);return new mu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fm(e,t,n){return new mu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mf(e,t){return kv(xs(e),xs(t))&&e.limitType===t.limitType}function LI(e){return`${Tv(xs(e))}|lt:${e.limitType}`}function pm(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>UI(i)).join(", ")}]`),gf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Fa(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Fa(i)).join(",")),`Target(${n})`}(xs(e))}; limitType=${e.limitType})`}function yf(e,t){return t.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Be.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(e,t)&&function(n,i){for(const s of pa(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,r,o){const a=n0(s,r,o);return s.inclusive?a<=0:a<0}(n.startAt,pa(n),i)||n.endAt&&!function(s,r,o){const a=n0(s,r,o);return s.inclusive?a>=0:a>0}(n.endAt,pa(n),i))}(e,t)}function F2(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function OI(e){return(t,n)=>{let i=!1;for(const s of pa(e)){const r=U2(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function U2(e,t,n){const i=e.field.isKeyField()?Be.comparator(t.key,n.key):function(s,r,o){const a=r.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Sa(a,l):Fe()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Bo(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return bI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Ht(Be.comparator);function Es(){return T2}const RI=new Ht(Be.comparator);function Ll(...e){let t=RI;for(const n of e)t=t.insert(n.key,n);return t}function DI(e){let t=RI;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Gr(){return Yl()}function MI(){return Yl()}function Yl(){return new il(e=>e.toString(),(e,t)=>e.isEqual(t))}const k2=new Ht(Be.comparator),Q2=new Pt(Be.comparator);function He(...e){let t=Q2;for(const n of e)t=t.add(n);return t}const L2=new Pt(Xe);function PI(){return L2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(t)?"-0":t}}function NI(e){return{integerValue:""+e}}function O2(e,t){return h2(t)?NI(t):HI(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function R2(e,t,n){return e instanceof Nd?function(i,s){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(r.fields.__previous_value__=s),{mapValue:r}}(n,t):e instanceof TA?VI(e,t):e instanceof kA?$I(e,t):function(i,s){const r=KI(i,s),o=o0(r)+o0(i._t);return um(r)&&um(i._t)?NI(o):HI(i.serializer,o)}(e,t)}function D2(e,t,n){return e instanceof TA?VI(e,t):e instanceof kA?$I(e,t):n}function KI(e,t){return e instanceof Kd?um(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}class Nd extends vf{}class TA extends vf{constructor(t){super(),this.elements=t}}function VI(e,t){const n=GI(t);for(const i of e.elements)n.some(s=>qi(s,i))||n.push(i);return{arrayValue:{values:n}}}class kA extends vf{constructor(t){super(),this.elements=t}}function $I(e,t){let n=GI(t);for(const i of e.elements)n=n.filter(s=>!qi(s,i));return{arrayValue:{values:n}}}class Kd extends vf{constructor(t,n){super(),this.serializer=t,this._t=n}}function o0(e){return Tt(e.integerValue||e.doubleValue)}function GI(e){return Uv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function M2(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof TA&&i instanceof TA||n instanceof kA&&i instanceof kA?Ea(n.elements,i.elements,qi):n instanceof Kd&&i instanceof Kd?qi(n._t,i._t):n instanceof Nd&&i instanceof Nd}(e.transform,t.transform)}class P2{constructor(t,n){this.version=t,this.transformResults=n}}class ai{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function td(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class wf{}function zI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ov(e.key,ai.none()):new yu(e.key,e.data,ai.none());{const n=e.data,i=Fn.empty();let s=new Pt(cn.comparator);for(let r of t.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Cr(e.key,i,new $n(s.toArray()),ai.none())}}function H2(e,t,n){e instanceof yu?function(i,s,r){const o=i.value.clone(),a=l0(i.fieldTransforms,s,r.transformResults);o.setAll(a),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Cr?function(i,s,r){if(!td(i.precondition,s))return void s.convertToUnknownDocument(r.version);const o=l0(i.fieldTransforms,s,r.transformResults),a=s.data;a.setAll(jI(i)),a.setAll(o),s.convertToFoundDocument(r.version,a).setHasCommittedMutations()}(e,t,n):function(i,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,n)}function Zl(e,t,n,i){return e instanceof yu?function(s,r,o,a){if(!td(s.precondition,r))return o;const l=s.value.clone(),A=A0(s.fieldTransforms,a,r);return l.setAll(A),r.convertToFoundDocument(r.version,l).setHasLocalMutations(),null}(e,t,n,i):e instanceof Cr?function(s,r,o,a){if(!td(s.precondition,r))return o;const l=A0(s.fieldTransforms,a,r),A=r.data;return A.setAll(jI(s)),A.setAll(l),r.convertToFoundDocument(r.version,A).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(e,t,n,i):function(s,r,o){return td(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(e,t,n)}function N2(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=KI(i.transform,s||null);r!=null&&(n===null&&(n=Fn.empty()),n.set(i.field,r))}return n||null}function a0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ea(n,i,(s,r)=>M2(s,r))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yu extends wf{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cr extends wf{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function jI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function l0(e,t,n){const i=new Map;ut(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,D2(o,a,n[s]))}return i}function A0(e,t,n){const i=new Map;for(const s of e){const r=s.transform,o=n.data.field(s.field);i.set(s.field,R2(r,o,t))}return i}class Ov extends wf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K2 extends wf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&H2(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Zl(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Zl(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=MI();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=zI(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),He())}isEqual(t){return this.batchId===t.batchId&&Ea(this.mutations,t.mutations,(n,i)=>a0(n,i))&&Ea(this.baseMutations,t.baseMutations,(n,i)=>a0(n,i))}}class Rv{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){ut(t.mutations.length===i.length);let s=k2;const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Rv(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.count=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ke;function z2(e){switch(e){default:return Fe();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function WI(e){if(e===void 0)return Cs("GRPC error has no .code"),j.UNKNOWN;switch(e){case Ft.OK:return j.OK;case Ft.CANCELLED:return j.CANCELLED;case Ft.UNKNOWN:return j.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return j.INTERNAL;case Ft.UNAVAILABLE:return j.UNAVAILABLE;case Ft.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Ft.NOT_FOUND:return j.NOT_FOUND;case Ft.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Ft.ABORTED:return j.ABORTED;case Ft.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Ft.DATA_LOSS:return j.DATA_LOSS;default:return Fe()}}(Ke=Ft||(Ft={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rc}static getOrCreateInstance(){return rc===null&&(rc=new Dv),rc}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let rc=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new _f(ke.min(),s,PI(),Es(),He())}}class vu{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new vu(i,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,n,i,s){this.It=t,this.removedTargetIds=n,this.key=i,this.Tt=s}}class qI{constructor(t,n){this.targetId=t,this.Et=n}}class XI{constructor(t,n,i=yn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class u0{constructor(){this.At=0,this.Rt=d0(),this.vt=yn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=He(),n=He(),i=He();return this.Rt.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Fe()}}),new vu(this.vt,this.bt,t,n,i)}xt(){this.Pt=!1,this.Rt=d0()}Nt(t,n){this.Pt=!0,this.Rt=this.Rt.insert(t,n)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class j2{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=Es(),this.qt=c0(),this.Ut=new Pt(Xe)}Kt(t){for(const n of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(n,t.Tt):this.Qt(n,t.key,t.Tt);for(const n of t.removedTargetIds)this.Qt(n,t.key,t.Tt)}zt(t){this.forEachTarget(t,n=>{const i=this.jt(n);switch(t.state){case 0:this.Wt(n)&&i.Dt(t.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(i.Mt(),i.Dt(t.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),i.Dt(t.resumeToken));break;default:Fe()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Bt.forEach((i,s)=>{this.Wt(s)&&n(s)})}Jt(t){var n;const i=t.targetId,s=t.Et.count,r=this.Yt(i);if(r){const o=r.target;if(dm(o))if(s===0){const a=new Be(o.path);this.Qt(i,a,An.newNoDocument(a,ke.min()))}else ut(s===1);else{const a=this.Zt(i);a!==s&&(this.Ht(i),this.Ut=this.Ut.add(i),(n=Dv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:t.Et.count}))}}}Xt(t){const n=new Map;this.Bt.forEach((r,o)=>{const a=this.Yt(o);if(a){if(r.current&&dm(a.target)){const l=new Be(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,An.newNoDocument(l,t))}r.St&&(n.set(o,r.Ct()),r.xt())}});let i=He();this.qt.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const A=this.Yt(l);return!A||A.purpose===2||(a=!1,!1)}),a&&(i=i.add(r))}),this.Lt.forEach((r,o)=>o.setReadTime(t));const s=new _f(t,n,this.Ut,this.Lt,i);return this.Lt=Es(),this.qt=c0(),this.Ut=new Pt(Xe),s}Gt(t,n){if(!this.Wt(t))return;const i=this.te(t,n.key)?2:0;this.jt(t).Nt(n.key,i),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(t))}Qt(t,n,i){if(!this.Wt(t))return;const s=this.jt(t);this.te(t,n)?s.Nt(n,1):s.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(t)),i&&(this.Lt=this.Lt.insert(n,i))}removeTarget(t){this.Bt.delete(t)}Zt(t){const n=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let n=this.Bt.get(t);return n||(n=new u0,this.Bt.set(t,n)),n}ee(t){let n=this.qt.get(t);return n||(n=new Pt(Xe),this.qt=this.qt.insert(t,n)),n}Wt(t){const n=this.Yt(t)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",t),n}Yt(t){const n=this.Bt.get(t);return n&&n.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new u0),this.Ft.getRemoteKeysForTarget(t).forEach(n=>{this.Qt(t,n,null)})}te(t,n){return this.Ft.getRemoteKeysForTarget(t).has(n)}}function c0(){return new Ht(Be.comparator)}function d0(){return new Ht(Be.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),q2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),X2=(()=>({and:"AND",or:"OR"}))();class J2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Y2(e,t){return Vd(e,t.toTimestamp())}function Ni(e){return ut(!!e),ke.fromTimestamp(function(t){const n=yr(t);return new Mt(n.seconds,n.nanos)}(e))}function Mv(e,t){return function(n){return new At(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function YI(e){const t=At.fromString(e);return ut(nS(t)),t}function gm(e,t){return Mv(e.databaseId,t.path)}function Mp(e,t){const n=YI(t);if(n.get(1)!==e.databaseId.projectId)throw new fe(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fe(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Be(ZI(n))}function mm(e,t){return Mv(e.databaseId,t)}function Z2(e){const t=YI(e);return t.length===4?At.emptyPath():ZI(t)}function ym(e){return new At(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZI(e){return ut(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function h0(e,t,n){return{name:gm(e,t),fields:n.value.mapValue.fields}}function eH(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Fe()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(l,A){return l.useProto3Json?(ut(A===void 0||typeof A=="string"),yn.fromBase64String(A||"")):(ut(A===void 0||A instanceof Uint8Array),yn.fromUint8Array(A||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const A=l.code===void 0?j.UNKNOWN:WI(l.code);return new fe(A,l.message||"")}(o);n=new XI(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Mp(e,i.document.name),r=Ni(i.document.updateTime),o=i.document.createTime?Ni(i.document.createTime):ke.min(),a=new Fn({mapValue:{fields:i.document.fields}}),l=An.newFoundDocument(s,r,o,a),A=i.targetIds||[],u=i.removedTargetIds||[];n=new nd(A,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Mp(e,i.document),r=i.readTime?Ni(i.readTime):ke.min(),o=An.newNoDocument(s,r),a=i.removedTargetIds||[];n=new nd([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Mp(e,i.document),r=i.removedTargetIds||[];n=new nd([],r,s,null)}else{if(!("filter"in t))return Fe();{t.filter;const i=t.filter;i.targetId;const s=i.count||0,r=new G2(s),o=i.targetId;n=new qI(o,r)}}return n}function tH(e,t){let n;if(t instanceof yu)n={update:h0(e,t.key,t.value)};else if(t instanceof Ov)n={delete:gm(e,t.key)};else if(t instanceof Cr)n={update:h0(e,t.key,t.data),updateMask:uH(t.fieldMask)};else{if(!(t instanceof K2))return Fe();n={verify:gm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof Nd)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof TA)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof kA)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Kd)return{fieldPath:r.field.canonicalString(),increment:o._t};throw Fe()}(0,i))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Y2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe()}(e,t.precondition)),n}function nH(e,t){return e&&e.length>0?(ut(t!==void 0),e.map(n=>function(i,s){let r=i.updateTime?Ni(i.updateTime):Ni(s);return r.isEqual(ke.min())&&(r=Ni(s)),new P2(r,i.transformResults||[])}(n,t))):[]}function iH(e,t){return{documents:[mm(e,t.path)]}}function sH(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=mm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return tS(xi.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(A=>function(u){return{field:Xo(u.field),direction:aH(u.dir)}}(A))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=function(l,A){return l.useProto3Json||gf(A)?A:{value:A}}(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function rH(e){let t=Z2(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ut(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(u){const c=eS(u);return c instanceof xi&&SI(c)?c.getFilters():[c]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(c){return new Jl(Jo(c.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(c.direction))}(u)));let a=null;n.limit&&(a=function(u){let c;return c=typeof u=="object"?u.value:u,gf(c)?null:c}(n.limit));let l=null;n.startAt&&(l=function(u){const c=!!u.before,d=u.values||[];return new Hd(d,c)}(n.startAt));let A=null;return n.endAt&&(A=function(u){const c=!u.before,d=u.values||[];return new Hd(d,c)}(n.endAt)),S2(t,s,o,r,a,"F",l,A)}function oH(e,t){const n=function(i,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fe()}}(0,t.purpose);return n==null?null:{"goog-listen-tags":n}}function eS(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Jo(t.unaryFilter.field);return Qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Jo(t.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jo(t.unaryFilter.field);return Qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Jo(t.unaryFilter.field);return Qt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(e):e.fieldFilter!==void 0?function(t){return Qt.create(Jo(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return xi.create(t.compositeFilter.filters.map(n=>eS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(e):Fe()}function aH(e){return W2[e]}function lH(e){return q2[e]}function AH(e){return X2[e]}function Xo(e){return{fieldPath:e.canonicalString()}}function Jo(e){return cn.fromServerFormat(e.fieldPath)}function tS(e){return e instanceof Qt?function(t){if(t.op==="=="){if(t0(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(e0(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(t0(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(e0(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:lH(t.op),value:t.value}}}(e):e instanceof xi?function(t){const n=t.getFilters().map(i=>tS(i));return n.length===1?n[0]:{compositeFilter:{op:AH(t.op),filters:n}}}(e):Fe()}function uH(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function nS(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n,i,s,r=ke.min(),o=ke.min(),a=yn.EMPTY_BYTE_STRING){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new to(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(t){this.se=t}}function dH(e){const t=rH({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?fm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.He=new fH}addToCollectionParentIndex(t,n){return this.He.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.He.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(mr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(mr.min())}updateCollectionGroup(t,n,i){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class fH{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Pt(At.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Pt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new Ua(0)}static bn(){return new Ua(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(){this.changes=new il(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,An.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Z.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Zl(i.mutation,s,$n.empty(),Mt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,He()).next(()=>i))}getLocalViewOfDocuments(t,n,i=He()){const s=Gr();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let o=Ll();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Gr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,He()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,s){let r=Es();const o=Yl(),a=Yl();return n.forEach((l,A)=>{const u=i.get(A.key);s.has(A.key)&&(u===void 0||u.mutation instanceof Cr)?r=r.insert(A.key,A):u!==void 0?(o.set(A.key,u.mutation.getFieldMask()),Zl(u.mutation,A,u.mutation.getFieldMask(),Mt.now())):o.set(A.key,$n.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((A,u)=>o.set(A,u)),n.forEach((A,u)=>{var c;return a.set(A,new gH(u,(c=o.get(A))!==null&&c!==void 0?c:null))}),a))}recalculateAndSaveOverlays(t,n){const i=Yl();let s=new Ht((o,a)=>o-a),r=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const A=n.get(l);if(A===null)return;let u=i.get(l)||$n.empty();u=a.applyToLocalView(A,u),i.set(l,u);const c=(s.get(a.batchId)||He()).add(l);s=s.insert(a.batchId,c)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),A=l.key,u=l.value,c=MI();u.forEach(d=>{if(!r.has(d)){const h=zI(n.get(d),i.get(d));h!==null&&c.set(d,h),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,A,c))}return Z.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(s){return Be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):QI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):Z.resolve(Gr());let a=-1,l=r;return o.next(A=>Z.forEach(A,(u,c)=>(a<c.largestBatchId&&(a=c.largestBatchId),r.get(u)?Z.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,A,r)).next(()=>this.computeViews(t,l,A,He())).next(u=>({batchId:a,changes:DI(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Be(n)).next(i=>{let s=Ll();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const s=n.collectionGroup;let r=Ll();return this.indexManager.getCollectionParents(t,s).next(o=>Z.forEach(o,a=>{const l=function(A,u){return new mu(u,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(A=>{A.forEach((u,c)=>{r=r.insert(u,c)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s))).next(r=>{s.forEach((a,l)=>{const A=l.getKey();r.get(A)===null&&(r=r.insert(A,An.newInvalidDocument(A)))});let o=Ll();return r.forEach((a,l)=>{const A=s.get(a);A!==void 0&&Zl(A.mutation,l,$n.empty(),Mt.now()),yf(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,n){return Z.resolve(this.Zn.get(n))}saveBundleMetadata(t,n){var i;return this.Zn.set(n.id,{id:(i=n).id,version:i.version,createTime:Ni(i.createTime)}),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Xn.get(n))}saveNamedQuery(t,n){return this.Xn.set(n.name,function(i){return{name:i.name,query:dH(i.bundledQuery),readTime:Ni(i.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.overlays=new Ht(Be.comparator),this.ts=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Gr();return Z.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.re(t,n,r)}),Z.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.ts.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.ts.delete(i)),Z.resolve()}getOverlaysForCollection(t,n,i){const s=Gr(),r=n.length+1,o=new Be(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,A=l.getKey();if(!n.isPrefixOf(A.path))break;A.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return Z.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ht((A,u)=>A-u);const o=this.overlays.getIterator();for(;o.hasNext();){const A=o.getNext().value;if(A.getKey().getCollectionGroup()===n&&A.largestBatchId>i){let u=r.get(A.largestBatchId);u===null&&(u=Gr(),r=r.insert(A.largestBatchId,u)),u.set(A.getKey(),A)}}const a=Gr(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((A,u)=>a.set(A,u)),!(a.size()>=s)););return Z.resolve(a)}re(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.ts.get(s.largestBatchId).delete(i.key);this.ts.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new $2(n,i));let r=this.ts.get(n);r===void 0&&(r=He(),this.ts.set(n,r)),this.ts.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.es=new Pt(Vt.ns),this.ss=new Pt(Vt.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,n){const i=new Vt(t,n);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.us(new Vt(t,n))}cs(t,n){t.forEach(i=>this.removeReference(i,n))}hs(t){const n=new Be(new At([])),i=new Vt(n,t),s=new Vt(n,t+1),r=[];return this.ss.forEachInRange([i,s],o=>{this.us(o),r.push(o.key)}),r}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const n=new Be(new At([])),i=new Vt(n,t),s=new Vt(n,t+1);let r=He();return this.ss.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new Vt(t,0),i=this.es.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Vt{constructor(t,n){this.key=t,this.ds=n}static ns(t,n){return Be.comparator(t.key,n.key)||Xe(t.ds,n.ds)}static rs(t,n){return Xe(t.ds,n.ds)||Be.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Pt(Vt.ns)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V2(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this._s=this._s.add(new Vt(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(t,n){return Z.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.ys(i),r=s<0?0:s;return Z.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),r=[];return this._s.forEachInRange([i,s],o=>{const a=this.gs(o.ds);r.push(a)}),Z.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Pt(Xe);return n.forEach(s=>{const r=new Vt(s,0),o=new Vt(s,Number.POSITIVE_INFINITY);this._s.forEachInRange([r,o],a=>{i=i.add(a.ds)})}),Z.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Be.isDocumentKey(r)||(r=r.child(""));const o=new Vt(new Be(r),0);let a=new Pt(Xe);return this._s.forEachWhile(l=>{const A=l.key.path;return!!i.isPrefixOf(A)&&(A.length===s&&(a=a.add(l.ds)),!0)},o),Z.resolve(this.ps(a))}ps(t){const n=[];return t.forEach(i=>{const s=this.gs(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ut(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this._s;return Z.forEach(n.mutations,s=>{const r=new Vt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this._s=i})}En(t){}containsKey(t,n){const i=new Vt(n,0),s=this._s.firstAfterOrEqual(i);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Is(t,n){return this.ys(t)}ys(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}gs(t){const n=this.ys(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(t){this.Ts=t,this.docs=new Ht(Be.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return Z.resolve(i?i.document.mutableCopy():An.newInvalidDocument(n))}getEntries(t,n){let i=Es();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():An.newInvalidDocument(s))}),Z.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Es();const o=n.path,a=new Be(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:A,value:{document:u}}=l.getNext();if(!o.isPrefixOf(A.path))break;A.path.length>o.length+1||u2(A2(u),i)<=0||(s.has(u.key)||yf(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return Z.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Fe()}Es(t,n){return Z.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new bH(this)}getSize(t){return Z.resolve(this.size)}}class bH extends pH{constructor(t){super(),this.Jn=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Jn.addEntry(t,s)):this.Jn.removeEntry(i)}),Z.waitFor(n)}getFromCache(t,n){return this.Jn.getEntry(t,n)}getAllFromCache(t,n){return this.Jn.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(t){this.persistence=t,this.As=new il(n=>Tv(n),kv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Pv,this.targetCount=0,this.bs=Ua.vn()}forEachTarget(t,n){return this.As.forEach((i,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Rs&&(this.Rs=n),Z.resolve()}Sn(t){this.As.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new Ua(n),this.highestTargetId=n),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,n){return this.Sn(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Sn(n),Z.resolve()}removeTargetData(t,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.As.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),Z.waitFor(r).next(()=>s)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const i=this.As.get(n)||null;return Z.resolve(i)}addMatchingKeys(t,n,i){return this.vs.os(n,i),Z.resolve()}removeMatchingKeys(t,n,i){this.vs.cs(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),Z.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.vs.hs(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const i=this.vs.fs(n);return Z.resolve(i)}containsKey(t,n){return Z.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(t,n){this.Ps={},this.overlays={},this.Vs=new Fv(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new BH(this),this.indexManager=new hH,this.remoteDocumentCache=function(i){return new _H(i)}(i=>this.referenceDelegate.Cs(i)),this.serializer=new cH(n),this.xs=new yH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new vH,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Ps[t.toKey()];return i||(i=new wH(n,this.referenceDelegate),this.Ps[t.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,n,i){ye("MemoryPersistence","Starting transaction:",t);const s=new xH(this.Vs.next());return this.referenceDelegate.Ns(),i(s).next(r=>this.referenceDelegate.ks(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Os(t,n){return Z.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,n)))}}class xH extends d2{constructor(t){super(),this.currentSequenceNumber=t}}class Hv{constructor(t){this.persistence=t,this.$s=new Pv,this.Ms=null}static Fs(t){return new Hv(t)}get Bs(){if(this.Ms)return this.Ms;throw Fe()}addReference(t,n,i){return this.$s.addReference(i,n),this.Bs.delete(i.toString()),Z.resolve()}removeReference(t,n,i){return this.$s.removeReference(i,n),this.Bs.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.Bs.add(n.toString()),Z.resolve()}removeTarget(t,n){this.$s.hs(n.targetId).forEach(s=>this.Bs.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.Bs.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ns(){this.Ms=new Set}ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Bs,i=>{const s=Be.fromPath(i);return this.Ls(t,s).next(r=>{r||n.removeEntry(s,ke.min())})}).next(()=>(this.Ms=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ls(t,n).next(i=>{i?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(t){return 0}Ls(t,n){return Z.or([()=>Z.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Os(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Vi=i,this.Si=s}static Di(t,n){let i=He(),s=He();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Nv(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.Ci=!1}initialize(t,n){this.xi=t,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(t,n,i,s){return this.Ni(t,n).next(r=>r||this.ki(t,n,s,i)).next(r=>r||this.Oi(t,n))}Ni(t,n){if(r0(n))return Z.resolve(null);let i=xs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fm(n,null,"F"),i=xs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=He(...r);return this.xi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const A=this.$i(n,a);return this.Mi(n,A,o,l.readTime)?this.Ni(t,fm(n,null,"F")):this.Fi(t,A,n,l)}))})))}ki(t,n,i,s){return r0(n)||s.isEqual(ke.min())?this.Oi(t,n):this.xi.getDocuments(t,i).next(r=>{const o=this.$i(n,r);return this.Mi(n,o,i,s)?this.Oi(t,n):(qb()<=je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pm(n)),this.Fi(t,o,n,l2(s,-1)))})}$i(t,n){let i=new Pt(OI(t));return n.forEach((s,r)=>{yf(t,r)&&(i=i.add(r))}),i}Mi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Oi(t,n){return qb()<=je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",pm(n)),this.xi.getDocumentsMatchingQuery(t,n,mr.min())}Fi(t,n,i,s){return this.xi.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(t,n,i,s){this.persistence=t,this.Bi=n,this.serializer=s,this.Li=new Ht(Xe),this.qi=new il(r=>Tv(r),kv),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(i)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mH(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Li))}}function SH(e,t,n,i){return new IH(e,t,n,i)}async function iS(e,t){const n=Le(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Gi(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=He();for(const A of s){o.push(A.batchId);for(const u of A.mutations)l=l.add(u.key)}for(const A of r){a.push(A.batchId);for(const u of A.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(A=>({Qi:A,removedBatchIds:o,addedBatchIds:a}))})})}function FH(e,t){const n=Le(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,A){const u=l.batch,c=u.keys();let d=Z.resolve();return c.forEach(h=>{d=d.next(()=>A.getEntry(a,h)).next(p=>{const m=l.docVersions.get(h);ut(m!==null),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),A.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=He();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function sS(e){const t=Le(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ds.getLastRemoteSnapshotVersion(n))}function UH(e,t){const n=Le(e),i=t.snapshotVersion;let s=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});s=n.Li;const a=[];t.targetChanges.forEach((u,c)=>{const d=s.get(c);if(!d)return;a.push(n.Ds.removeMatchingKeys(r,u.removedDocuments,c).next(()=>n.Ds.addMatchingKeys(r,u.addedDocuments,c)));let h=d.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.has(c)?h=h.withResumeToken(yn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,i)),s=s.insert(c,h),function(p,m,g){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,h,u)&&a.push(n.Ds.updateTargetData(r,h))});let l=Es(),A=He();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(TH(r,o,t.documentUpdates).next(u=>{l=u.zi,A=u.ji})),!i.isEqual(ke.min())){const u=n.Ds.getLastRemoteSnapshotVersion(r).next(c=>n.Ds.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return Z.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,A)).next(()=>l)}).then(r=>(n.Li=s,r))}function TH(e,t,n){let i=He(),s=He();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let o=Es();return n.forEach((a,l)=>{const A=r.get(a);l.isFoundDocument()!==A.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!A.isValidDocument()||l.version.compareTo(A.version)>0||l.version.compareTo(A.version)===0&&A.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",A.version," Watch version:",l.version)}),{zi:o,ji:s}})}function kH(e,t){const n=Le(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function QH(e,t){const n=Le(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ds.getTargetData(i,t).next(r=>r?(s=r,Z.resolve(s)):n.Ds.allocateTargetId(i).next(o=>(s=new to(t,o,0,i.currentSequenceNumber),n.Ds.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Li.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Li=n.Li.insert(i.targetId,i),n.qi.set(t,i.targetId)),i})}async function vm(e,t,n){const i=Le(e),s=i.Li.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!gu(o))throw o;ye("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Li=i.Li.remove(t),i.qi.delete(s.target)}function f0(e,t,n){const i=Le(e);let s=ke.min(),r=He();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,A){const u=Le(a),c=u.qi.get(A);return c!==void 0?Z.resolve(u.Li.get(c)):u.Ds.getTargetData(l,A)}(i,o,xs(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Bi.getDocumentsMatchingQuery(o,t,n?s:ke.min(),n?r:He())).next(a=>(LH(i,F2(t),a),{documents:a,Wi:r})))}function LH(e,t,n){let i=e.Ui.get(t)||ke.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ui.set(t,i)}class p0{constructor(){this.activeTargetIds=PI()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OH{constructor(){this.Br=new p0,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,n,i){this.Lr[t]=n}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new p0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{qr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function Pp(){return oc===null?oc=268435456+Math.round(2147483648*Math.random()):oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class PH extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,n,i,s,r){const o=Pp(),a=this.ao(t,n);ye("RestConnection",`Sending RPC '${t}' ${o}:`,a,i);const l={};return this.ho(l,s,r),this.lo(t,a,l,i).then(A=>(ye("RestConnection",`Received RPC '${t}' ${o}: `,A),A),A=>{throw Md("RestConnection",`RPC '${t}' ${o} failed with error: `,A,"url: ",a,"request:",i),A})}fo(t,n,i,s,r,o){return this.co(t,n,i,s,r)}ho(t,n,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+nl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}ao(t,n){const i=DH[t];return`${this.ro}/v1/${n}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,n,i,s){const r=Pp();return new Promise((o,a)=>{const l=new YP;l.setWithCredentials(!0),l.listenOnce(qP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dp.NO_ERROR:const u=l.getResponseJson();ye(sn,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(u)),o(u);break;case Dp.TIMEOUT:ye(sn,`RPC '${t}' ${r} timed out`),a(new fe(j.DEADLINE_EXCEEDED,"Request time out"));break;case Dp.HTTP_ERROR:const c=l.getStatus();if(ye(sn,`RPC '${t}' ${r} failed with status:`,c,"response text:",l.getResponseText()),c>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(g)>=0?g:j.UNKNOWN}(h.status);a(new fe(p,h.message))}else a(new fe(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(j.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{ye(sn,`RPC '${t}' ${r} completed.`)}});const A=JSON.stringify(s);ye(sn,`RPC '${t}' ${r} sending request:`,s),l.send(n,"POST",A,i,15)})}wo(t,n,i){const s=Pp(),r=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=jP(),a=WP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new JP({})),this.ho(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const A=r.join("");ye(sn,`Creating RPC '${t}' stream ${s}: ${A}`,l);const u=o.createWebChannel(A,l);let c=!1,d=!1;const h=new MH({Wr:m=>{d?ye(sn,`Not sending because RPC '${t}' stream ${s} is closed:`,m):(c||(ye(sn,`Opening RPC '${t}' stream ${s} transport.`),u.open(),c=!0),ye(sn,`RPC '${t}' stream ${s} sending:`,m),u.send(m))},Hr:()=>u.close()}),p=(m,g,w)=>{m.listen(g,v=>{try{w(v)}catch(C){setTimeout(()=>{throw C},0)}})};return p(u,nc.EventType.OPEN,()=>{d||ye(sn,`RPC '${t}' stream ${s} transport opened.`)}),p(u,nc.EventType.CLOSE,()=>{d||(d=!0,ye(sn,`RPC '${t}' stream ${s} transport closed`),h.so())}),p(u,nc.EventType.ERROR,m=>{d||(d=!0,Md(sn,`RPC '${t}' stream ${s} transport errored:`,m),h.so(new fe(j.UNAVAILABLE,"The operation could not be completed")))}),p(u,nc.EventType.MESSAGE,m=>{var g;if(!d){const w=m.data[0];ut(!!w);const v=w,C=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(C){ye(sn,`RPC '${t}' stream ${s} received error:`,C);const B=C.status;let E=function(F){const U=Ft[F];if(U!==void 0)return WI(U)}(B),S=C.message;E===void 0&&(E=j.INTERNAL,S="Unknown error status: "+B+" with message "+C.message),d=!0,h.so(new fe(E,S)),u.close()}else ye(sn,`RPC '${t}' stream ${s} received:`,w),h.io(w)}}),p(a,XP.STAT_EVENT,m=>{m.stat===jb.PROXY?ye(sn,`RPC '${t}' stream ${s} detected buffering proxy`):m.stat===jb.NOPROXY&&ye(sn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{h.no()},0),h}}function Hp(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(e){return new J2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ws=t,this.timerId=n,this._o=i,this.mo=s,this.yo=r,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const n=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),s=Math.max(0,n-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,s,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,n,i,s,r,o,a,l){this.Ws=t,this.bo=i,this.Po=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new rS(t,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(t,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,t!==4?this.Co.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Vo===n&&this.Ko(i,s)},i=>{t(()=>{const s=new fe(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(s)})})}Ko(t,n){const i=this.Uo(this.Vo);this.stream=this.Qo(t,n),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(s=>{i(()=>this.Go(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(t){return ye("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===t?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HH extends oS{constructor(t,n,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}Qo(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Co.reset();const n=eH(this.serializer,t),i=function(s){if(!("targetChange"in s))return ke.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?ke.min():r.readTime?Ni(r.readTime):ke.min()}(t);return this.listener.zo(n,i)}jo(t){const n={};n.database=ym(this.serializer),n.addTarget=function(s,r){let o;const a=r.target;return o=dm(a)?{documents:iH(s,a)}:{query:sH(s,a)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0?o.resumeToken=JI(s,r.resumeToken):r.snapshotVersion.compareTo(ke.min())>0&&(o.readTime=Vd(s,r.snapshotVersion.toTimestamp())),o}(this.serializer,t);const i=oH(this.serializer,t);i&&(n.labels=i),this.Fo(n)}Wo(t){const n={};n.database=ym(this.serializer),n.removeTarget=t,this.Fo(n)}}class NH extends oS{constructor(t,n,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const n=nH(t.writeResults,t.commitTime),i=Ni(t.commitTime);return this.listener.Zo(i,n)}return ut(!t.writeResults||t.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=ym(this.serializer),this.Fo(t)}Yo(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>tH(this.serializer,i))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.eu=!1}nu(){if(this.eu)throw new fe(j.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,n,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.co(t,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(j.UNKNOWN,s.toString())})}fo(t,n,i,s){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.fo(t,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new fe(j.UNKNOWN,r.toString())})}terminate(){this.eu=!0}}class VH{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,t==="Online"&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Cs(n),this.ru=!1):ye("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=r,this._u.qr(o=>{i.enqueueAndForget(async()=>{Co(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Le(a);l.du.add(4),await wu(l),l.mu.set("Unknown"),l.du.delete(4),await Bf(l)}(this))})}),this.mu=new VH(i,s)}}async function Bf(e){if(Co(e))for(const t of e.wu)await t(!0)}async function wu(e){for(const t of e.wu)await t(!1)}function aS(e,t){const n=Le(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),$v(n)?Vv(n):sl(n).No()&&Kv(n,t))}function lS(e,t){const n=Le(e),i=sl(n);n.fu.delete(t),i.No()&&AS(n,t),n.fu.size===0&&(i.No()?i.$o():Co(n)&&n.mu.set("Unknown"))}function Kv(e,t){e.gu.Ot(t.targetId),sl(e).jo(t)}function AS(e,t){e.gu.Ot(t),sl(e).Wo(t)}function Vv(e){e.gu=new j2({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>e.fu.get(t)||null}),sl(e).start(),e.mu.ou()}function $v(e){return Co(e)&&!sl(e).xo()&&e.fu.size>0}function Co(e){return Le(e).du.size===0}function uS(e){e.gu=void 0}async function GH(e){e.fu.forEach((t,n)=>{Kv(e,t)})}async function zH(e,t){uS(e),$v(e)?(e.mu.au(t),Vv(e)):e.mu.set("Unknown")}async function jH(e,t,n){if(e.mu.set("Online"),t instanceof XI&&t.state===2&&t.cause)try{await async function(i,s){const r=s.cause;for(const o of s.targetIds)i.fu.has(o)&&(await i.remoteSyncer.rejectListen(o,r),i.fu.delete(o),i.gu.removeTarget(o))}(e,t)}catch(i){ye("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $d(e,i)}else if(t instanceof nd?e.gu.Kt(t):t instanceof qI?e.gu.Jt(t):e.gu.zt(t),!n.isEqual(ke.min()))try{const i=await sS(e.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.gu.Xt(r);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const A=s.fu.get(l);A&&s.fu.set(l,A.withResumeToken(a.resumeToken,r))}}),o.targetMismatches.forEach(a=>{const l=s.fu.get(a);if(!l)return;s.fu.set(a,l.withResumeToken(yn.EMPTY_BYTE_STRING,l.snapshotVersion)),AS(s,a);const A=new to(l.target,a,1,l.sequenceNumber);Kv(s,A)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){ye("RemoteStore","Failed to raise snapshot:",i),await $d(e,i)}}async function $d(e,t,n){if(!gu(t))throw t;e.du.add(1),await wu(e),e.mu.set("Offline"),n||(n=()=>sS(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),e.du.delete(1),await Bf(e)})}function cS(e,t){return t().catch(n=>$d(e,n,t))}async function Cf(e){const t=Le(e),n=vr(t);let i=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;WH(t);)try{const s=await kH(t.localStore,i);if(s===null){t.lu.length===0&&n.$o();break}i=s.batchId,qH(t,s)}catch(s){await $d(t,s)}dS(t)&&hS(t)}function WH(e){return Co(e)&&e.lu.length<10}function qH(e,t){e.lu.push(t);const n=vr(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function dS(e){return Co(e)&&!vr(e).xo()&&e.lu.length>0}function hS(e){vr(e).start()}async function XH(e){vr(e).tu()}async function JH(e){const t=vr(e);for(const n of e.lu)t.Yo(n.mutations)}async function YH(e,t,n){const i=e.lu.shift(),s=Rv.from(i,t,n);await cS(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Cf(e)}async function ZH(e,t){t&&vr(e).Jo&&await async function(n,i){if(s=i.code,z2(s)&&s!==j.ABORTED){const r=n.lu.shift();vr(n).Oo(),await cS(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Cf(n)}var s}(e,t),dS(e)&&hS(e)}async function m0(e,t){const n=Le(e);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const i=Co(n);n.du.add(3),await wu(n),i&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.du.delete(3),await Bf(n)}async function eN(e,t){const n=Le(e);t?(n.du.delete(2),await Bf(n)):t||(n.du.add(2),await wu(n),n.mu.set("Unknown"))}function sl(e){return e.yu||(e.yu=function(t,n,i){const s=Le(t);return s.nu(),new HH(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Jr:GH.bind(null,e),Zr:zH.bind(null,e),zo:jH.bind(null,e)}),e.wu.push(async t=>{t?(e.yu.Oo(),$v(e)?Vv(e):e.mu.set("Unknown")):(await e.yu.stop(),uS(e))})),e.yu}function vr(e){return e.pu||(e.pu=function(t,n,i){const s=Le(t);return s.nu(),new NH(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Jr:XH.bind(null,e),Zr:ZH.bind(null,e),Xo:JH.bind(null,e),Zo:YH.bind(null,e)}),e.wu.push(async t=>{t?(e.pu.Oo(),await Cf(e)):(await e.pu.stop(),e.lu.length>0&&(ye("RemoteStore",`Stopping write stream with ${e.lu.length} pending writes`),e.lu=[]))})),e.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,s,r){const o=Date.now()+i,a=new Gv(t,n,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(e,t){if(Cs("AsyncQueue",`${t}: ${e}`),gu(e))return new fe(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Be.comparator(n.key,i.key):(n,i)=>Be.comparator(n.key,i.key),this.keyedMap=Ll(),this.sortedSet=new Ht(this.comparator)}static emptySet(t){return new ga(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ga)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ga;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.Iu=new Ht(Be.comparator)}track(t){const n=t.doc.key,i=this.Iu.get(n);i?t.type!==0&&i.type===3?this.Iu=this.Iu.insert(n,t):t.type===3&&i.type!==1?this.Iu=this.Iu.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Iu=this.Iu.remove(n):t.type===1&&i.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:t.doc}):Fe():this.Iu=this.Iu.insert(n,t)}Tu(){const t=[];return this.Iu.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ta{constructor(t,n,i,s,r,o,a,l,A){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=A}static fromInitialDocuments(t,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ta(t,n,ga.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Eu=void 0,this.listeners=[]}}class nN{constructor(){this.queries=new il(t=>LI(t),mf),this.onlineState="Unknown",this.Au=new Set}}async function fS(e,t){const n=Le(e),i=t.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new tN),s)try{r.Eu=await n.onListen(i)}catch(o){const a=zv(o,`Initialization of query '${pm(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.listeners.push(t),t.Ru(n.onlineState),r.Eu&&t.vu(r.Eu)&&jv(n)}async function pS(e,t){const n=Le(e),i=t.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function iN(e,t){const n=Le(e);let i=!1;for(const s of t){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.vu(s)&&(i=!0);o.Eu=s}}i&&jv(n)}function sN(e,t,n){const i=Le(e),s=i.queries.get(t);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(t)}function jv(e){e.Au.forEach(t=>{t.next()})}class gS{constructor(t,n,i){this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ta(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),n=!0):this.Du(t,this.onlineState)&&(this.Cu(t),n=!0),this.Vu=t,n}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),n=!0),n}Du(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.xu||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Su(t){if(t.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(t){t=Ta.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.key=t}}class yS{constructor(t){this.key=t}}class rN{constructor(t,n){this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=He(),this.mutatedKeys=He(),this.Ku=OI(t),this.Gu=new ga(this.Ku)}get Qu(){return this.Lu}zu(t,n){const i=n?n.ju:new y0,s=n?n.Gu:this.Gu;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,A=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,c)=>{const d=s.get(u),h=yf(this.query,c)?c:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(i.track({type:3,doc:h}),g=!0):this.Wu(d,h)||(i.track({type:2,doc:h}),g=!0,(l&&this.Ku(h,l)>0||A&&this.Ku(h,A)<0)&&(a=!0)):!d&&h?(i.track({type:0,doc:h}),g=!0):d&&!h&&(i.track({type:1,doc:d}),g=!0,(l||A)&&(a=!0)),g&&(h?(o=o.add(h),r=m?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{Gu:o,ju:i,Mi:a,mutatedKeys:r}}Wu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const s=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const r=t.ju.Tu();r.sort((A,u)=>function(c,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return h(c)-h(d)}(A.type,u.type)||this.Ku(A.doc,u.doc)),this.Hu(i);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,r.length!==0||l?{snapshot:new Ta(this.query,t.Gu,s,r,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new y0,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=He(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const n=[];return t.forEach(i=>{this.Uu.has(i)||n.push(new yS(i))}),this.Uu.forEach(i=>{t.has(i)||n.push(new mS(i))}),n}Xu(t){this.Lu=t.Wi,this.Uu=He();const n=this.zu(t.documents);return this.applyChanges(n,!0)}tc(){return Ta.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class oN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class aN{constructor(t){this.key=t,this.ec=!1}}class lN{constructor(t,n,i,s,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new il(a=>LI(a),mf),this.ic=new Map,this.rc=new Set,this.oc=new Ht(Be.comparator),this.uc=new Map,this.cc=new Pv,this.ac={},this.hc=new Map,this.lc=Ua.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function AN(e,t){const n=vN(e);let i,s;const r=n.sc.get(t);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.tc();else{const o=await QH(n.localStore,xs(t));n.isPrimaryClient&&aS(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await uN(n,t,i,a==="current",o.resumeToken)}return s}async function uN(e,t,n,i,s){e.dc=(c,d,h)=>async function(p,m,g,w){let v=m.view.zu(g);v.Mi&&(v=await f0(p.localStore,m.query,!1).then(({documents:E})=>m.view.zu(E,v)));const C=w&&w.targetChanges.get(m.targetId),B=m.view.applyChanges(v,p.isPrimaryClient,C);return w0(p,m.targetId,B.Yu),B.snapshot}(e,c,d,h);const r=await f0(e.localStore,t,!0),o=new rN(t,r.Wi),a=o.zu(r.documents),l=vu.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),A=o.applyChanges(a,e.isPrimaryClient,l);w0(e,n,A.Yu);const u=new oN(t,n,o);return e.sc.set(t,u),e.ic.has(n)?e.ic.get(n).push(t):e.ic.set(n,[t]),A.snapshot}async function cN(e,t){const n=Le(e),i=n.sc.get(t),s=n.ic.get(i.targetId);if(s.length>1)return n.ic.set(i.targetId,s.filter(r=>!mf(r,t))),void n.sc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await vm(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),lS(n.remoteStore,i.targetId),wm(n,i.targetId)}).catch(pu)):(wm(n,i.targetId),await vm(n.localStore,i.targetId,!0))}async function dN(e,t,n){const i=wN(e);try{const s=await function(r,o){const a=Le(r),l=Mt.now(),A=o.reduce((d,h)=>d.add(h.key),He());let u,c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=Es(),p=He();return a.Ki.getEntries(d,A).next(m=>{h=m,h.forEach((g,w)=>{w.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(m=>{u=m;const g=[];for(const w of o){const v=N2(w,u.get(w.key).overlayedDocument);v!=null&&g.push(new Cr(w.key,v,xI(v.value.mapValue),ai.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,g,o)}).next(m=>{c=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,m.batchId,g)})}).then(()=>({batchId:c.batchId,changes:DI(u)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(r,o,a){let l=r.ac[r.currentUser.toKey()];l||(l=new Ht(Xe)),l=l.insert(o,a),r.ac[r.currentUser.toKey()]=l}(i,s.batchId,n),await _u(i,s.changes),await Cf(i.remoteStore)}catch(s){const r=zv(s,"Failed to persist write");n.reject(r)}}async function vS(e,t){const n=Le(e);try{const i=await UH(n.localStore,t);t.targetChanges.forEach((s,r)=>{const o=n.uc.get(r);o&&(ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ec=!0:s.modifiedDocuments.size>0?ut(o.ec):s.removedDocuments.size>0&&(ut(o.ec),o.ec=!1))}),await _u(n,i,t)}catch(i){await pu(i)}}function v0(e,t,n){const i=Le(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.sc.forEach((r,o)=>{const a=o.view.Ru(t);a.snapshot&&s.push(a.snapshot)}),function(r,o){const a=Le(r);a.onlineState=o;let l=!1;a.queries.forEach((A,u)=>{for(const c of u.listeners)c.Ru(o)&&(l=!0)}),l&&jv(a)}(i.eventManager,t),s.length&&i.nc.zo(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function hN(e,t,n){const i=Le(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.uc.get(t),r=s&&s.key;if(r){let o=new Ht(Be.comparator);o=o.insert(r,An.newNoDocument(r,ke.min()));const a=He().add(r),l=new _f(ke.min(),new Map,new Pt(Xe),o,a);await vS(i,l),i.oc=i.oc.remove(r),i.uc.delete(t),Wv(i)}else await vm(i.localStore,t,!1).then(()=>wm(i,t,n)).catch(pu)}async function fN(e,t){const n=Le(e),i=t.batch.batchId;try{const s=await FH(n.localStore,t);_S(n,i,null),wS(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _u(n,s)}catch(s){await pu(s)}}async function pN(e,t,n){const i=Le(e);try{const s=await function(r,o){const a=Le(r);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let A;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(ut(u!==null),A=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,A,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,A)).next(()=>a.localDocuments.getDocuments(l,A))})}(i.localStore,t);_S(i,t,n),wS(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await _u(i,s)}catch(s){await pu(s)}}function wS(e,t){(e.hc.get(t)||[]).forEach(n=>{n.resolve()}),e.hc.delete(t)}function _S(e,t,n){const i=Le(e);let s=i.ac[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.ac[i.currentUser.toKey()]=s}}function wm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.ic.get(t))e.sc.delete(i),n&&e.nc.wc(i,n);e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach(i=>{e.cc.containsKey(i)||bS(e,i)})}function bS(e,t){e.rc.delete(t.path.canonicalString());const n=e.oc.get(t);n!==null&&(lS(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Wv(e))}function w0(e,t,n){for(const i of n)i instanceof mS?(e.cc.addReference(i.key,t),gN(e,i)):i instanceof yS?(ye("SyncEngine","Document no longer in limbo: "+i.key),e.cc.removeReference(i.key,t),e.cc.containsKey(i.key)||bS(e,i.key)):Fe()}function gN(e,t){const n=t.key,i=n.path.canonicalString();e.oc.get(n)||e.rc.has(i)||(ye("SyncEngine","New document in limbo: "+n),e.rc.add(i),Wv(e))}function Wv(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){const t=e.rc.values().next().value;e.rc.delete(t);const n=new Be(At.fromString(t)),i=e.lc.next();e.uc.set(i,new aN(n)),e.oc=e.oc.insert(n,i),aS(e.remoteStore,new to(xs(Qv(n.path)),i,2,Fv.ct))}}async function _u(e,t,n){const i=Le(e),s=[],r=[],o=[];i.sc.isEmpty()||(i.sc.forEach((a,l)=>{o.push(i.dc(l,t,n).then(A=>{if((A||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,A!=null&&A.fromCache?"not-current":"current"),A){s.push(A);const u=Nv.Di(l.targetId,A);r.push(u)}}))}),await Promise.all(o),i.nc.zo(s),await async function(a,l){const A=Le(a);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>Z.forEach(l,c=>Z.forEach(c.Vi,d=>A.persistence.referenceDelegate.addReference(u,c.targetId,d)).next(()=>Z.forEach(c.Si,d=>A.persistence.referenceDelegate.removeReference(u,c.targetId,d)))))}catch(u){if(!gu(u))throw u;ye("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const c=u.targetId;if(!u.fromCache){const d=A.Li.get(c),h=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(h);A.Li=A.Li.insert(c,p)}}}(i.localStore,r))}async function mN(e,t){const n=Le(e);if(!n.currentUser.isEqual(t)){ye("SyncEngine","User change. New user:",t.toKey());const i=await iS(n.localStore,t);n.currentUser=t,function(s,r){s.hc.forEach(o=>{o.forEach(a=>{a.reject(new fe(j.CANCELLED,r))})}),s.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await _u(n,i.Qi)}}function yN(e,t){const n=Le(e),i=n.uc.get(t);if(i&&i.ec)return He().add(i.key);{let s=He();const r=n.ic.get(t);if(!r)return s;for(const o of r){const a=n.sc.get(o);s=s.unionWith(a.view.Qu)}return s}}function vN(e){const t=Le(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hN.bind(null,t),t.nc.zo=iN.bind(null,t.eventManager),t.nc.wc=sN.bind(null,t.eventManager),t}function wN(e){const t=Le(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,t),t}class _0{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=bf(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return SH(this.persistence,new EH,t.initialUser,this.serializer)}createPersistence(t){return new CH(Hv.Fs,this.serializer)}createSharedClientState(t){return new OH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _N{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>v0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mN.bind(null,this.syncEngine),await eN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new nN}createDatastore(t){const n=bf(t.databaseInfo.databaseId),i=(s=t.databaseInfo,new PH(s));var s;return function(r,o,a,l){return new KH(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return n=this.localStore,i=this.datastore,s=t.asyncQueue,r=a=>v0(this.syncEngine,a,0),o=g0.D()?new g0:new RH,new $H(n,i,s,r,o);var n,i,s,r,o}createSyncEngine(t,n){return function(i,s,r,o,a,l,A){const u=new lN(i,s,r,o,a,l);return A&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Le(t);ye("RemoteStore","RemoteStore shutting down."),n.du.add(5),await wu(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):Cs("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=an.UNAUTHENTICATED,this.clientId=_I.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{ye("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(ye("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=zv(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Np(e,t){e.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await iS(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function b0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await CN(e);ye("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(s=>m0(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>m0(t.remoteStore,r)),e._onlineComponents=t}function BN(e){return e.name==="FirebaseError"?e.code===j.FAILED_PRECONDITION||e.code===j.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function CN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Np(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!BN(n))throw n;Md("Error using user provided cache. Falling back to memory cache: "+n),await Np(e,new _0)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Np(e,new _0);return e._offlineComponents}async function CS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await b0(e,e._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await b0(e,new _N))),e._onlineComponents}function xN(e){return CS(e).then(t=>t.syncEngine)}async function xS(e){const t=await CS(e),n=t.eventManager;return n.onListen=AN.bind(null,t.syncEngine),n.onUnlisten=cN.bind(null,t.syncEngine),n}function EN(e,t,n={}){const i=new ys;return e.asyncQueue.enqueueAndForget(async()=>function(s,r,o,a,l){const A=new BS({next:c=>{r.enqueueAndForget(()=>pS(s,u));const d=c.docs.has(o);!d&&c.fromCache?l.reject(new fe(j.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&c.fromCache&&a&&a.source==="server"?l.reject(new fe(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(c)},error:c=>l.reject(c)}),u=new gS(Qv(o.path),A,{includeMetadataChanges:!0,xu:!0});return fS(s,u)}(await xS(e),e.asyncQueue,t,n,i)),i.promise}function IN(e,t,n={}){const i=new ys;return e.asyncQueue.enqueueAndForget(async()=>function(s,r,o,a,l){const A=new BS({next:c=>{r.enqueueAndForget(()=>pS(s,u)),c.fromCache&&a.source==="server"?l.reject(new fe(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(c)},error:c=>l.reject(c)}),u=new gS(o,A,{includeMetadataChanges:!0,xu:!0});return fS(s,u)}(await xS(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(e,t,n){if(!n)throw new fe(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function SN(e,t,n,i){if(t===!0&&i===!0)throw new fe(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function C0(e){if(!Be.isDocumentKey(e))throw new fe(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function x0(e){if(Be.isDocumentKey(e))throw new fe(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Fe()}function Ei(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fe(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(e);throw new fe(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new fe(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new fe(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,SN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new fe(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ZP;switch(n.type){case"firstParty":return new i2(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=B0.get(t);n&&(ye("ComponentProvider","Removing Datastore"),B0.delete(t),n.terminate())}(this),Promise.resolve()}}function FN(e,t,n,i={}){var s;const r=(e=Ei(e,Ef))._getSettings();if(r.host!=="firestore.googleapis.com"&&r.host!==t&&Md("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},r),{host:`${t}:${n}`,ssl:!1})),i.mockUserToken){let o,a;if(typeof i.mockUserToken=="string")o=i.mockUserToken,a=an.MOCK_USER;else{o=dE(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new fe(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new an(l)}e._authCredentials=new e2(new wI(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class rl{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new rl(this.firestore,t,this._query)}}class cr extends rl{constructor(t,n,i){super(t,n,Qv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new Be(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function tr(e,t,...n){if(e=vt(e),ES("collection","path",t),e instanceof Ef){const i=At.fromString(t,...n);return x0(i),new cr(e,null,i)}{if(!(e instanceof Cn||e instanceof cr))throw new fe(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return x0(i),new cr(e.firestore,null,i)}}function vi(e,t,...n){if(e=vt(e),arguments.length===1&&(t=_I.A()),ES("doc","path",t),e instanceof Ef){const i=At.fromString(t,...n);return C0(i),new Cn(e,null,new Be(i))}{if(!(e instanceof Cn||e instanceof cr))throw new fe(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return C0(i),new Cn(e.firestore,e instanceof cr?e.converter:null,new Be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new rS(this,"async_queue_retry"),this.qc=()=>{const n=Hp();n&&ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const t=Hp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ys;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(t){if(!gu(t))throw t;ye("AsyncQueue","Operation failed with retryable error: "+t)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(t){const n=this.Nc.then(()=>(this.Fc=!0,t().catch(i=>{this.Mc=i,this.Fc=!1;const s=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(i);throw Cs("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Fc=!1,i))));return this.Nc=n,n}enqueueAfterDelay(t,n,i){this.Uc(),this.Lc.indexOf(t)>-1&&(n=0);const s=Gv.createAndSchedule(this,t,n,i,r=>this.Qc(r));return this.$c.push(s),s}Uc(){this.Mc&&Fe()}verifyOperationInProgress(){}async zc(){let t;do t=this.Nc,await t;while(t!==this.Nc)}jc(t){for(const n of this.$c)if(n.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const n=this.$c.indexOf(t);this.$c.splice(n,1)}}class xo extends Ef{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new UN,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||IS(this),this._firestoreClient.terminate()}}function TN(e,t){const n=typeof e=="object"?e:ru(),i=typeof e=="string"?e:t||"(default)",s=_o(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=sv("firestore");r&&FN(s,...r)}return s}function qv(e){return e._firestoreClient||IS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function IS(e){var t,n,i;const s=e._freezeSettings(),r=function(o,a,l,A){return new g2(o,a,l,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new bN(e._authCredentials,e._appCheckCredentials,e._queue,r),((n=s.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((i=s.cache)===null||i===void 0?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ka(yn.fromBase64String(t))}catch(n){throw new fe(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ka(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new fe(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new fe(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fe(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xe(this._lat,t._lat)||Xe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^__.*__$/;class QN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new yu(t,this.data,n,this.fieldTransforms)}}class SS{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Cr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function FS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Yv{constructor(t,n,i,s,r,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Jc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new Yv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Zc({path:i,ta:!1});return s.ea(t),s}na(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Zc({path:i,ta:!1});return s.Jc(),s}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return Gd(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(t.length===0)throw this.ia("Document fields must not be empty");if(FS(this.Yc)&&kN.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class LN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||bf(t)}ua(t,n,i,s=!1){return new Yv({Yc:t,methodName:n,oa:i,path:cn.emptyPath(),ta:!1,ra:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sf(e){const t=e._freezeSettings(),n=bf(e._databaseId);return new LN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function US(e,t,n,i,s,r={}){const o=e.ua(r.merge||r.mergeFields?2:0,t,n,s);Zv("Data must be an object, but it was:",o,i);const a=TS(i,o);let l,A;if(r.merge)l=new $n(o.fieldMask),A=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const c of r.mergeFields){const d=_m(t,c,n);if(!o.contains(d))throw new fe(j.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);QS(u,d)||u.push(d)}l=new $n(u),A=o.fieldTransforms.filter(c=>l.covers(c.field))}else l=null,A=o.fieldTransforms;return new QN(new Fn(a),l,A)}class Ff extends Xv{_toFieldTransform(t){if(t.Yc!==2)throw t.Yc===1?t.ia(`${this._methodName}() can only appear at the top level of your update data`):t.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ff}}function ON(e,t,n,i){const s=e.ua(1,t,n);Zv("Data must be an object, but it was:",s,i);const r=[],o=Fn.empty();Bo(i,(l,A)=>{const u=ew(t,l,n);A=vt(A);const c=s.na(u);if(A instanceof Ff)r.push(u);else{const d=bu(A,c);d!=null&&(r.push(u),o.set(u,d))}});const a=new $n(r);return new SS(o,a,s.fieldTransforms)}function RN(e,t,n,i,s,r){const o=e.ua(1,t,n),a=[_m(t,i,n)],l=[s];if(r.length%2!=0)throw new fe(j.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<r.length;d+=2)a.push(_m(t,r[d])),l.push(r[d+1]);const A=[],u=Fn.empty();for(let d=a.length-1;d>=0;--d)if(!QS(A,a[d])){const h=a[d];let p=l[d];p=vt(p);const m=o.na(h);if(p instanceof Ff)A.push(h);else{const g=bu(p,m);g!=null&&(A.push(h),u.set(h,g))}}const c=new $n(A);return new SS(u,c,o.fieldTransforms)}function DN(e,t,n,i=!1){return bu(n,e.ua(i?4:3,t))}function bu(e,t){if(kS(e=vt(e)))return Zv("Unsupported field value:",t,e),TS(e,t);if(e instanceof Xv)return function(n,i){if(!FS(i.Yc))throw i.ia(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&t.Yc!==4)throw t.ia("Nested arrays are not supported");return function(n,i){const s=[];let r=0;for(const o of n){let a=bu(o,i.sa(r));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),r++}return{arrayValue:{values:s}}}(e,t)}return function(n,i){if((n=vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return O2(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Mt.fromDate(n);return{timestampValue:Vd(i.serializer,s)}}if(n instanceof Mt){const s=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vd(i.serializer,s)}}if(n instanceof Jv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ka)return{bytesValue:JI(i.serializer,n._byteString)};if(n instanceof Cn){const s=i.databaseId,r=n.firestore._databaseId;if(!r.isEqual(s))throw i.ia(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mv(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.ia(`Unsupported field value: ${xf(n)}`)}(e,t)}function TS(e,t){const n={};return bI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bo(e,(i,s)=>{const r=bu(s,t.Xc(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function kS(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Mt||e instanceof Jv||e instanceof ka||e instanceof Cn||e instanceof Xv)}function Zv(e,t,n){if(!kS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=xf(n);throw i==="an object"?t.ia(e+" a custom object"):t.ia(e+" "+i)}}function _m(e,t,n){if((t=vt(t))instanceof If)return t._internalPath;if(typeof t=="string")return ew(e,t);throw Gd("Field path arguments must be of type string or ",e,!1,void 0,n)}const MN=new RegExp("[~\\*/\\[\\]]");function ew(e,t,n){if(t.search(MN)>=0)throw Gd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new If(...t.split("."))._internalPath}catch{throw Gd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gd(e,t,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new fe(j.INVALID_ARGUMENT,a+e+l)}function QS(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(tw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PN extends LS{data(){return super.data()}}function tw(e,t){return typeof t=="string"?ew(e,t):t instanceof If?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new fe(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nw{}class NN extends nw{}function zr(e,t,...n){let i=[];t instanceof nw&&i.push(t),i=i.concat(n),function(s){const r=s.filter(a=>a instanceof iw).length,o=s.filter(a=>a instanceof Uf).length;if(r>1||r>0&&o>0)throw new fe(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Uf extends NN{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Uf(t,n,i)}_apply(t){const n=this._parse(t);return RS(t._query,n),new rl(t.firestore,t.converter,hm(t._query,n))}_parse(t){const n=Sf(t.firestore);return function(s,r,o,a,l,A,u){let c;if(l.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new fe(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){S0(u,A);const d=[];for(const h of u)d.push(I0(a,s,h));c={arrayValue:{values:d}}}else c=I0(a,s,u)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||S0(u,A),c=DN(o,r,u,A==="in"||A==="not-in");return Qt.create(l,A,c)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function OS(e,t,n){const i=t,s=tw("where",e);return Uf._create(s,i,n)}class iw extends nw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new iw(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let r=i;const o=s.getFlattenedFilters();for(const a of o)RS(r,a),r=hm(r,a)}(t._query,n),new rl(t.firestore,t.converter,hm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I0(e,t,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new fe(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QI(t)&&n.indexOf("/")!==-1)throw new fe(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(At.fromString(n));if(!Be.isDocumentKey(i))throw new fe(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zb(e,new Be(i))}if(n instanceof Cn)return Zb(e,n._key);throw new fe(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function S0(e,t){if(!Array.isArray(e)||e.length===0)throw new fe(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function RS(e,t){if(t.isInequality()){const i=Lv(e),s=t.field;if(i!==null&&!i.isEqual(s))throw new fe(j.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const r=kI(e);r!==null&&KN(e,s,r)}const n=function(i,s){for(const r of i)for(const o of r.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new fe(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new fe(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function KN(e,t,n){if(!n.isEqual(t))throw new fe(j.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class VN{convertValue(t,n="none"){switch(uo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ia(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Fe()}}convertObject(t,n){const i={};return Bo(t.fields,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(t){return new Jv(Tt(t.latitude),Tt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=CI(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(SA(t));default:return null}}convertTimestamp(t){const n=yr(t);return new Mt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=At.fromString(t);ut(nS(i));const s=new FA(i.get(1),i.get(3)),r=new Be(i.popFirst(5));return s.isEqual(n)||Cs(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class MS extends LS{constructor(t,n,i,s,r,o){super(t,n,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(tw("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class id extends MS{data(t={}){return super.data(t)}}class $N{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ol(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new id(this._firestore,this._userDataWriter,i.key,i,new Ol(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let r=0;return i._snapshot.docChanges.map(o=>{const a=new id(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ol(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:r++}})}{let r=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new id(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ol(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,A=-1;return o.type!==0&&(l=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),A=r.indexOf(o.doc.key)),{type:GN(o.type),doc:a,oldIndex:l,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(e){e=Ei(e,Cn);const t=Ei(e.firestore,xo);return EN(qv(t),e._key).then(n=>qN(t,e,n))}class PS extends VN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ka(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function jr(e){e=Ei(e,rl);const t=Ei(e.firestore,xo),n=qv(t),i=new PS(t);return HN(e._query),IN(n,e._query).then(s=>new $N(t,i,e,s))}function zN(e,t,n){e=Ei(e,Cn);const i=Ei(e.firestore,xo),s=DS(e.converter,t,n);return Tf(i,[US(Sf(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ai.none())])}function QA(e,t,n,...i){e=Ei(e,Cn);const s=Ei(e.firestore,xo),r=Sf(s);let o;return o=typeof(t=vt(t))=="string"||t instanceof If?RN(r,"updateDoc",e._key,t,n,i):ON(r,"updateDoc",e._key,t),Tf(s,[o.toMutation(e._key,ai.exists(!0))])}function jN(e){return Tf(Ei(e.firestore,xo),[new Ov(e._key,ai.none())])}function WN(e,t){const n=Ei(e.firestore,xo),i=vi(e),s=DS(e.converter,t);return Tf(n,[US(Sf(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,ai.exists(!1))]).then(()=>i)}function Tf(e,t){return function(n,i){const s=new ys;return n.asyncQueue.enqueueAndForget(async()=>dN(await xN(n),i,s)),s.promise}(qv(e),t)}function qN(e,t,n){const i=n.docs.get(t._key),s=new PS(e);return new MS(e,s,t._key,i,new Ol(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){nl=n})(Za),Wi(new Ci("firestore",(n,{instanceIdentifier:i,options:s})=>{const r=n.getProvider("app").getImmediate(),o=new xo(new t2(n.getProvider("auth-internal")),new r2(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new fe(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new FA(a.options.projectId,l)}(r,i),r);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Wn(Wb,"3.10.0",e),Wn(Wb,"3.10.0","esm2017")})();var XN="firebase",JN="9.19.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(XN,JN,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new Map,HS={activated:!1,tokenObservers:[]},YN={initialized:!1,enabled:!1};function xn(e){return bm.get(e)||Object.assign({},HS)}function ZN(e,t){return bm.set(e,t),bm.get(e)}function kf(){return YN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="https://content-firebaseappcheck.googleapis.com/v1",e4="exchangeRecaptchaEnterpriseToken",t4="exchangeDebugToken",F0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},n4=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,n,i,s,r){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new wA,await s4(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new wA,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function s4(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Gn=new Ya("appCheck","AppCheck",r4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function KS(e){if(!xn(e).activated)throw Gn.create("use-before-activation",{appName:e.name})}function VS(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),i=Math.floor((t-n*3600*24)/3600),s=Math.floor((t-n*3600*24-i*3600)/60),r=t-n*3600*24-i*3600-s*60;let o="";return n&&(o+=lc(n)+"d:"),i&&(o+=lc(i)+"h:"),o+=lc(s)+"m:"+lc(r)+"s",o}function lc(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S({url:e,body:t},n){const i={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&(i["X-Firebase-Client"]=c)}const r={method:"POST",body:JSON.stringify(t),headers:i};let o;try{o=await fetch(e,r)}catch(c){throw Gn.create("fetch-network-error",{originalErrorMessage:c==null?void 0:c.message})}if(o.status!==200)throw Gn.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(c){throw Gn.create("fetch-parse-error",{originalErrorMessage:c==null?void 0:c.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const A=Number(l[1])*1e3,u=Date.now();return{token:a.token,expireTimeMillis:u+A,issuedAtTimeMillis:u}}function o4(e,t){const{projectId:n,appId:i,apiKey:s}=e.options;return{url:`${NS}/projects/${n}/apps/${i}:${e4}?key=${s}`,body:{recaptcha_enterprise_token:t}}}function a4(e,t){const{projectId:n,appId:i,apiKey:s}=e.options;return{url:`${NS}/projects/${n}/apps/${i}:${t4}?key=${s}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="firebase-app-check-database",A4=1,LA="firebase-app-check-store",GS="debug-token";let Ac=null;function zS(){return Ac||(Ac=new Promise((e,t)=>{try{const n=indexedDB.open(l4,A4);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var s;t(Gn.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(LA,{keyPath:"compositeKey"})}}}catch(n){t(Gn.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Ac)}function u4(e){return WS(qS(e))}function c4(e,t){return jS(qS(e),t)}function d4(e){return jS(GS,e)}function h4(){return WS(GS)}async function jS(e,t){const i=(await zS()).transaction(LA,"readwrite"),r=i.objectStore(LA).put({compositeKey:e,value:t});return new Promise((o,a)=>{r.onsuccess=l=>{o()},i.onerror=l=>{var A;a(Gn.create("storage-set",{originalErrorMessage:(A=l.target.error)===null||A===void 0?void 0:A.message}))}})}async function WS(e){const n=(await zS()).transaction(LA,"readonly"),s=n.objectStore(LA).get(e);return new Promise((r,o)=>{s.onsuccess=a=>{const l=a.target.result;r(l?l.value:void 0)},n.onerror=a=>{var l;o(Gn.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function qS(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Zh("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(e){if(rv()){let t;try{t=await u4(e)}catch(n){OA.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function Kp(e,t){return rv()?c4(e,t).catch(n=>{OA.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function p4(){let e;try{e=await h4()}catch{}if(e)return e;{const t=HD();return d4(t).catch(n=>OA.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return kf().enabled}async function JS(){const e=kf();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function g4(){const e=AE(),t=kf();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new wA;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(p4())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={error:"UNKNOWN_ERROR"};function y4(e){return nv.encodeString(JSON.stringify(e),!1)}async function zd(e,t=!1){const n=e.app;KS(n);const i=xn(n);let s=i.token,r;if(s&&!na(s)&&(i.token=void 0,s=void 0),!s){const l=await i.cachedTokenPromise;l&&(na(l)?s=l:await Kp(n,void 0))}if(!t&&s&&na(s))return{token:s.token};let o=!1;if(XS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=$S(a4(n,await JS()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const l=await i.exchangeTokenPromise;return await Kp(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),s=await xn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?OA.warn(l.message):OA.error(l),r=l}let a;return s?r?na(s)?a={token:s.token,internalError:r}:a=k0(r):(a={token:s.token},i.token=s,await Kp(n,s)):a=k0(r),o&&eF(n,a),a}function YS(e,t,n,i){const{app:s}=e,r=xn(s),o={next:n,error:i,type:t};if(r.tokenObservers=[...r.tokenObservers,o],r.token&&na(r.token)){const a=r.token;Promise.resolve().then(()=>{n({token:a.token}),T0(e)}).catch(()=>{})}r.cachedTokenPromise.then(()=>T0(e))}function ZS(e,t){const n=xn(e),i=n.tokenObservers.filter(s=>s.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function T0(e){const{app:t}=e,n=xn(t);let i=n.tokenRefresher;i||(i=v4(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function v4(e){const{app:t}=e;return new i4(async()=>{const n=xn(t);let i;if(n.token?i=await zd(e,!0):i=await zd(e),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=xn(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},F0.RETRIAL_MIN_WAIT,F0.RETRIAL_MAX_WAIT)}function eF(e,t){const n=xn(e).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function na(e){return e.expireTimeMillis-Date.now()>0}function k0(e){return{token:y4(m4),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=xn(this.app);for(const n of t)ZS(this.app,n.next);return Promise.resolve()}}function _4(e,t){return new w4(e,t)}function b4(e){return{getToken:t=>zd(e,t),addTokenListener:t=>YS(e,"INTERNAL",t),removeTokenListener:t=>ZS(e.app,t)}}const B4="@firebase/app-check",C4="0.6.4",x4="https://www.google.com/recaptcha/enterprise.js";function E4(e,t){const n=new wA,i=xn(e);i.reCAPTCHAState={initialized:n};const s=I4(e),r=U0(!0);return r?Q0(e,t,r,s,n):U4(()=>{const o=U0(!0);if(!o)throw new Error("no recaptcha");Q0(e,t,o,s,n)}),n.promise}function Q0(e,t,n,i,s){n.ready(()=>{F4(e,t,n,i),s.resolve(n)})}function I4(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function S4(e){KS(e);const n=await xn(e).reCAPTCHAState.initialized.promise;return new Promise((i,s)=>{const r=xn(e).reCAPTCHAState;n.ready(()=>{i(n.execute(r.widgetId,{action:"fire_app_check"}))})})}function F4(e,t,n,i){const s=n.render(i,{sitekey:t,size:"invisible"}),r=xn(e);r.reCAPTCHAState=Object.assign(Object.assign({},r.reCAPTCHAState),{widgetId:s})}function U4(e){const t=document.createElement("script");t.src=x4,t.onload=e,document.head.appendChild(t)}class sw{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n;k4(this._throttleData);const i=await S4(this._app).catch(r=>{throw Gn.create("recaptcha-error")});let s;try{s=await $S(o4(this._app,i),this._heartbeatServiceProvider)}catch(r){throw!((t=r.code)===null||t===void 0)&&t.includes("fetch-status-error")?(this._throttleData=T4(Number((n=r.customData)===null||n===void 0?void 0:n.httpStatus),this._throttleData),Gn.create("throttled",{time:VS(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):r}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=_o(t,"heartbeat"),E4(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof sw?this._siteKey===t._siteKey:!1}}function T4(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+n4,httpStatus:e};{const n=t?t.backoffCount:0,i=GD(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+i,httpStatus:e}}}function k4(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Gn.create("throttled",{time:VS(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e=ru(),t){e=vt(e);const n=_o(e,"app-check");if(kf().initialized||g4(),XS()&&JS().then(s=>console.log(`App Check debug token: ${s}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(r.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&r.provider.isEqual(t.provider))return s;throw Gn.create("already-initialized",{appName:e.name})}const i=n.initialize({options:t});return L4(e,t.provider,t.isTokenAutoRefreshEnabled),xn(e).isTokenAutoRefreshEnabled&&YS(i,"INTERNAL",()=>{}),i}function L4(e,t,n){const i=ZN(e,Object.assign({},HS));i.activated=!0,i.provider=t,i.cachedTokenPromise=f4(e).then(s=>(s&&na(s)&&(i.token=s,eF(e,{token:s.token})),s)),i.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,i.provider.initialize(e)}async function O4(e,t){const n=await zd(e,t);if(n.error)throw n.error;return{token:n.token}}const R4="app-check",L0="app-check-internal";function D4(){Wi(new Ci(R4,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return _4(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(L0).initialize()})),Wi(new Ci(L0,e=>{const t=e.getProvider("app-check").getImmediate();return b4(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Wn(B4,C4)}D4();function rw(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function tF(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M4=tF,nF=new Ya("auth","Firebase",tF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Zh("@firebase/auth");function sd(e,...t){O0.logLevel<=je.ERROR&&O0.error(`Auth (${Za}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e,...t){throw ow(e,...t)}function Ki(e,...t){return ow(e,...t)}function P4(e,t,n){const i=Object.assign(Object.assign({},M4()),{[t]:n});return new Ya("auth","Firebase",i).create(t,{appName:e.name})}function ow(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return nF.create(e,...t)}function Ce(e,t,...n){if(!e)throw ow(t,...n)}function ps(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sd(t),new Error(t)}function Is(e,t){e||ps(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;function gs(e){Is(e instanceof Function,"Expected a class definition");let t=R0.get(e);return t?(Is(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,R0.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(e,t){const n=_o(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Sd(r,t!=null?t:{}))return s;Ii(s,"already-initialized")}return n.initialize({options:t})}function N4(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(gs);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function K4(){return D0()==="http:"||D0()==="https:"}function D0(){var e;return typeof self!="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K4()||FD()||"connection"in navigator)?navigator.onLine:!0}function $4(){if(typeof navigator=="undefined")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Is(n>t,"Short delay should be less than long delay!"),this.isMobile=SD()||UD()}get(){return V4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e,t){Is(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Bu(3e4,6e4);function ol(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function al(e,t,n,i,s={}){return sF(e,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=su(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),iF.fetch()(rF(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function sF(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},G4),t);try{const s=new j4(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw uc(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,A]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw uc(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw uc(e,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw P4(e,u,A);Ii(e,u)}}catch(s){if(s instanceof Yi)throw s;Ii(e,"network-request-failed",{message:String(s)})}}async function Cu(e,t,n,i,s={}){const r=await al(e,t,n,i,s);return"mfaPendingCredential"in r&&Ii(e,"multi-factor-auth-required",{_serverResponse:r}),r}function rF(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?aw(e.config,s):`${e.config.apiScheme}://${s}`}class j4{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ki(this.auth,"network-request-failed")),z4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Ki(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(e,t){return al(e,"POST","/v1/accounts:delete",t)}async function q4(e,t){return al(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(e){if(!!e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function X4(e,t=!1){const n=vt(e),i=await n.getIdToken(t),s=lw(i);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:eA(Vp(s.auth_time)),issuedAtTime:eA(Vp(s.iat)),expirationTime:eA(Vp(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Vp(e){return Number(e)*1e3}function lw(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const s=lE(n);return s?JSON.parse(s):(sd("Failed to decode base64 JWT payload"),null)}catch(s){return sd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function J4(e){const t=lw(e);return Ce(t,"internal-error"),Ce(typeof t.exp!="undefined","internal-error"),Ce(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Yi&&Y4(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function Y4({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eA(this.lastLoginAt),this.creationTime=eA(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(e){var t;const n=e.auth,i=await e.getIdToken(),s=await RA(e,q4(n,{idToken:i}));Ce(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?nK(r.providerUserInfo):[],a=tK(e.providerData,o),l=e.isAnonymous,A=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?A:!1,c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new oF(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,c)}async function eK(e){const t=vt(e);await jd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tK(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function nK(e){return e.map(t=>{var{providerId:n}=t,i=rw(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iK(e,t){const n=await sF(e,{},async()=>{const i=su({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,o=rF(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iF.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ce(t.idToken,"internal-error"),Ce(typeof t.idToken!="undefined","internal-error"),Ce(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):J4(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Ce(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await iK(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new DA;return i&&(Ce(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(Ce(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(Ce(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new DA,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(e,t){Ce(typeof e=="string"||typeof e=="undefined","internal-error",{appName:t})}class no{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=rw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new oF(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await RA(this,this.stsTokenManager.getToken(this.auth,t));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return X4(this,t)}reload(){return eK(this)}_assign(t){this!==t&&(Ce(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new no(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await RA(this,W4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,o,a,l,A,u;const c=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,h=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(A=n.createdAt)!==null&&A!==void 0?A:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:C,emailVerified:B,isAnonymous:E,providerData:S,stsTokenManager:F}=n;Ce(C&&F,t,"internal-error");const U=DA.fromJSON(this.name,F);Ce(typeof C=="string",t,"internal-error"),Ms(c,t.name),Ms(d,t.name),Ce(typeof B=="boolean",t,"internal-error"),Ce(typeof E=="boolean",t,"internal-error"),Ms(h,t.name),Ms(p,t.name),Ms(m,t.name),Ms(g,t.name),Ms(w,t.name),Ms(v,t.name);const Q=new no({uid:C,auth:t,email:d,emailVerified:B,displayName:c,isAnonymous:E,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:U,createdAt:w,lastLoginAt:v});return S&&Array.isArray(S)&&(Q.providerData=S.map(k=>Object.assign({},k))),g&&(Q._redirectEventId=g),Q}static async _fromIdTokenResponse(t,n,i=!1){const s=new DA;s.updateFromServerResponse(n);const r=new no({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await jd(r),r}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}aF.type="NONE";const M0=aF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e,t,n){return`firebase:${e}:${t}:${n}`}class ma{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=rd(this.userKey,s.apiKey,r),this.fullPersistenceKey=rd("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?no._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new ma(gs(M0),t,i);const s=(await Promise.all(n.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let r=s[0]||gs(M0);const o=rd(i,t.config.apiKey,t.name);let a=null;for(const A of n)try{const u=await A._get(o);if(u){const c=no._fromJSON(t,u);A!==r&&(a=c),r=A;break}}catch{}const l=s.filter(A=>A._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new ma(r,t,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async A=>{if(A!==r)try{await A._remove(o)}catch{}})),new ma(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uF(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lF(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dF(t))return"Blackberry";if(hF(t))return"Webos";if(Aw(t))return"Safari";if((t.includes("chrome/")||AF(t))&&!t.includes("edge/"))return"Chrome";if(cF(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function lF(e=mn()){return/firefox\//i.test(e)}function Aw(e=mn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AF(e=mn()){return/crios\//i.test(e)}function uF(e=mn()){return/iemobile/i.test(e)}function cF(e=mn()){return/android/i.test(e)}function dF(e=mn()){return/blackberry/i.test(e)}function hF(e=mn()){return/webos/i.test(e)}function Qf(e=mn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sK(e=mn()){var t;return Qf(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rK(){return TD()&&document.documentMode===10}function fF(e=mn()){return Qf(e)||cF(e)||hF(e)||dF(e)||/windows phone/i.test(e)||uF(e)}function oK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(e,t=[]){let n;switch(e){case"Browser":n=P0(mn());break;case"Worker":n=`${P0(mn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(t,n,i){this.app=t,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new aK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nF,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await ma.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l==null?void 0:l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jd(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?vt(t):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ce(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ya("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&gs(t)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?t.addObserver(n,i,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());return i&&(n["X-Firebase-Client"]=i),n}}function xu(e){return vt(e)}class H0{constructor(t){this.auth=t,this.observer=null,this.addObserver=DD(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function AK(e,t,n){const i=xu(e);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=gF(t),{host:o,port:a}=uK(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||cK()}function gF(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uK(e){const t=gF(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:N0(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:N0(o)}}}function N0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function cK(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,n){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}async function dK(e,t){return al(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hK(e,t){return Cu(e,"POST","/v1/accounts:signInWithPassword",ol(e,t))}async function fK(e,t){return al(e,"POST","/v1/accounts:sendOobCode",ol(e,t))}async function pK(e,t){return fK(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gK(e,t){return Cu(e,"POST","/v1/accounts:signInWithEmailLink",ol(e,t))}async function mK(e,t){return Cu(e,"POST","/v1/accounts:signInWithEmailLink",ol(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA extends uw{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new MA(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new MA(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return hK(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gK(t,{email:this._email,oobCode:this._password});default:Ii(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return dK(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return mK(t,{idToken:n,email:this._email,oobCode:this._password});default:Ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(e,t){return Cu(e,"POST","/v1/accounts:signInWithIdp",ol(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK="http://localhost";class co extends uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new co(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=rw(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new co(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return ya(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ya(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ya(t,n)}buildRequest(){const t={requestUri:yK,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=su(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vK(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wK(e){const t=Ul(Tl(e)).link,n=t?Ul(Tl(t)).deep_link_id:null,i=Ul(Tl(e)).deep_link_id;return(i?Ul(Tl(i)).link:null)||i||n||t||e}class cw{constructor(t){var n,i,s,r,o,a;const l=Ul(Tl(t)),A=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,c=vK((s=l.mode)!==null&&s!==void 0?s:null);Ce(A&&u&&c,"argument-error"),this.apiKey=A,this.operation=c,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=wK(t);try{return new cw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(t,n){return MA._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=cw.parseLink(n);return Ce(i,"argument-error"),MA._fromEmailAndCode(t,i.code,i.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends mF{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Eu{constructor(){super("facebook.com")}static credential(t){return co._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return co._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ys.credential(n,i)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Eu{constructor(){super("github.com")}static credential(t){return co._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Eu{constructor(){super("twitter.com")}static credential(t,n){return co._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return er.credential(n,i)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _K(e,t){return Cu(e,"POST","/v1/accounts:signUp",ol(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await no._fromIdTokenResponse(t,i,s),o=K0(i);return new ho({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=K0(i);return new ho({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function K0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Yi{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Wd(t,n,i,s)}}function yF(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(e,r,t,i):r})}async function bK(e,t,n=!1){const i=await RA(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ho._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BK(e,t,n=!1){const{auth:i}=e,s="reauthenticate";try{const r=await RA(e,yF(i,s,t,e),n);Ce(r.idToken,i,"internal-error");const o=lw(r.idToken);Ce(o,i,"internal-error");const{sub:a}=o;return Ce(e.uid===a,i,"user-mismatch"),ho._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Ii(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(e,t,n=!1){const i="signIn",s=await yF(e,i,t),r=await ho._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function CK(e,t){return vF(xu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(e,t,n){var i;Ce(((i=n.url)===null||i===void 0?void 0:i.length)>0,e,"invalid-continue-uri"),Ce(typeof n.dynamicLinkDomain=="undefined"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ce(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ce(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(e,t,n){const i=vt(e),s={requestType:"PASSWORD_RESET",email:t};n&&xK(i,s,n),await pK(i,s)}async function IK(e,t,n){const i=xu(e),s=await _K(i,{returnSecureToken:!0,email:t,password:n}),r=await ho._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(r.user),r}function SK(e,t,n){return CK(vt(e),ll.credential(t,n))}function FK(e,t,n,i){return vt(e).onIdTokenChanged(t,n,i)}function UK(e,t,n){return vt(e).beforeAuthStateChanged(t,n)}function TK(e,t,n,i){return vt(e).onAuthStateChanged(t,n,i)}const qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(){const e=mn();return Aw(e)||Qf(e)}const QK=1e3,LK=10;class _F extends wF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=kK()&&oK(),this.fallbackToPolling=fF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);rK()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,LK):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},QK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_F.type="LOCAL";const OK=_F;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF extends wF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}bF.type="SESSION";const BF=bF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(e){return Promise.all(e.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Lf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async A=>A(n.origin,r)),l=await RK(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const A=dw("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(c){const d=c;if(d.data.eventId===A)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:A,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function MK(e){Vi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof Vi().WorkerGlobalScope!="undefined"&&typeof Vi().importScripts=="function"}async function PK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HK(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function NK(){return CF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF="firebaseLocalStorageDb",KK=1,Xd="firebaseLocalStorage",EF="fbase_key";class Iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Of(e,t){return e.transaction([Xd],t?"readwrite":"readonly").objectStore(Xd)}function VK(){const e=indexedDB.deleteDatabase(xF);return new Iu(e).toPromise()}function Cm(){const e=indexedDB.open(xF,KK);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Xd,{keyPath:EF})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Xd)?t(i):(i.close(),await VK(),t(await Cm()))})})}async function V0(e,t,n){const i=Of(e,!0).put({[EF]:t,value:n});return new Iu(i).toPromise()}async function $K(e,t){const n=Of(e,!1).get(t),i=await new Iu(n).toPromise();return i===void 0?null:i.value}function $0(e,t){const n=Of(e,!0).delete(t);return new Iu(n).toPromise()}const GK=800,zK=3;class IF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>zK)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(NK()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await PK(),!this.activeServiceWorker)return;this.sender=new DK(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);!i||((t=i[0])===null||t===void 0?void 0:t.fulfilled)&&((n=i[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cm();return await V0(t,qd,"1"),await $0(t,qd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>V0(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>$K(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Of(s,!1).getAll();return new Iu(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IF.type="LOCAL";const jK=IF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function qK(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Ki("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",WK().appendChild(i)})}function XK(e){return`__${e}${Math.floor(Math.random()*1e6)}`}new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(e,t){return t?gs(t):(Ce(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends uw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ya(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ya(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function YK(e){return vF(e.auth,new hw(e),e.bypassAuthState)}function ZK(e){const{auth:t,user:n}=e;return Ce(n,t,"internal-error"),BK(n,new hw(e),e.bypassAuthState)}async function eV(e){const{auth:t,user:n}=e;return Ce(n,t,"internal-error"),bK(n,new hw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(A){this.reject(A)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YK;case"linkViaPopup":case"linkViaRedirect":return eV;case"reauthViaPopup":case"reauthViaRedirect":return ZK;default:Ii(this.auth,"internal-error")}}resolve(t){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new Bu(2e3,1e4);class ia extends SF{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ce(t,this.auth,"internal-error"),t}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const t=dw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,tV.get())};t()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="pendingRedirect",od=new Map;class iV extends SF{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=od.get(this.auth._key());if(!t){try{const i=await sV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}od.set(this.auth._key(),t)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sV(e,t){const n=aV(t),i=oV(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function rV(e,t){od.set(e._key(),t)}function oV(e){return gs(e._redirectPersistence)}function aV(e){return rd(nV,e.config.apiKey,e.name)}async function lV(e,t,n=!1){const i=xu(e),s=JK(i,t),o=await new iV(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=10*60*1e3;class uV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!FF(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AV&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(t))}saveEventToCache(t){this.cachedEventUids.add(G0(t)),this.lastProcessedEventTime=Date.now()}}function G0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function FF({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function cV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FF(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(e,t={}){return al(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fV=/^https?/;async function pV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dV(e);for(const n of t)try{if(gV(n))return}catch{}Ii(e,"unauthorized-domain")}function gV(e){const t=Bm(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!fV.test(n))return!1;if(hV.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new Bu(3e4,6e4);function z0(){const e=Vi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function yV(e){return new Promise((t,n)=>{var i,s,r;function o(){z0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{z0(),n(Ki(e,"network-request-failed"))},timeout:mV.get()})}if(!((s=(i=Vi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=Vi().gapi)===null||r===void 0)&&r.load)o();else{const a=XK("iframefcb");return Vi()[a]=()=>{gapi.load?o():n(Ki(e,"network-request-failed"))},qK(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw ad=null,t})}let ad=null;function vV(e){return ad=ad||yV(e),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new Bu(5e3,15e3),_V="__/auth/iframe",bV="emulator/auth/iframe",BV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xV(e){const t=e.config;Ce(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?aw(t,bV):`https://${e.config.authDomain}/${_V}`,i={apiKey:t.apiKey,appName:e.name,v:Za},s=CV.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${su(i).slice(1)}`}async function EV(e){const t=await vV(e),n=Vi().gapi;return Ce(n,e,"internal-error"),t.open({where:document.body,url:xV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BV,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Ki(e,"network-request-failed"),a=Vi().setTimeout(()=>{r(o)},wV.get());function l(){Vi().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SV=500,FV=600,UV="_blank",TV="http://localhost";class j0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kV(e,t,n,i=SV,s=FV){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IV),{width:i.toString(),height:s.toString(),top:r,left:o}),A=mn().toLowerCase();n&&(a=AF(A)?UV:n),lF(A)&&(t=t||TV,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(sK(A)&&a!=="_self")return QV(t||"",a),new j0(null);const c=window.open(t||"",a,u);Ce(c,e,"popup-blocked");try{c.focus()}catch{}return new j0(c)}function QV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="__/auth/handler",OV="emulator/auth/handler";function W0(e,t,n,i,s,r){Ce(e.config.authDomain,e,"auth-domain-config-required"),Ce(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Za,eventId:s};if(t instanceof mF){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",RD(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,A]of Object.entries(r||{}))o[l]=A}if(t instanceof Eu){const l=t.getScopes().filter(A=>A!=="");l.length>0&&(o.scopes=l.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${RV(e)}?${su(a).slice(1)}`}function RV({config:e}){return e.emulator?aw(e,OV):`https://${e.authDomain}/${LV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="webStorageSupport";class DV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BF,this._completeRedirectFn=lV,this._overrideRedirectResult=rV}async _openPopup(t,n,i,s){var r;Is((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=W0(t,n,i,Bm(),s);return kV(t,o,dw())}async _openRedirect(t,n,i,s){return await this._originValidation(t),MK(W0(t,n,i,Bm(),s)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Is(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await EV(t),i=new uV(t);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($p,{type:$p},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[$p];o!==void 0&&n(!!o),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return fF()||Aw()||Qf()}}const MV=DV;var q0="@firebase/auth",X0="0.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function NV(e){Wi(new Ci("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),{apiKey:r,authDomain:o}=i.options;return((a,l)=>{Ce(r&&!r.includes(":"),"invalid-api-key",{appName:a.name}),Ce(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const A={apiKey:r,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pF(e)},u=new lK(a,l,A);return N4(u,n),u})(i,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Wi(new Ci("auth-internal",t=>{const n=xu(t.getProvider("auth").getImmediate());return(i=>new PV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(q0,X0,HV(e)),Wn(q0,X0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=5*60,VV=cE("authIdTokenMaxAge")||KV;let J0=null;const $V=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>VV)return;const s=n==null?void 0:n.token;J0!==s&&(J0=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Eo(e=ru()){const t=_o(e,"auth");if(t.isInitialized())return t.getImmediate();const n=H4(e,{popupRedirectResolver:MV,persistence:[jK,OK,BF]}),i=cE("authTokenSyncURL");if(i){const r=$V(i);UK(n,r,()=>r(n.currentUser)),FK(n,o=>r(o))}const s=uE("auth");return s&&AK(n,`http://${s}`),n}NV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF="firebasestorage.googleapis.com",GV="storageBucket",zV=2*60*1e3,jV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Yi{constructor(t,n,i=0){super(Gp(t),`Firebase Storage: ${n} (${Gp(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Gp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xi;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xi||(Xi={}));function Gp(e){return"storage/"+e}function WV(){const e="An unknown error occurred, please check the error payload for server response.";return new Zi(Xi.UNKNOWN,e)}function qV(){return new Zi(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XV(){return new Zi(Xi.CANCELED,"User canceled the upload/download.")}function JV(e){return new Zi(Xi.INVALID_URL,"Invalid URL '"+e+"'.")}function YV(e){return new Zi(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Y0(e){return new Zi(Xi.INVALID_ARGUMENT,e)}function TF(){return new Zi(Xi.APP_DELETED,"The Firebase app was deleted.")}function ZV(e){return new Zi(Xi.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=wi.makeFromUrl(t,n)}catch{return new wi(t,"")}if(i.path==="")return i;throw YV(t)}static makeFromUrl(t,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function A(B){B.path_=decodeURIComponent(B.path)}const u="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${c}/${u}/b/${s}/o${d}`,"i"),p={bucket:1,path:3},m=n===UF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",w=new RegExp(`^https?://${m}/${s}/${g}`,"i"),C=[{regex:a,indices:l,postModify:r},{regex:h,indices:p,postModify:A},{regex:w,indices:{bucket:1,path:2},postModify:A}];for(let B=0;B<C.length;B++){const E=C[B],S=E.regex.exec(t);if(S){const F=S[E.indices.bucket];let U=S[E.indices.path];U||(U=""),i=new wi(F,U),E.postModify(i);break}}if(i==null)throw JV(t);return i}}class e3{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(e,t,n){let i=1,s=null,r=null,o=!1,a=0;function l(){return a===2}let A=!1;function u(...g){A||(A=!0,t.apply(null,g))}function c(g){s=setTimeout(()=>{s=null,e(h,l())},g)}function d(){r&&clearTimeout(r)}function h(g,...w){if(A){d();return}if(g){d(),u.call(null,g,...w);return}if(l()||o){d(),u.call(null,g,...w);return}i<64&&(i*=2);let C;a===1?(a=2,C=0):C=(i+Math.random())*1e3,c(C)}let p=!1;function m(g){p||(p=!0,d(),!A&&(s!==null?(g||(a=2),clearTimeout(s),c(0)):g||(a=1)))}return c(0),r=setTimeout(()=>{o=!0,m(!0)},n),m}function n3(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(e){return e!==void 0}function Z0(e,t,n,i){if(i<t)throw Y0(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Y0(`Invalid value for '${e}'. Expected ${n} or less.`)}function s3(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const s=t(i)+"="+t(e[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Jd||(Jd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,r=t.indexOf(e)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(t,n,i,s,r,o,a,l,A,u,c,d=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=A,this.progressCallback_=u,this.connectionFactory_=c,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new cc(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=a=>{const l=a.loaded,A=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,A)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const a=r.getErrorCode()===Jd.NO_ERROR,l=r.getStatus();if(!a||r3(l,this.additionalRetryCodes_)&&this.retry){const u=r.getErrorCode()===Jd.ABORT;i(!1,new cc(!1,null,u));return}const A=this.successCodes_.indexOf(l)!==-1;i(!0,new cc(A,r))})},n=(i,s)=>{const r=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());i3(l)?r(l):r()}catch(l){o(l)}else if(a!==null){const l=WV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?TF():XV();o(l)}else{const l=qV();o(l)}};this.canceled_?n(!1,new cc(!1,null,!0)):this.backoffId_=t3(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&n3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cc{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function a3(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function l3(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function A3(e,t){t&&(e["X-Firebase-GMPID"]=t)}function u3(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function c3(e,t,n,i,s,r,o=!0){const a=s3(e.urlParams),l=e.url+a,A=Object.assign({},e.headers);return A3(A,t),a3(A,n),l3(A,r),u3(A,i),new o3(l,e.method,A,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function h3(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t,n){this._service=t,n instanceof wi?this._location=n:this._location=wi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Yd(t,n)}get root(){const t=new wi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h3(this._location.path)}get storage(){return this._service}get parent(){const t=d3(this._location.path);if(t===null)return null;const n=new wi(this._location.bucket,t);return new Yd(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw ZV(t)}}function eB(e,t){const n=t==null?void 0:t[GV];return n==null?null:wi.makeFromBucketSpec(n,e)}function f3(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken=typeof s=="string"?s:dE(s,e.app.options.projectId))}class p3{constructor(t,n,i,s,r){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=UF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zV,this._maxUploadRetryTime=jV,this._requests=new Set,s!=null?this._bucket=wi.makeFromBucketSpec(s,this._host):this._bucket=eB(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wi.makeFromBucketSpec(this._url,t):this._bucket=eB(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Z0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Z0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Yd(this,t)}_makeRequest(t,n,i,s,r=!0){if(this._deleted)return new e3(TF());{const o=c3(t,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,s).getPromise()}}const tB="@firebase/storage",nB="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="storage";function g3(e=ru(),t){e=vt(e);const i=_o(e,kF).getImmediate({identifier:t}),s=sv("storage");return s&&m3(i,...s),i}function m3(e,t,n,i={}){f3(e,t,n,i)}function y3(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new p3(n,i,s,t,Za)}function v3(){Wi(new Ci(kF,y3,"PUBLIC").setMultipleInstances(!0)),Wn(tB,nB,""),Wn(tB,nB,"esm2017")}v3();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(!!this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const t=await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(){const t=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken();return{authToken:t,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="us-central1";class _3{constructor(t,n,i,s,r=xm,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new w3(n,i,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(r);this.customDomain=a.origin,this.region=xm}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function b3(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}const iB="@firebase/functions",sB="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="auth-internal",C3="app-check-internal",x3="messaging-internal";function E3(e,t){const n=(i,{instanceIdentifier:s})=>{const r=i.getProvider("app").getImmediate(),o=i.getProvider(B3),a=i.getProvider(x3),l=i.getProvider(C3);return new _3(r,o,a,l,s,e)};Wi(new Ci(QF,n,"PUBLIC").setMultipleInstances(!0)),Wn(iB,sB,t),Wn(iB,sB,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(e=ru(),t=xm){const i=_o(vt(e),QF).getImmediate({identifier:t}),s=sv("functions");return s&&S3(i,...s),i}function S3(e,t,n){b3(vt(e),t,n)}E3(fetch.bind(self));const F3={apiKey:"AIzaSyAgI5OR349UnSDx47ru1gTTKtXoj3oYpvc",authDomain:"rbio-p-datasharing.firebaseapp.com",projectId:"rbio-p-datasharing",storageBucket:"rbio-p-datasharing.appspot.com",messagingSenderId:"1099500985223",appId:"1:1099500985223:web:7e039191b77421a17bd122"},Rf=pE(F3);let LF;console.log("Production mode"),LF=Q4(Rf,{provider:new sw("6LdnxEUlAAAAAImoXr09nDxAoE1eRQn-IDSuGBZW"),isTokenAutoRefreshEnabled:!0});O4(LF).then(()=>{console.log("getToken success!")}).catch(e=>{console.log("getToken fail!"),console.log(e.message)});const U3=Eo(),$t=TN(Rf),T3=g3(Rf);I3(Rf);function rB(){return{user:null,profileAdmin:null,profileEmail:null,profileFirstName:null,profileLastName:null,profileInstitution:null,profileId:null,profileInitials:null,token:null,profileUploader:null}}var k3=wD({state(){return rB()},getters:{getToken(e){return e.token?e.token:null}},mutations:{async updateUser(e,t){e.user=t},setProfileInfo(e,t){e.profileId=t.id,e.profileEmail=t.data().email,e.profileFirstName=t.data().firstName,e.profileLastName=t.data().lastName,e.profileInstitution=t.data().institution},setProfileAdmin(e,t){e.profileAdmin=t},setProfileUploader(e,t){e.profileUploader=t},setProfileInitials(e){e.profileInitials=e.profileFirstName.match(/(\b\S)?/g).join("")+e.profileLastName.match(/(\b\S)?/g).join("")},changeFirstName(e,t){e.profileFirstName=t},changeLastName(e,t){e.profileLastName=t},changeInstitution(e,t){e.profileInstitution=t},setToken(e,t){e.token=t},reset(e){Object.assign(e,rB())}},actions:{async getCurrentUser({commit:e,dispatch:t},n){const i=await ac(vi($t,"users",n.uid));if(i.exists()){e("setProfileInfo",i),e("setProfileInitials");const s=await n.getIdTokenResult();e("setToken",s.token),await Promise.all([t("getAdmin"),t("getUploader")])}else console.error("getCurrentUser: User does not exist in Firestore")},async updateUserSettings({commit:e,state:t}){const n=vi($t,"users",t.profileId);(await ac(n)).exists()?(await QA(n,{firstName:t.profileFirstName,lastName:t.profileLastName,institution:t.profileInstitution}).catch(s=>{console.error("updateUserSettings: Failed on updateDoc"),console.error(s)}),e("setProfileInitials")):console.error(`User id does not exist: ${t.profileId}`)},async getAdmin({commit:e,state:t}){const n=vi($t,"admins",t.profileId);(await ac(n)).exists()?e("setProfileAdmin",!0):e("setProfileAdmin",!1)},async getUploader({commit:e,state:t}){const n=vi($t,"uploaders",t.profileId);(await ac(n)).exists()?e("setProfileUploader",!0):e("setProfileUploader",!1)}}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Yo=typeof window!="undefined";function Q3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Ze=Object.assign;function zp(e,t){const n={};for(const i in t){const s=t[i];n[i]=Si(s)?s.map(e):e(s)}return n}const tA=()=>{},Si=Array.isArray,L3=/\/$/,O3=e=>e.replace(L3,"");function jp(e,t,n="/"){let i,s={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),s=e(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=P3(i!=null?i:t,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function R3(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function oB(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function D3(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Qa(t.matched[i],n.matched[s])&&OF(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Qa(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function OF(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!M3(e[n],t[n]))return!1;return!0}function M3(e,t){return Si(e)?aB(e,t):Si(t)?aB(t,e):e===t}function aB(e,t){return Si(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function P3(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let s=n.length-1,r,o;for(r=0;r<i.length;r++)if(o=i[r],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var PA;(function(e){e.pop="pop",e.push="push"})(PA||(PA={}));var nA;(function(e){e.back="back",e.forward="forward",e.unknown=""})(nA||(nA={}));function H3(e){if(!e)if(Yo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),O3(e)}const N3=/^[^#]+#/;function K3(e,t){return e.replace(N3,"#")+t}function V3(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Df=()=>({left:window.pageXOffset,top:window.pageYOffset});function $3(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=V3(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function lB(e,t){return(history.state?history.state.position-t:-1)+e}const Em=new Map;function G3(e,t){Em.set(e,t)}function z3(e){const t=Em.get(e);return Em.delete(e),t}let j3=()=>location.protocol+"//"+location.host;function RF(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let a=s.includes(e.slice(r))?e.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),oB(l,"")}return oB(n,e)+i+s}function W3(e,t,n,i){let s=[],r=[],o=null;const a=({state:d})=>{const h=RF(e,location),p=n.value,m=t.value;let g=0;if(d){if(n.value=h,t.value=d,o&&o===p){o=null;return}g=m?d.position-m.position:0}else i(h);s.forEach(w=>{w(n.value,p,{delta:g,type:PA.pop,direction:g?g>0?nA.forward:nA.back:nA.unknown})})};function l(){o=n.value}function A(d){s.push(d);const h=()=>{const p=s.indexOf(d);p>-1&&s.splice(p,1)};return r.push(h),h}function u(){const{history:d}=window;!d.state||d.replaceState(Ze({},d.state,{scroll:Df()}),"")}function c(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:A,destroy:c}}function AB(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?Df():null}}function q3(e){const{history:t,location:n}=window,i={value:RF(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,A,u){const c=e.indexOf("#"),d=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+l:j3()+e+l;try{t[u?"replaceState":"pushState"](A,"",d),s.value=A}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function o(l,A){const u=Ze({},t.state,AB(s.value.back,l,s.value.forward,!0),A,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,A){const u=Ze({},s.value,t.state,{forward:l,scroll:Df()});r(u.current,u,!0);const c=Ze({},AB(i.value,l,null),{position:u.position+1},A);r(l,c,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function X3(e){e=H3(e);const t=q3(e),n=W3(e,t.state,t.location,t.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Ze({location:"",base:e,go:i,createHref:K3.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function J3(e){return typeof e=="string"||e&&typeof e=="object"}function DF(e){return typeof e=="string"||typeof e=="symbol"}const Ps={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},MF=Symbol("");var uB;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(uB||(uB={}));function La(e,t){return Ze(new Error,{type:e,[MF]:!0},t)}function rs(e,t){return e instanceof Error&&MF in e&&(t==null||!!(e.type&t))}const cB="[^/]+?",Y3={sensitive:!1,strict:!1,start:!0,end:!0},Z3=/[.+*?^${}()[\]/\\]/g;function e$(e,t){const n=Ze({},Y3,t),i=[];let s=n.start?"^":"";const r=[];for(const A of e){const u=A.length?[]:[90];n.strict&&!A.length&&(s+="/");for(let c=0;c<A.length;c++){const d=A[c];let h=40+(n.sensitive?.25:0);if(d.type===0)c||(s+="/"),s+=d.value.replace(Z3,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:m,optional:g,regexp:w}=d;r.push({name:p,repeatable:m,optional:g});const v=w||cB;if(v!==cB){h+=10;try{new RegExp(`(${v})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+B.message)}}let C=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;c||(C=g&&A.length<2?`(?:/${C})`:"/"+C),g&&(C+="?"),s+=C,h+=20,g&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}u.push(h)}i.push(u)}if(n.strict&&n.end){const A=i.length-1;i[A][i[A].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(A){const u=A.match(o),c={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=r[d-1];c[p.name]=h&&p.repeatable?h.split("/"):h}return c}function l(A){let u="",c=!1;for(const d of e){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:g}=h,w=p in A?A[p]:"";if(Si(w)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Si(w)?w.join("/"):w;if(!v)if(g)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);u+=v}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function t$(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function n$(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=t$(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(dB(i))return 1;if(dB(s))return-1}return s.length-i.length}function dB(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const i$={type:0,value:""},s$=/[a-zA-Z0-9_]/;function r$(e){if(!e)return[[]];if(e==="/")return[[i$]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${A}": ${h}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,A="",u="";function c(){!A||(n===0?r.push({type:0,value:A}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${A}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:A,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),A="")}function d(){A+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(A&&c(),o()):l===":"?(c(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:s$.test(l)?d():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${A}"`),c(),o(),s}function o$(e,t,n){const i=e$(r$(e.path),n),s=Ze(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function a$(e,t){const n=[],i=new Map;t=pB({strict:!1,end:!0,sensitive:!1},t);function s(u){return i.get(u)}function r(u,c,d){const h=!d,p=l$(u);p.aliasOf=d&&d.record;const m=pB(t,u),g=[p];if("alias"in u){const C=typeof u.alias=="string"?[u.alias]:u.alias;for(const B of C)g.push(Ze({},p,{components:d?d.record.components:p.components,path:B,aliasOf:d?d.record:p}))}let w,v;for(const C of g){const{path:B}=C;if(c&&B[0]!=="/"){const E=c.record.path,S=E[E.length-1]==="/"?"":"/";C.path=c.record.path+(B&&S+B)}if(w=o$(C,c,m),d?d.alias.push(w):(v=v||w,v!==w&&v.alias.push(w),h&&u.name&&!fB(w)&&o(u.name)),p.children){const E=p.children;for(let S=0;S<E.length;S++)r(E[S],w,d&&d.children[S])}d=d||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&l(w)}return v?()=>{o(v)}:tA}function o(u){if(DF(u)){const c=i.get(u);c&&(i.delete(u),n.splice(n.indexOf(c),1),c.children.forEach(o),c.alias.forEach(o))}else{const c=n.indexOf(u);c>-1&&(n.splice(c,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let c=0;for(;c<n.length&&n$(u,n[c])>=0&&(u.record.path!==n[c].record.path||!PF(u,n[c]));)c++;n.splice(c,0,u),u.record.name&&!fB(u)&&i.set(u.record.name,u)}function A(u,c){let d,h={},p,m;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw La(1,{location:u});m=d.record.name,h=Ze(hB(c.params,d.keys.filter(v=>!v.optional).map(v=>v.name)),u.params&&hB(u.params,d.keys.map(v=>v.name))),p=d.stringify(h)}else if("path"in u)p=u.path,d=n.find(v=>v.re.test(p)),d&&(h=d.parse(p),m=d.record.name);else{if(d=c.name?i.get(c.name):n.find(v=>v.re.test(c.path)),!d)throw La(1,{location:u,currentLocation:c});m=d.record.name,h=Ze({},c.params,u.params),p=d.stringify(h)}const g=[];let w=d;for(;w;)g.unshift(w.record),w=w.parent;return{name:m,path:p,params:h,matched:g,meta:u$(g)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:A,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function hB(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function l$(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:A$(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function A$(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function fB(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function u$(e){return e.reduce((t,n)=>Ze(t,n.meta),{})}function pB(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function PF(e,t){return t.children.some(n=>n===e||PF(e,n))}const HF=/#/g,c$=/&/g,d$=/\//g,h$=/=/g,f$=/\?/g,NF=/\+/g,p$=/%5B/g,g$=/%5D/g,KF=/%5E/g,m$=/%60/g,VF=/%7B/g,y$=/%7C/g,$F=/%7D/g,v$=/%20/g;function fw(e){return encodeURI(""+e).replace(y$,"|").replace(p$,"[").replace(g$,"]")}function w$(e){return fw(e).replace(VF,"{").replace($F,"}").replace(KF,"^")}function Im(e){return fw(e).replace(NF,"%2B").replace(v$,"+").replace(HF,"%23").replace(c$,"%26").replace(m$,"`").replace(VF,"{").replace($F,"}").replace(KF,"^")}function _$(e){return Im(e).replace(h$,"%3D")}function b$(e){return fw(e).replace(HF,"%23").replace(f$,"%3F")}function B$(e){return e==null?"":b$(e).replace(d$,"%2F")}function Zd(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function C$(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(NF," "),o=r.indexOf("="),a=Zd(o<0?r:r.slice(0,o)),l=o<0?null:Zd(r.slice(o+1));if(a in t){let A=t[a];Si(A)||(A=t[a]=[A]),A.push(l)}else t[a]=l}return t}function gB(e){let t="";for(let n in e){const i=e[n];if(n=_$(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Si(i)?i.map(r=>r&&Im(r)):[i&&Im(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function x$(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Si(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const E$=Symbol(""),mB=Symbol(""),pw=Symbol(""),GF=Symbol(""),Sm=Symbol("");function vl(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function $s(e,t,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=c=>{c===!1?a(La(4,{from:n,to:t})):c instanceof Error?a(c):J3(c)?a(La(2,{from:t,to:c})):(r&&i.enterCallbacks[s]===r&&typeof c=="function"&&r.push(c),o())},A=e.call(i&&i.instances[s],t,n,l);let u=Promise.resolve(A);e.length<3&&(u=u.then(l)),u.catch(c=>a(c))})}function Wp(e,t,n,i){const s=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if(I$(a)){const A=(a.__vccOpts||a)[t];A&&s.push($s(A,n,i,r,o))}else{let l=a();s.push(()=>l.then(A=>{if(!A)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=Q3(A)?A.default:A;r.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&$s(d,n,i,r,o)()}))}}return s}function I$(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function yB(e){const t=jn(pw),n=jn(GF),i=it(()=>t.resolve(da(e.to))),s=it(()=>{const{matched:l}=i.value,{length:A}=l,u=l[A-1],c=n.matched;if(!u||!c.length)return-1;const d=c.findIndex(Qa.bind(null,u));if(d>-1)return d;const h=vB(l[A-2]);return A>1&&vB(u)===h&&c[c.length-1].path!==h?c.findIndex(Qa.bind(null,l[A-2])):d}),r=it(()=>s.value>-1&&U$(n.params,i.value.params)),o=it(()=>s.value>-1&&s.value===n.matched.length-1&&OF(n.params,i.value.params));function a(l={}){return F$(l)?t[da(e.replace)?"replace":"push"](da(e.to)).catch(tA):Promise.resolve()}return{route:i,href:it(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const S$=Qs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yB,setup(e,{slots:t}){const n=vo(yB(e)),{options:i}=jn(pw),s=it(()=>({[wB(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[wB(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Xh("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),zF=S$;function F$(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function U$(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Si(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function vB(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const wB=(e,t,n)=>e!=null?e:t!=null?t:n,T$=Qs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=jn(Sm),s=it(()=>e.route||i.value),r=jn(mB,0),o=it(()=>{let A=da(r);const{matched:u}=s.value;let c;for(;(c=u[A])&&!c.components;)A++;return A}),a=it(()=>s.value.matched[o.value]);lr(mB,it(()=>o.value+1)),lr(E$,a),lr(Sm,s);const l=Rt();return Yr(()=>[l.value,a.value,e.name],([A,u,c],[d,h,p])=>{u&&(u.instances[c]=A,h&&h!==u&&A&&A===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),A&&u&&(!h||!Qa(u,h)||!d)&&(u.enterCallbacks[c]||[]).forEach(m=>m(A))},{flush:"post"}),()=>{const A=s.value,u=e.name,c=a.value,d=c&&c.components[u];if(!d)return _B(n.default,{Component:d,route:A});const h=c.props[u],p=h?h===!0?A.params:typeof h=="function"?h(A):h:null,g=Xh(d,Ze({},p,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(c.instances[u]=null)},ref:l}));return _B(n.default,{Component:g,route:A})||g}}});function _B(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const k$=T$;function Q$(e){const t=a$(e.routes,e),n=e.parseQuery||C$,i=e.stringifyQuery||gB,s=e.history,r=vl(),o=vl(),a=vl(),l=sO(Ps);let A=Ps;Yo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=zp.bind(null,V=>""+V),c=zp.bind(null,B$),d=zp.bind(null,Zd);function h(V,oe){let se,ge;return DF(V)?(se=t.getRecordMatcher(V),ge=oe):ge=V,t.addRoute(ge,se)}function p(V){const oe=t.getRecordMatcher(V);oe&&t.removeRoute(oe)}function m(){return t.getRoutes().map(V=>V.record)}function g(V){return!!t.getRecordMatcher(V)}function w(V,oe){if(oe=Ze({},oe||l.value),typeof V=="string"){const x=jp(n,V,oe.path),T=t.resolve({path:x.path},oe),K=s.createHref(x.fullPath);return Ze(x,T,{params:d(T.params),hash:Zd(x.hash),redirectedFrom:void 0,href:K})}let se;if("path"in V)se=Ze({},V,{path:jp(n,V.path,oe.path).path});else{const x=Ze({},V.params);for(const T in x)x[T]==null&&delete x[T];se=Ze({},V,{params:c(V.params)}),oe.params=c(oe.params)}const ge=t.resolve(se,oe),Me=V.hash||"";ge.params=u(d(ge.params));const at=R3(i,Ze({},V,{hash:w$(Me),path:ge.path})),Qe=s.createHref(at);return Ze({fullPath:at,hash:Me,query:i===gB?x$(V.query):V.query||{}},ge,{redirectedFrom:void 0,href:Qe})}function v(V){return typeof V=="string"?jp(n,V,l.value.path):Ze({},V)}function C(V,oe){if(A!==V)return La(8,{from:oe,to:V})}function B(V){return F(V)}function E(V){return B(Ze(v(V),{replace:!0}))}function S(V){const oe=V.matched[V.matched.length-1];if(oe&&oe.redirect){const{redirect:se}=oe;let ge=typeof se=="function"?se(V):se;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=v(ge):{path:ge},ge.params={}),Ze({query:V.query,hash:V.hash,params:"path"in ge?{}:V.params},ge)}}function F(V,oe){const se=A=w(V),ge=l.value,Me=V.state,at=V.force,Qe=V.replace===!0,x=S(se);if(x)return F(Ze(v(x),{state:typeof x=="object"?Ze({},Me,x.state):Me,force:at,replace:Qe}),oe||se);const T=se;T.redirectedFrom=oe;let K;return!at&&D3(i,ge,se)&&(K=La(16,{to:T,from:ge}),Ne(ge,ge,!0,!1)),(K?Promise.resolve(K):Q(T,ge)).catch(G=>rs(G)?rs(G,2)?G:ve(G):q(G,T,ge)).then(G=>{if(G){if(rs(G,2))return F(Ze({replace:Qe},v(G.to),{state:typeof G.to=="object"?Ze({},Me,G.to.state):Me,force:at}),oe||T)}else G=L(T,ge,!0,Qe,Me);return k(T,ge,G),G})}function U(V,oe){const se=C(V,oe);return se?Promise.reject(se):Promise.resolve()}function Q(V,oe){let se;const[ge,Me,at]=L$(V,oe);se=Wp(ge.reverse(),"beforeRouteLeave",V,oe);for(const x of ge)x.leaveGuards.forEach(T=>{se.push($s(T,V,oe))});const Qe=U.bind(null,V,oe);return se.push(Qe),Do(se).then(()=>{se=[];for(const x of r.list())se.push($s(x,V,oe));return se.push(Qe),Do(se)}).then(()=>{se=Wp(Me,"beforeRouteUpdate",V,oe);for(const x of Me)x.updateGuards.forEach(T=>{se.push($s(T,V,oe))});return se.push(Qe),Do(se)}).then(()=>{se=[];for(const x of V.matched)if(x.beforeEnter&&!oe.matched.includes(x))if(Si(x.beforeEnter))for(const T of x.beforeEnter)se.push($s(T,V,oe));else se.push($s(x.beforeEnter,V,oe));return se.push(Qe),Do(se)}).then(()=>(V.matched.forEach(x=>x.enterCallbacks={}),se=Wp(at,"beforeRouteEnter",V,oe),se.push(Qe),Do(se))).then(()=>{se=[];for(const x of o.list())se.push($s(x,V,oe));return se.push(Qe),Do(se)}).catch(x=>rs(x,8)?x:Promise.reject(x))}function k(V,oe,se){for(const ge of a.list())ge(V,oe,se)}function L(V,oe,se,ge,Me){const at=C(V,oe);if(at)return at;const Qe=oe===Ps,x=Yo?history.state:{};se&&(ge||Qe?s.replace(V.fullPath,Ze({scroll:Qe&&x&&x.scroll},Me)):s.push(V.fullPath,Me)),l.value=V,Ne(V,oe,se,Qe),ve()}let R;function D(){R||(R=s.listen((V,oe,se)=>{if(!Ot.listening)return;const ge=w(V),Me=S(ge);if(Me){F(Ze(Me,{replace:!0}),ge).catch(tA);return}A=ge;const at=l.value;Yo&&G3(lB(at.fullPath,se.delta),Df()),Q(ge,at).catch(Qe=>rs(Qe,12)?Qe:rs(Qe,2)?(F(Qe.to,ge).then(x=>{rs(x,20)&&!se.delta&&se.type===PA.pop&&s.go(-1,!1)}).catch(tA),Promise.reject()):(se.delta&&s.go(-se.delta,!1),q(Qe,ge,at))).then(Qe=>{Qe=Qe||L(ge,at,!1),Qe&&(se.delta&&!rs(Qe,8)?s.go(-se.delta,!1):se.type===PA.pop&&rs(Qe,20)&&s.go(-1,!1)),k(ge,at,Qe)}).catch(tA)}))}let z=vl(),ce=vl(),Y;function q(V,oe,se){ve(V);const ge=ce.list();return ge.length?ge.forEach(Me=>Me(V,oe,se)):console.error(V),Promise.reject(V)}function ae(){return Y&&l.value!==Ps?Promise.resolve():new Promise((V,oe)=>{z.add([V,oe])})}function ve(V){return Y||(Y=!V,D(),z.list().forEach(([oe,se])=>V?se(V):oe()),z.reset()),V}function Ne(V,oe,se,ge){const{scrollBehavior:Me}=e;if(!Yo||!Me)return Promise.resolve();const at=!se&&z3(lB(V.fullPath,0))||(ge||!se)&&history.state&&history.state.scroll||null;return ms().then(()=>Me(V,oe,at)).then(Qe=>Qe&&$3(Qe)).catch(Qe=>q(Qe,V,oe))}const tt=V=>s.go(V);let We;const Ct=new Set,Ot={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:g,getRoutes:m,resolve:w,options:e,push:B,replace:E,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:ae,install(V){const oe=this;V.component("RouterLink",zF),V.component("RouterView",k$),V.config.globalProperties.$router=oe,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>da(l)}),Yo&&!We&&l.value===Ps&&(We=!0,B(s.location).catch(Me=>{}));const se={};for(const Me in Ps)se[Me]=it(()=>l.value[Me]);V.provide(pw,oe),V.provide(GF,vo(se)),V.provide(Sm,l);const ge=V.unmount;Ct.add(V),V.unmount=function(){Ct.delete(V),Ct.size<1&&(A=Ps,R&&R(),R=null,l.value=Ps,We=!1,Y=!1),ge()}}};return Ot}function Do(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function L$(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(A=>Qa(A,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(A=>Qa(A,l))||s.push(l))}return[n,i,s]}var I={innerWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},width(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}return 0},getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth(e,t){if(e){let n=e.offsetWidth;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return n}return 0},getOuterHeight(e,t){if(e){let n=e.offsetHeight;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}return 0},getClientHeight(e,t){if(e){let n=e.clientHeight;if(t){let i=getComputedStyle(e);n+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}return 0},getViewport(){let e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0],s=e.innerWidth||n.clientWidth||i.clientWidth,r=e.innerHeight||n.clientHeight||i.clientHeight;return{width:s,height:r}},getOffset(e){if(e){let t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index(e){if(e){let t=e.parentNode.childNodes,n=0;for(let i=0;i<t.length;i++){if(t[i]===e)return n;t[i].nodeType===1&&n++}}return-1},addMultipleClasses(e,t){if(e&&t)if(e.classList){let n=t.split(" ");for(let i=0;i<n.length;i++)e.classList.add(n[i])}else{let n=t.split(" ");for(let i=0;i<n.length;i++)e.className+=" "+n[i]}},addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass(e,t){return e?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1},find(e,t){return this.isElement(e)?e.querySelectorAll(t):[]},findSingle(e,t){return this.isElement(e)?e.querySelector(t):null},getHeight(e){if(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}return 0},getWidth(e){if(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}return 0},absolutePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),i=n.height,s=n.width,r=t.offsetHeight,o=t.offsetWidth,a=t.getBoundingClientRect(),l=this.getWindowScrollTop(),A=this.getWindowScrollLeft(),u=this.getViewport(),c,d;a.top+r+i>u.height?(c=a.top+l-i,e.style.transformOrigin="bottom",c<0&&(c=l)):(c=r+a.top+l,e.style.transformOrigin="top"),a.left+s>u.width?d=Math.max(0,a.left+A+o-s):d=a.left+A,e.style.top=c+"px",e.style.left=d+"px"}},relativePosition(e,t){if(e){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const i=t.offsetHeight,s=t.getBoundingClientRect(),r=this.getViewport();let o,a;s.top+i+n.height>r.height?(o=-1*n.height,e.style.transformOrigin="bottom",s.top+o<0&&(o=-1*s.top)):(o=i,e.style.transformOrigin="top"),n.width>r.width?a=s.left*-1:s.left+n.width>r.width?a=(s.left+n.width-r.width)*-1:a=0,e.style.top=o+"px",e.style.left=a+"px"}},getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))},getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const i=/(auto|scroll)/,s=r=>{let o=window.getComputedStyle(r,null);return i.test(o.getPropertyValue("overflow"))||i.test(o.getPropertyValue("overflowX"))||i.test(o.getPropertyValue("overflowY"))};for(let r of n){let o=r.nodeType===1&&r.dataset.scrollselectors;if(o){let a=o.split(",");for(let l of a){let A=this.findSingle(r,l);A&&s(A)&&t.push(A)}}r.nodeType!==9&&s(r)&&t.push(r)}}return t},getHiddenElementOuterHeight(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementOuterWidth(e){if(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}return 0},getHiddenElementDimensions(e){if(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}return 0},fadeIn(e,t){if(e){e.style.opacity=0;let n=+new Date,i=0,s=function(){i=+e.style.opacity+(new Date().getTime()-n)/t,e.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}},fadeOut(e,t){if(e){let n=1,i=50,s=t,r=i/s,o=setInterval(()=>{n-=r,n<=0&&(n=0,clearInterval(o)),e.style.opacity=n},i)}},getUserAgent(){return navigator.userAgent},appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t.el&&t.elElement)t.elElement.appendChild(e);else throw new Error("Cannot append "+t+" to "+e)},isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),r=s?parseFloat(s):0,o=e.getBoundingClientRect(),l=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-i-r,A=e.scrollTop,u=e.clientHeight,c=this.getOuterHeight(t);l<0?e.scrollTop=A+l:l+c>u&&(e.scrollTop=A+l-u+c)},clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t},getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},isVisible(e){return e&&e.offsetParent!=null},invokeElementMethod(e,t,n){e[t].apply(e,n)},isExist(e){return!!(e!==null&&typeof e!="undefined"&&e.nodeName&&e.parentNode)},isClient(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},focus(e,t){e&&document.activeElement!==e&&e.focus(t)},isFocusableElement(e,t=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1},getFocusableElements(e,t=""){let n=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`),i=[];for(let s of n)getComputedStyle(s).display!="none"&&getComputedStyle(s).visibility!="hidden"&&i.push(s);return i},getFirstFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[0]:null},getLastFocusableElement(e,t){const n=this.getFocusableElements(e,t);return n.length>0?n[n.length-1]:null},getNextFocusableElement(e,t,n){const i=this.getFocusableElements(e,n),s=i.length>0?i.findIndex(o=>o===t):-1,r=s>-1&&i.length>=s+1?s+1:-1;return r>-1?i[r]:null},isClickable(e){if(e){const t=e.nodeName,n=e.parentElement&&e.parentElement.nodeName;return t==="INPUT"||t==="TEXTAREA"||t==="BUTTON"||t==="A"||n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle(e,t){if(typeof t=="string")e.style.cssText=t;else for(let n in t)e.style[n]=t[n]},isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid(){return/(android)/i.test(navigator.userAgent)},isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},exportCSV(e,t){let n=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t+".csv");else{let i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(n)),i.setAttribute("download",t+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}}};class Io{constructor(t,n=()=>{}){this.element=t,this.listener=n}bindScrollListener(){this.scrollableParents=I.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}function jF(){const e=new Map;return{on(t,n){let i=e.get(t);i?i.push(n):i=[n],e.set(t,i)},off(t,n){let i=e.get(t);i&&i.splice(i.indexOf(n)>>>0,1)},emit(t,n){let i=e.get(t);i&&i.slice().map(s=>{s(n)})}}}var $={equals(e,t,n){return n?this.resolveFieldData(e,n)===this.resolveFieldData(t,n):this.deepEquals(e,t)},deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),i=Array.isArray(t),s,r,o;if(n&&i){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(n!=i)return!1;var a=e instanceof Date,l=t instanceof Date;if(a!=l)return!1;if(a&&l)return e.getTime()==t.getTime();var A=e instanceof RegExp,u=t instanceof RegExp;if(A!=u)return!1;if(A&&u)return e.toString()==t.toString();var c=Object.keys(e);if(r=c.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,c[s]))return!1;for(s=r;s--!==0;)if(o=c[s],!this.deepEquals(e[o],t[o]))return!1;return!0}return e!==e&&t!==t},resolveFieldData(e,t){if(e&&Object.keys(e).length&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")===-1)return e[t];{let s=t.split("."),r=e;for(var n=0,i=s.length;n<i;++n){if(r==null)return null;r=r[s[n]]}return r}}else return null},isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},getItemValue(e,...t){return this.isFunction(e)?e(...t):e},filter(e,t,n){var i=[];if(e){for(let s of e)for(let r of t)if(String(this.resolveFieldData(s,r)).toLowerCase().indexOf(n.toLowerCase())>-1){i.push(s);break}}return i},reorderArray(e,t,n){e&&t!==n&&(n>=e.length&&(n%=e.length,t%=e.length),e.splice(n,0,e.splice(t,1)[0]))},findIndexInList(e,t){let n=-1;if(t){for(let i=0;i<t.length;i++)if(t[i]===e){n=i;break}}return n},contains(e,t){if(e!=null&&t&&t.length){for(let n of t)if(this.equals(e,n))return!0}return!1},insertIntoOrderedArray(e,t,n,i){if(n.length>0){let s=!1;for(let r=0;r<n.length;r++)if(this.findIndexInList(n[r],i)>t){n.splice(r,0,e),s=!0;break}s||n.push(e)}else n.push(e)},removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp(e,t){let n=e.props;if(n){let i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(n,i)?i:t;return e.type.props[t].type===Boolean&&n[s]===""?!0:n[s]}return null},isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&typeof e=="object"&&Object.keys(e).length===0},isNotEmpty(e){return!this.isEmpty(e)},isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast(e,t){let n;if(this.isNotEmpty(e))try{n=e.findLast(t)}catch{n=[...e].reverse().find(t)}return n},findLastIndex(e,t){let n=-1;if(this.isNotEmpty(e))try{n=e.findLastIndex(t)}catch{n=e.lastIndexOf([...e].reverse().find(t))}return n}},bB=0;function _t(e="pv_id_"){return bB++,`${e}${bB}`}function O$(){let e=[];const t=(o,a,l=999)=>{const A=s(o,a,l),u=A.value+(A.key===o?0:l)+1;return e.push({key:o,value:u}),u},n=o=>{e=e.filter(a=>a.value!==o)},i=(o,a)=>s(o,a).value,s=(o,a,l=0)=>[...e].reverse().find(A=>a?!0:A.key===o)||{key:o,value:l},r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,a,l)=>{a&&(a.style.zIndex=String(t(o,!0,l)))},clear:o=>{o&&(n(r(o)),o.style.zIndex="")},getCurrent:o=>i(o,!0)}}var st=O$();let Fm;function R$(e){e.addEventListener("mousedown",WF)}function D$(e){e.removeEventListener("mousedown",WF)}function M$(e){let t=document.createElement("span");t.className="p-ink",t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),e.appendChild(t),t.addEventListener("animationend",qF)}function P$(e){let t=XF(e);t&&(D$(e),t.removeEventListener("animationend",qF),t.remove())}function WF(e){let t=e.currentTarget,n=XF(t);if(!n||getComputedStyle(n,null).display==="none")return;if(I.removeClass(n,"p-ink-active"),!I.getHeight(n)&&!I.getWidth(n)){let o=Math.max(I.getOuterWidth(t),I.getOuterHeight(t));n.style.height=o+"px",n.style.width=o+"px"}let i=I.getOffset(t),s=e.pageX-i.left+document.body.scrollTop-I.getWidth(n)/2,r=e.pageY-i.top+document.body.scrollLeft-I.getHeight(n)/2;n.style.top=r+"px",n.style.left=s+"px",I.addClass(n,"p-ink-active"),Fm=setTimeout(()=>{n&&I.removeClass(n,"p-ink-active")},401)}function qF(e){Fm&&clearTimeout(Fm),I.removeClass(e.currentTarget,"p-ink-active")}function XF(e){for(let t=0;t<e.children.length;t++)if(typeof e.children[t].className=="string"&&e.children[t].className.indexOf("p-ink")!==-1)return e.children[t];return null}const bt={mounted(e,t){t.instance.$primevue&&t.instance.$primevue.config&&t.instance.$primevue.config.ripple&&(M$(e),R$(e))},unmounted(e){P$(e)}};var Lt={name:"Button",props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},computed:{buttonClass(){return["p-button p-component",{"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-disabled":this.$attrs.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label,"p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain}]},iconStyleClass(){return[this.loading?"p-button-loading-icon "+this.loadingIcon:this.icon,"p-button-icon",this.iconClass,{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}]},badgeStyleClass(){return["p-badge p-component",this.badgeClass,{"p-badge-no-gutter":this.badge&&String(this.badge).length===1}]},disabled(){return this.$attrs.disabled||this.loading},defaultAriaLabel(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs["aria-label"]}},directives:{ripple:bt}};const H$=["aria-label","disabled"],N$={class:"p-button-label"};function K$(e,t,n,i,s,r){const o=pt("ripple");return re((y(),_("button",{class:P(r.buttonClass),type:"button","aria-label":r.defaultAriaLabel,disabled:r.disabled},[ue(e.$slots,"default",{},()=>[n.loading&&!n.icon?(y(),_("span",{key:0,class:P(r.iconStyleClass)},null,2)):H("",!0),n.icon?(y(),_("span",{key:1,class:P(r.iconStyleClass)},null,2)):H("",!0),f("span",N$,M(n.label||"\xA0"),1),n.badge?(y(),_("span",{key:2,class:P(r.badgeStyleClass)},M(n.badge),3)):H("",!0)])],10,H$)),[[o]])}Lt.render=K$;var Bt=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};const V$={name:"About",components:{Button:Lt},data(){return{}},computed:{count(){return this.$store.state.count},userId(){return this.$store.state.user?this.$store.state.user.uid:null}},async mounted(){console.log("Home mounted"),console.log("prodtest")},methods:{incrementCount(){this.$store.state.count++},join(){this.$router.push({name:"Register"})}}},$$=f("div",{class:"p-5 font-semibold text-5xl text-center"}," RBIO-P Data Sharing Web App ",-1),G$={id:"call-to-action"},z$={class:"surface-section px-4 py-8 md:px-6 lg:px-8"},j$={class:"text-700 text-center"},W$=f("div",{class:"text-blue-600 font-bold mb-3"},[f("i",{class:"pi pi-share-alt px-1"}),he("\xA0EMPOWERING RESEARCH")],-1),q$=f("div",{class:"text-900 font-bold text-3xl mb-3"}," Join Our Data Sharing Community ",-1),X$=f("div",{class:"text-700 text-2xl mb-5"}," Stay up to date with the latest datasets from the Salk Institute's Regulatory Biology Laboratory. ",-1);function J$(e,t,n,i,s,r){const o=N("Button");return y(),_(J,null,[$$,f("div",G$,[f("div",z$,[f("div",j$,[W$,q$,X$,b(o,{label:"Join Now",icon:"pi pi-cloud",class:"font-bold px-5 py-3 p-button-raised p-button-rounded white-space-nowrap",onClick:r.join},null,8,["onClick"])])])])],64)}var Y$=Bt(V$,[["render",J$]]),es={name:"Portal",props:{appendTo:{type:String,default:"body"},disabled:{type:Boolean,default:!1}},data(){return{mounted:!1}},mounted(){this.mounted=I.isClient()},computed:{inline(){return this.disabled||this.appendTo==="self"}}};function Z$(e,t,n,i,s,r){return r.inline?ue(e.$slots,"default",{key:0}):s.mounted?(y(),ee(ZO,{key:1,to:n.appendTo},[ue(e.$slots,"default")],8,["to"])):H("",!0)}es.render=Z$;var ds=jF(),JF={name:"ToastMessage",emits:["close"],props:{message:{type:null,default:null},template:{type:null,default:null},closeIcon:{type:String,default:null},infoIcon:{type:String,default:null},warnIcon:{type:String,default:null},errorIcon:{type:String,default:null},successIcon:{type:String,default:null},closeButtonProps:{type:null,default:null}},closeTimeout:null,mounted(){this.message.life&&(this.closeTimeout=setTimeout(()=>{this.close({message:this.message,type:"life-end"})},this.message.life))},beforeUnmount(){this.clearCloseTimeout()},methods:{close(e){this.$emit("close",e)},onCloseClick(){this.clearCloseTimeout(),this.close({message:this.message,type:"close"})},clearCloseTimeout(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},computed:{containerClass(){return["p-toast-message",this.message.styleClass,{"p-toast-message-info":this.message.severity==="info","p-toast-message-warn":this.message.severity==="warn","p-toast-message-error":this.message.severity==="error","p-toast-message-success":this.message.severity==="success"}]},iconClass(){return["p-toast-message-icon",{[this.infoIcon]:this.message.severity==="info",[this.warnIcon]:this.message.severity==="warn",[this.errorIcon]:this.message.severity==="error",[this.successIcon]:this.message.severity==="success"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:bt}};const e8={class:"p-toast-message-text"},t8={class:"p-toast-summary"},n8={class:"p-toast-detail"},i8={key:2},s8=["aria-label"];function r8(e,t,n,i,s,r){const o=pt("ripple");return y(),_("div",{class:P(r.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[f("div",{class:P(["p-toast-message-content",n.message.contentStyleClass])},[n.template?(y(),ee(ht(n.template),{key:1,message:n.message},null,8,["message"])):(y(),_(J,{key:0},[f("span",{class:P(r.iconClass)},null,2),f("div",e8,[f("span",t8,M(n.message.summary),1),f("div",n8,M(n.message.detail),1)])],64)),n.message.closable!==!1?(y(),_("div",i8,[re((y(),_("button",Ue({class:"p-toast-icon-close p-link",type:"button","aria-label":r.closeAriaLabel,onClick:t[0]||(t[0]=(...a)=>r.onCloseClick&&r.onCloseClick(...a)),autofocus:""},n.closeButtonProps),[f("span",{class:P(["p-toast-icon-close-icon",n.closeIcon])},null,2)],16,s8)),[[o]])])):H("",!0)],2)],2)}JF.render=r8;var o8=0,Mf={name:"Toast",inheritAttrs:!1,emits:["close","life-end"],props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},breakpoints:{type:Object,default:null},closeIcon:{type:String,default:"pi pi-times"},infoIcon:{type:String,default:"pi pi-info-circle"},warnIcon:{type:String,default:"pi pi-exclamation-triangle"},errorIcon:{type:String,default:"pi pi-times"},successIcon:{type:String,default:"pi pi-check"},closeButtonProps:{type:null,default:null}},data(){return{messages:[]}},styleElement:null,mounted(){ds.on("add",this.onAdd),ds.on("remove-group",this.onRemoveGroup),ds.on("remove-all-groups",this.onRemoveAllGroups),this.breakpoints&&this.createStyle()},beforeUnmount(){this.destroyStyle(),this.$refs.container&&this.autoZIndex&&st.clear(this.$refs.container),ds.off("add",this.onAdd),ds.off("remove-group",this.onRemoveGroup),ds.off("remove-all-groups",this.onRemoveAllGroups)},methods:{add(e){e.id==null&&(e.id=o8++),this.messages=[...this.messages,e]},remove(e){let t=-1;for(let n=0;n<this.messages.length;n++)if(this.messages[n]===e.message){t=n;break}this.messages.splice(t,1),this.$emit(e.type,{message:e.message})},onAdd(e){this.group==e.group&&this.add(e)},onRemoveGroup(e){this.group===e&&(this.messages=[])},onRemoveAllGroups(){this.messages=[]},onEnter(){this.$refs.container.setAttribute(this.attributeSelector,""),this.autoZIndex&&st.set("modal",this.$refs.container,this.baseZIndex||this.$primevue.config.zIndex.modal)},onLeave(){this.$refs.container&&this.autoZIndex&&$.isEmpty(this.messages)&&setTimeout(()=>{st.clear(this.$refs.container)},200)},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints){let n="";for(let i in this.breakpoints[t])n+=i+":"+this.breakpoints[t][i]+"!important;";e+=`
                        @media screen and (max-width: ${t}) {
                            .p-toast[${this.attributeSelector}] {
                                ${n}
                            }
                        }
                    `}this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},computed:{containerClass(){return["p-toast p-component p-toast-"+this.position,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return _t()}},components:{ToastMessage:JF,Portal:es}};function a8(e,t,n,i,s,r){const o=N("ToastMessage"),a=N("Portal");return y(),ee(a,null,{default:O(()=>[f("div",Ue({ref:"container",class:r.containerClass},e.$attrs),[b(OR,{name:"p-toast-message",tag:"div",onEnter:r.onEnter,onLeave:r.onLeave},{default:O(()=>[(y(!0),_(J,null,be(s.messages,l=>(y(),ee(o,{key:l.id,message:l,template:e.$slots.message,closeIcon:n.closeIcon,infoIcon:n.infoIcon,warnIcon:n.warnIcon,errorIcon:n.errorIcon,successIcon:n.successIcon,closeButtonProps:n.closeButtonProps,onClose:t[0]||(t[0]=A=>r.remove(A))},null,8,["message","template","closeIcon","infoIcon","warnIcon","errorIcon","successIcon","closeButtonProps"]))),128))]),_:1},8,["onEnter","onLeave"])],16)]),_:1})}function l8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var A8=`
.p-toast {
    position: fixed;
    width: 25rem;
}
.p-toast-message-content {
    display: flex;
    align-items: flex-start;
}
.p-toast-message-text {
    flex: 1 1 auto;
}
.p-toast-top-right {
    top: 20px;
    right: 20px;
}
.p-toast-top-left {
    top: 20px;
    left: 20px;
}
.p-toast-bottom-left {
    bottom: 20px;
    left: 20px;
}
.p-toast-bottom-right {
    bottom: 20px;
    right: 20px;
}
.p-toast-top-center {
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-bottom-center {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
}
.p-toast-center {
    left: 50%;
    top: 50%;
    min-width: 20vw;
    transform: translate(-50%, -50%);
}
.p-toast-icon-close {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}
.p-toast-icon-close.p-link {
    cursor: pointer;
}

/* Animations */
.p-toast-message-enter-from {
    opacity: 0;
    -webkit-transform: translateY(50%);
    -ms-transform: translateY(50%);
    transform: translateY(50%);
}
.p-toast-message-leave-from {
    max-height: 1000px;
}
.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}
.p-toast-message-enter-active {
    -webkit-transition: transform 0.3s, opacity 0.3s;
    transition: transform 0.3s, opacity 0.3s;
}
.p-toast-message-leave-active {
    -webkit-transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`;l8(A8);Mf.render=a8;var Pf={name:"ProgressBar",props:{value:{type:Number,default:null},mode:{type:String,default:"determinate"},showValue:{type:Boolean,default:!0}},computed:{containerClass(){return["p-progressbar p-component",{"p-progressbar-determinate":this.determinate,"p-progressbar-indeterminate":this.indeterminate}]},progressStyle(){return{width:this.value+"%",display:"flex"}},indeterminate(){return this.mode==="indeterminate"},determinate(){return this.mode==="determinate"}}};const u8=["aria-valuenow"],c8={key:0,class:"p-progressbar-label"},d8={key:1,class:"p-progressbar-indeterminate-container"},h8=f("div",{class:"p-progressbar-value p-progressbar-value-animate"},null,-1),f8=[h8];function p8(e,t,n,i,s,r){return y(),_("div",{role:"progressbar",class:P(r.containerClass),"aria-valuemin":"0","aria-valuenow":n.value,"aria-valuemax":"100"},[r.determinate?(y(),_("div",{key:0,class:"p-progressbar-value p-progressbar-value-animate",style:Re(r.progressStyle)},[n.value!=null&&n.value!==0&&n.showValue?(y(),_("div",c8,[ue(e.$slots,"default",{},()=>[he(M(n.value+"%"),1)])])):H("",!0)],4)):H("",!0),r.indeterminate?(y(),_("div",d8,f8)):H("",!0)],10,u8)}function g8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var m8=`
.p-progressbar {
    position: relative;
    overflow: hidden;
}
.p-progressbar-determinate .p-progressbar-value {
    height: 100%;
    width: 0%;
    position: absolute;
    display: none;
    border: 0 none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}
.p-progressbar-determinate .p-progressbar-label {
    display: inline-flex;
}
.p-progressbar-determinate .p-progressbar-value-animate {
    transition: width 1s ease-in-out;
}
.p-progressbar-indeterminate .p-progressbar-value::before {
    content: '';
    position: absolute;
    background-color: inherit;
    top: 0;
    left: 0;
    bottom: 0;
    will-change: left, right;
    -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
}
.p-progressbar-indeterminate .p-progressbar-value::after {
    content: '';
    position: absolute;
    background-color: inherit;
    top: 0;
    left: 0;
    bottom: 0;
    will-change: left, right;
    -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    -webkit-animation-delay: 1.15s;
    animation-delay: 1.15s;
}
@-webkit-keyframes p-progressbar-indeterminate-anim {
0% {
        left: -35%;
        right: 100%;
}
60% {
        left: 100%;
        right: -90%;
}
100% {
        left: 100%;
        right: -90%;
}
}
@keyframes p-progressbar-indeterminate-anim {
0% {
        left: -35%;
        right: 100%;
}
60% {
        left: 100%;
        right: -90%;
}
100% {
        left: 100%;
        right: -90%;
}
}
@-webkit-keyframes p-progressbar-indeterminate-anim-short {
0% {
        left: -200%;
        right: 100%;
}
60% {
        left: 107%;
        right: -8%;
}
100% {
        left: 107%;
        right: -8%;
}
}
@keyframes p-progressbar-indeterminate-anim-short {
0% {
        left: -200%;
        right: 100%;
}
60% {
        left: 107%;
        right: -8%;
}
100% {
        left: 107%;
        right: -8%;
}
}
`;g8(m8);Pf.render=p8;var Su={name:"ProgressSpinner",props:{strokeWidth:{type:String,default:"2"},fill:{type:String,default:"none"},animationDuration:{type:String,default:"2s"}},computed:{svgStyle(){return{"animation-duration":this.animationDuration}}}};const y8={class:"p-progress-spinner",role:"progressbar"},v8=["fill","stroke-width"];function w8(e,t,n,i,s,r){return y(),_("div",y8,[(y(),_("svg",{class:"p-progress-spinner-svg",viewBox:"25 25 50 50",style:Re(r.svgStyle)},[f("circle",{class:"p-progress-spinner-circle",cx:"50",cy:"50",r:"20",fill:n.fill,"stroke-width":n.strokeWidth,strokeMiterlimit:"10"},null,8,v8)],4))])}function _8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var b8=`
.p-progress-spinner {
    position: relative;
    margin: 0 auto;
    width: 100px;
    height: 100px;
    display: inline-block;
}
.p-progress-spinner::before {
    content: '';
    display: block;
    padding-top: 100%;
}
.p-progress-spinner-svg {
    height: 100%;
    transform-origin: center center;
    width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
}
`;_8(b8);Su.render=w8;var hn=jF(),Fu={name:"VirtualScroller",emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},data(){return{first:this.isBoth()?{rows:0,cols:0}:0,last:this.isBoth()?{rows:0,cols:0}:0,page:this.isBoth()?{rows:0,cols:0}:0,numItemsInViewport:this.isBoth()?{rows:0,cols:0}:0,lastScrollPos:this.isBoth()?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems(e){this.d_numToleratedItems=e},loading(e){this.d_loading=e},items(e,t){(!t||t.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize(){this.init(),this.calculateAutoSize()},orientation(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight(){this.init(),this.calculateAutoSize()},scrollWidth(){this.init(),this.calculateAutoSize()}},mounted(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated(){!this.initialized&&this.viewInit()},unmounted(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit(){I.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.bindResizeListener(),this.defaultWidth=I.getWidth(this.element),this.defaultHeight=I.getHeight(this.element),this.defaultContentWidth=I.getWidth(this.content),this.defaultContentHeight=I.getHeight(this.content),this.initialized=!0)},init(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical(){return this.orientation==="vertical"},isHorizontal(){return this.orientation==="horizontal"},isBoth(){return this.orientation==="both"},scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.element&&this.element.scrollTo(e)},scrollToIndex(e,t="auto"){const n=this.isBoth(),i=this.isHorizontal(),s=this.first,{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),a=this.itemSize,l=(h=0,p)=>h<=p?0:h,A=(h,p,m)=>h*p+m,u=(h=0,p=0)=>this.scrollTo({left:h,top:p,behavior:t});let c=n?{rows:0,cols:0}:0,d=!1;n?(c={rows:l(e[0],r[0]),cols:l(e[1],r[1])},u(A(c.cols,a[1],o.left),A(c.rows,a[0],o.top)),d=c.rows!==s.rows||c.cols!==s.cols):(c=l(e,r),i?u(A(c,a,o.left),0):u(0,A(c,a,o.top)),d=c!==s),this.isRangeChanged=d,this.first=c},scrollInView(e,t,n="auto"){if(t){const i=this.isBoth(),s=this.isHorizontal(),{first:r,viewport:o}=this.getRenderedRange(),a=(u=0,c=0)=>this.scrollTo({left:u,top:c,behavior:n}),l=t==="to-start",A=t==="to-end";if(l){if(i)o.first.rows-r.rows>e[0]?a(o.first.cols*this.itemSize[1],(o.first.rows-1)*this.itemSize[0]):o.first.cols-r.cols>e[1]&&a((o.first.cols-1)*this.itemSize[1],o.first.rows*this.itemSize[0]);else if(o.first-r>e){const u=(o.first-1)*this.itemSize;s?a(u,0):a(0,u)}}else if(A){if(i)o.last.rows-r.rows<=e[0]+1?a(o.first.cols*this.itemSize[1],(o.first.rows+1)*this.itemSize[0]):o.last.cols-r.cols<=e[1]+1&&a((o.first.cols+1)*this.itemSize[1],o.first.rows*this.itemSize[0]);else if(o.last-r<=e+1){const u=(o.first+1)*this.itemSize;s?a(u,0):a(0,u)}}}else this.scrollToIndex(e,n)},getRenderedRange(){const e=(i,s)=>Math.floor(i/(s||i));let t=this.first,n=0;if(this.element){const i=this.isBoth(),s=this.isHorizontal(),{scrollTop:r,scrollLeft:o}=this.element.scrollTop;i?(t={rows:e(r,this.itemSize[0]),cols:e(o,this.itemSize[1])},n={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols}):(t=e(s?o:r,this.itemSize),n=t+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:t,last:n}}},calculateNumItems(){const e=this.isBoth(),t=this.isHorizontal(),n=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,r=this.element?this.element.offsetHeight-i.top:0,o=(u,c)=>Math.ceil(u/(c||u)),a=u=>Math.ceil(u/2),l=e?{rows:o(r,n[0]),cols:o(s,n[1])}:o(t?s:r,n),A=this.d_numToleratedItems||(e?[a(l.rows),a(l.cols)]:a(l));return{numItemsInViewport:l,numToleratedItems:A}},calculateOptions(){const e=this.isBoth(),t=this.first,{numItemsInViewport:n,numToleratedItems:i}=this.calculateNumItems(),s=(o,a,l,A=!1)=>this.getLast(o+a+(o<l?2:3)*l,A),r=e?{rows:s(t.rows,n.rows,i[0]),cols:s(t.cols,n.cols,i[1],!0)}:s(t,n,i);this.last=r,this.numItemsInViewport=n,this.d_numToleratedItems=i,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=e?Array.from({length:n.rows}).map(()=>Array.from({length:n.cols})):Array.from({length:n})),this.lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this.step?e?{rows:0,cols:t.cols}:0:t,last:Math.min(this.step?this.step:r,this.items.length)},this.$emit("lazy-load",this.lazyLoadState)})},calculateAutoSize(){this.autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.content){const e=this.isBoth(),t=this.isHorizontal(),n=this.isVertical();this.content.style.minHeight=this.content.style.minWidth="auto",this.content.style.position="relative",this.element.style.contain="none";const[i,s]=[I.getWidth(this.content),I.getHeight(this.content)];i!==this.defaultContentWidth&&(this.element.style.width=""),s!==this.defaultContentHeight&&(this.element.style.height="");const[r,o]=[I.getWidth(this.element),I.getHeight(this.element)];(e||t)&&(this.element.style.width=r<this.defaultWidth?r+"px":this.scrollWidth||this.defaultWidth+"px"),(e||n)&&(this.element.style.height=o<this.defaultHeight?o+"px":this.scrollHeight||this.defaultHeight+"px"),this.content.style.minHeight=this.content.style.minWidth="",this.content.style.position="",this.element.style.contain=""}})},getLast(e=0,t){return this.items?Math.min(t?(this.columns||this.items[0]).length:this.items.length,e):0},getContentPosition(){if(this.content){const e=getComputedStyle(this.content),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),n=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:n,top:i,bottom:s,x:t+n,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize(){if(this.element){const e=this.isBoth(),t=this.isHorizontal(),n=this.element.parentElement,i=this.scrollWidth||`${this.element.offsetWidth||n.offsetWidth}px`,s=this.scrollHeight||`${this.element.offsetHeight||n.offsetHeight}px`,r=(o,a)=>this.element.style[o]=a;e||t?(r("height",s),r("width",i)):r("height",s)}},setSpacerSize(){const e=this.items;if(e){const t=this.isBoth(),n=this.isHorizontal(),i=this.getContentPosition(),s=(r,o,a,l=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*a+l+"px"};t?(s("height",e,this.itemSize[0],i.y),s("width",this.columns||e[1],this.itemSize[1],i.x)):n?s("width",this.columns||e,this.itemSize,i.x):s("height",e,this.itemSize,i.y)}},setContentPosition(e){if(this.content&&!this.appendOnly){const t=this.isBoth(),n=this.isHorizontal(),i=e?e.first:this.first,s=(o,a)=>o*a,r=(o=0,a=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${o}px, ${a}px, 0)`};if(t)r(s(i.cols,this.itemSize[1]),s(i.rows,this.itemSize[0]));else{const o=s(i,this.itemSize);n?r(o,0):r(0,o)}}},onScrollPositionChange(e){const t=e.target,n=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),r=(g,w)=>g?g>w?g-w:g:0,o=(g,w)=>Math.floor(g/(w||g)),a=(g,w,v,C,B,E)=>g<=B?B:E?v-C-B:w+B-1,l=(g,w,v,C,B,E,S)=>g<=E?0:Math.max(0,S?g<w?v:g-E:g>w?v:g-2*E),A=(g,w,v,C,B,E)=>{let S=w+C+2*B;return g>=B&&(S+=B+1),this.getLast(S,E)},u=r(t.scrollTop,s.top),c=r(t.scrollLeft,s.left);let d=n?{rows:0,cols:0}:0,h=this.last,p=!1,m=this.lastScrollPos;if(n){const g=this.lastScrollPos.top<=u,w=this.lastScrollPos.left<=c;if(!this.appendOnly||this.appendOnly&&(g||w)){const v={rows:o(u,this.itemSize[0]),cols:o(c,this.itemSize[1])},C={rows:a(v.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],g),cols:a(v.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],w)};d={rows:l(v.rows,C.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],g),cols:l(v.cols,C.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],w)},h={rows:A(v.rows,d.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:A(v.cols,d.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},p=d.rows!==this.first.rows||h.rows!==this.last.rows||d.cols!==this.first.cols||h.cols!==this.last.cols||this.isRangeChanged,m={top:u,left:c}}}else{const g=i?c:u,w=this.lastScrollPos<=g;if(!this.appendOnly||this.appendOnly&&w){const v=o(g,this.itemSize),C=a(v,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,w);d=l(v,C,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,w),h=A(v,d,this.last,this.numItemsInViewport,this.d_numToleratedItems),p=d!==this.first||h!==this.last||this.isRangeChanged,m=g}}return{first:d,last:h,isRangeChanged:p,scrollPos:m}},onScrollChange(e){const{first:t,last:n,isRangeChanged:i,scrollPos:s}=this.onScrollPositionChange(e);if(i){const r={first:t,last:n};if(this.setContentPosition(r),this.first=t,this.last=n,this.lastScrollPos=s,this.$emit("scroll-index-change",r),this.lazy&&this.isPageChanged(t)){const o={first:this.step?Math.min(this.getPageByFirst(t)*this.step,this.items.length-this.step):t,last:Math.min(this.step?(this.getPageByFirst(t)+1)*this.step:n,this.items.length)};(this.lazyLoadState.first!==o.first||this.lazyLoadState.last!==o.last)&&this.$emit("lazy-load",o),this.lazyLoadState=o}}},onScroll(e){if(this.$emit("scroll",e),this.delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:t}=this.onScrollPositionChange(e);(t||(this.step?this.isPageChanged():!1))&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this.lazy||this.loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst())},this.delay)}else this.onScrollChange(e)},onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(I.isVisible(this.element)){const e=this.isBoth(),t=this.isVertical(),n=this.isHorizontal(),[i,s]=[I.getWidth(this.element),I.getHeight(this.element)],[r,o]=[i!==this.defaultWidth,s!==this.defaultHeight];(e?r||o:n?r:t?o:!1)&&(this.d_numToleratedItems=this.numToleratedItems,this.defaultWidth=i,this.defaultHeight=s,this.defaultContentWidth=I.getWidth(this.content),this.defaultContentHeight=I.getHeight(this.content),this.init())}},this.resizeDelay)},bindResizeListener(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions(e){const t=(this.items||[]).length,n=this.isBoth()?this.first.rows+e:this.first+e;return{index:n,count:t,first:n===0,last:n===t-1,even:n%2===0,odd:n%2!==0}},getLoaderOptions(e,t){let n=this.loaderArr.length;return{index:e,count:n,first:e===0,last:e===n-1,even:e%2===0,odd:e%2!==0,...t}},getPageByFirst(e){return Math.floor(((e!=null?e:this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged(e){return this.step?this.page!==this.getPageByFirst(e!=null?e:this.first):!0},setContentEl(e){this.content=e||this.content||I.findSingle(this.element,".p-virtualscroller-content")},elementRef(e){this.element=e},contentRef(e){this.content=e}},computed:{containerClass(){return["p-virtualscroller",{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()},this.class]},contentClass(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems(){return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(e=>this.columns?e:e.slice(this.appendOnly?0:this.first.cols,this.last.cols)):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns(){if(this.columns){const e=this.isBoth(),t=this.isHorizontal();if(e||t)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}}};const B8=["tabindex"],C8={key:1,class:"p-virtualscroller-loading-icon pi pi-spinner pi-spin"};function x8(e,t,n,i,s,r){return n.disabled?(y(),_(J,{key:1},[ue(e.$slots,"default"),ue(e.$slots,"content",{items:n.items,rows:n.items,columns:r.loadedColumns})],64)):(y(),_("div",{key:0,ref:r.elementRef,class:P(r.containerClass),tabindex:n.tabindex,style:Re(n.style),onScroll:t[0]||(t[0]=(...o)=>r.onScroll&&r.onScroll(...o))},[ue(e.$slots,"content",{styleClass:r.contentClass,items:r.loadedItems,getItemOptions:r.getOptions,loading:s.d_loading,getLoaderOptions:r.getLoaderOptions,itemSize:n.itemSize,rows:r.loadedRows,columns:r.loadedColumns,contentRef:r.contentRef,spacerStyle:s.spacerStyle,contentStyle:s.contentStyle,vertical:r.isVertical(),horizontal:r.isHorizontal(),both:r.isBoth()},()=>[f("div",{ref:r.contentRef,class:P(r.contentClass),style:Re(s.contentStyle)},[(y(!0),_(J,null,be(r.loadedItems,(o,a)=>ue(e.$slots,"item",{key:a,item:o,options:r.getOptions(a)})),128))],6)]),n.showSpacer?(y(),_("div",{key:0,class:"p-virtualscroller-spacer",style:Re(s.spacerStyle)},null,4)):H("",!0),!n.loaderDisabled&&n.showLoader&&s.d_loading?(y(),_("div",{key:1,class:P(r.loaderClass)},[e.$slots&&e.$slots.loader?(y(!0),_(J,{key:0},be(s.loaderArr,(o,a)=>ue(e.$slots,"loader",{key:a,options:r.getLoaderOptions(a,r.isBoth()&&{numCols:e.d_numItemsInViewport.cols})})),128)):(y(),_("i",C8))],2)):H("",!0)],46,B8))}function E8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var I8=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}
.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /* contain: content; */
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}
.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}
.p-virtualscroller .p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-virtualscroller-loading-icon {
    font-size: 2rem;
}
.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`;E8(I8);Fu.render=x8;var YF={name:"AutoComplete",emits:["update:modelValue","change","focus","blur","item-select","item-unselect","dropdown-click","clear","complete","before-show","before-hide","show","hide"],props:{modelValue:null,suggestions:{type:Array,default:null},field:{type:[String,Function],default:null},optionLabel:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},dropdown:{type:Boolean,default:!1},dropdownMode:{type:String,default:"blank"},autoHighlight:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},dataKey:{type:String,default:null},minLength:{type:Number,default:1},delay:{type:Number,default:300},appendTo:{type:String,default:"body"},forceSelection:{type:Boolean,default:!1},completeOnFocus:{type:Boolean,default:!1},inputId:{type:String,default:null},inputStyle:{type:Object,default:null},inputClass:{type:[String,Object],default:null},inputProps:{type:null,default:null},panelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},panelProps:{type:null,default:null},dropdownIcon:{type:String,default:"pi pi-chevron-down"},dropdownClass:{type:[String,Object],default:null},loadingIcon:{type:String,default:"pi pi-spinner"},removeTokenIcon:{type:String,default:"pi pi-times-circle"},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},selectOnFocus:{type:Boolean,default:!1},searchLocale:{type:String,default:void 0},searchMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptySearchMessage:{type:String,default:null},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},outsideClickListener:null,resizeListener:null,scrollHandler:null,overlay:null,virtualScroller:null,searchTimeout:null,focusOnHover:!1,dirty:!1,data(){return{id:this.$attrs.id,focused:!1,focusedOptionIndex:-1,focusedMultipleOptionIndex:-1,overlayVisible:!1,searching:!1}},watch:{"$attrs.id":function(e){this.id=e||_t()},suggestions(){this.searching&&($.isNotEmpty(this.suggestions)?this.show():this.$slots.empty?this.show():this.hide(),this.focusedOptionIndex=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.searching=!1),this.autoUpdateModel()}},mounted(){this.id=this.id||_t(),this.autoUpdateModel()},updated(){this.overlayVisible&&this.alignOverlay()},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(st.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel(e){return this.field||this.optionLabel?$.resolveFieldData(e,this.field||this.optionLabel):e},getOptionValue(e){return e},getOptionRenderKey(e,t){return(this.dataKey?$.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+t},isOptionDisabled(e){return this.optionDisabled?$.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel(e){return $.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren(e){return $.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1},show(e){this.$emit("before-show"),this.dirty=!0,this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&I.focus(this.$refs.focusInput)},hide(e){const t=()=>{this.$emit("before-hide"),this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex=-1,e&&I.focus(this.$refs.focusInput)};setTimeout(()=>{t()},0)},onFocus(e){this.disabled||(!this.dirty&&this.completeOnFocus&&this.search(e,e.target.value,"focus"),this.dirty=!0,this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.overlayVisible&&this.scrollInView(this.focusedOptionIndex),this.$emit("focus",e))},onBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e)},onKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break}},onInput(e){this.searchTimeout&&clearTimeout(this.searchTimeout);let t=e.target.value;this.multiple||this.updateModel(e,t),t.length===0?(this.hide(),this.$emit("clear")):t.length>=this.minLength?(this.focusedOptionIndex=-1,this.searchTimeout=setTimeout(()=>{this.search(e,t,"input")},this.delay)):this.hide()},onChange(e){if(this.forceSelection){let t=!1;if(this.visibleOptions){const n=this.visibleOptions.find(i=>this.isOptionMatched(i,this.$refs.focusInput.value||""));n!==void 0&&(t=!0,!this.isSelected(n)&&this.onOptionSelect(e,n))}t||(this.$refs.focusInput.value="",this.$emit("clear"),!this.multiple&&this.updateModel(e,null))}},onMultipleContainerFocus(){this.disabled||(this.focused=!0)},onMultipleContainerBlur(){this.focusedMultipleOptionIndex=-1,this.focused=!1},onMultipleContainerKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break}},onContainerClick(e){this.disabled||this.searching||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlay||!this.overlay.contains(e.target))&&I.focus(this.$refs.focusInput)},onDropdownClick(e){let t;this.overlayVisible?this.hide(!0):(I.focus(this.$refs.focusInput),t=this.$refs.focusInput.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,t,"dropdown")),this.$emit("dropdown-click",{originalEvent:e,query:t})},onOptionSelect(e,t,n=!0){const i=this.getOptionValue(t);this.multiple?(this.$refs.focusInput.value="",this.isSelected(t)||this.updateModel(e,[...this.modelValue||[],i])):this.updateModel(e,i),this.$emit("item-select",{originalEvent:e,value:t}),n&&this.hide(!0)},onOptionMouseMove(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onOverlayClick(e){hn.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey(e){if(!this.overlayVisible)return;const t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),e.preventDefault()},onArrowUpKey(e){if(!!this.overlayVisible)if(e.altKey)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{const t=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),e.preventDefault()}},onArrowLeftKey(e){const t=e.currentTarget;this.focusedOptionIndex=-1,this.multiple&&($.isEmpty(t.value)&&this.hasSelectedOption?(I.focus(this.$refs.multiContainer),this.focusedMultipleOptionIndex=this.modelValue.length):e.stopPropagation())},onArrowRightKey(e){this.focusedOptionIndex=-1,this.multiple&&e.stopPropagation()},onHomeKey(e){const{currentTarget:t}=e,n=t.value.length;t.setSelectionRange(0,e.shiftKey?n:0),this.focusedOptionIndex=-1,e.preventDefault()},onEndKey(e){const{currentTarget:t}=e,n=t.value.length;t.setSelectionRange(e.shiftKey?0:n,n),this.focusedOptionIndex=-1,e.preventDefault()},onPageUpKey(e){this.scrollInView(0),e.preventDefault()},onPageDownKey(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):this.onArrowDownKey(e),e.preventDefault()},onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey(e){this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide()},onBackspaceKey(e){if(this.multiple){if($.isNotEmpty(this.modelValue)&&!this.$refs.focusInput.value){const t=this.modelValue[this.modelValue.length-1],n=this.modelValue.slice(0,-1);this.$emit("update:modelValue",n),this.$emit("item-unselect",{originalEvent:e,value:t})}e.stopPropagation()}},onArrowLeftKeyOnMultiple(){this.focusedMultipleOptionIndex=this.focusedMultipleOptionIndex<1?0:this.focusedMultipleOptionIndex-1},onArrowRightKeyOnMultiple(){this.focusedMultipleOptionIndex++,this.focusedMultipleOptionIndex>this.modelValue.length-1&&(this.focusedMultipleOptionIndex=-1,I.focus(this.$refs.focusInput))},onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex)},onOverlayEnter(e){st.set("overlay",e,this.$primevue.config.zIndex.overlay),this.alignOverlay()},onOverlayAfterEnter(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave(e){st.clear(e)},alignOverlay(){let e=this.multiple?this.$refs.multiContainer:this.$refs.focusInput;this.appendTo==="self"?I.relativePosition(this.overlay,e):(this.overlay.style.minWidth=I.getOuterWidth(e)+"px",I.absolutePosition(this.overlay,e))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&this.overlay&&this.isOutsideClicked(e)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Io(this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!I.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked(e){return!this.overlay.contains(e.target)&&!this.isInputClicked(e)&&!this.isDropdownClicked(e)},isInputClicked(e){return this.multiple?e.target===this.$refs.multiContainer||this.$refs.multiContainer.contains(e.target):e.target===this.$refs.focusInput},isDropdownClicked(e){return this.$refs.dropdownButton?e.target===this.$refs.dropdownButton||this.$refs.dropdownButton.$el.contains(e.target):!1},isOptionMatched(e,t){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===t.toLocaleLowerCase(this.searchLocale)},isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected(e){return $.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex(){return this.visibleOptions.findIndex(e=>this.isValidOption(e))},findLastOptionIndex(){return $.findLastIndex(this.visibleOptions,e=>this.isValidOption(e))},findNextOptionIndex(e){const t=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return t>-1?t+e+1:e},findPrevOptionIndex(e){const t=e>0?$.findLastIndex(this.visibleOptions.slice(0,e),n=>this.isValidOption(n)):-1;return t>-1?t:e},findSelectedOptionIndex(){return this.hasSelectedOption?this.visibleOptions.findIndex(e=>this.isValidSelectedOption(e)):-1},findFirstFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},search(e,t,n){t!=null&&(n==="input"&&t.trim().length===0||(this.searching=!0,this.$emit("complete",{originalEvent:e,query:t})))},removeOption(e,t){const n=this.modelValue[t],i=this.modelValue.filter((s,r)=>r!==t).map(s=>this.getOptionValue(s));this.updateModel(e,i),this.$emit("item-unselect",{originalEvent:e,value:n}),this.dirty=!0,I.focus(this.$refs.focusInput)},changeFocusedOptionIndex(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),(this.selectOnFocus||this.autoHighlight)&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,n=I.findSingle(this.list,`li[id="${t}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroller&&this.virtualScroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex)},0)},autoUpdateModel(){(this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel(e,t){this.$emit("update:modelValue",t),this.$emit("change",{originalEvent:e,value:t})},flatOptions(e){return(e||[]).reduce((t,n,i)=>{t.push({optionGroup:n,group:!0,index:i});const s=this.getOptionGroupChildren(n);return s&&s.forEach(r=>t.push(r)),t},[])},overlayRef(e){this.overlay=e},listRef(e,t){this.list=e,t&&t(e)},virtualScrollerRef(e){this.virtualScroller=e}},computed:{containerClass(){return["p-autocomplete p-component p-inputwrapper",{"p-disabled":this.disabled,"p-focus":this.focused,"p-autocomplete-dd":this.dropdown,"p-autocomplete-multiple":this.multiple,"p-inputwrapper-filled":this.modelValue||$.isNotEmpty(this.inputValue),"p-inputwrapper-focus":this.focused,"p-overlay-open":this.overlayVisible}]},inputStyleClass(){return["p-autocomplete-input p-inputtext p-component",this.inputClass,{"p-autocomplete-dd-input":this.dropdown}]},multiContainerClass(){return["p-autocomplete-multiple-container p-component p-inputtext"]},panelStyleClass(){return["p-autocomplete-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},loadingIconClass(){return["p-autocomplete-loader pi-spin",this.loadingIcon]},visibleOptions(){return this.optionGroupLabel?this.flatOptions(this.suggestions):this.suggestions||[]},inputValue(){if(this.modelValue)if(typeof this.modelValue=="object"){const e=this.getOptionLabel(this.modelValue);return e!=null?e:this.modelValue}else return this.modelValue;else return""},hasSelectedOption(){return $.isNotEmpty(this.modelValue)},equalityKey(){return this.dataKey},searchResultMessageText(){return $.isNotEmpty(this.visibleOptions)&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptySearchMessageText},searchMessageText(){return this.searchMessage||this.$primevue.config.locale.searchMessage||""},emptySearchMessageText(){return this.emptySearchMessage||this.$primevue.config.locale.emptySearchMessage||""},selectionMessageText(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue.length:"1"):this.emptySelectionMessageText},focusedOptionId(){return this.focusedOptionIndex!==-1?`${this.id}_${this.focusedOptionIndex}`:null},focusedMultipleOptionId(){return this.focusedMultipleOptionIndex!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex}`:null},ariaSetSize(){return this.visibleOptions.filter(e=>!this.isOptionGroup(e)).length},virtualScrollerDisabled(){return!this.virtualScrollerOptions}},components:{Button:Lt,VirtualScroller:Fu,Portal:es},directives:{ripple:bt}};const S8=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],F8=["aria-activedescendant"],U8=["id","aria-label","aria-setsize","aria-posinset"],T8={class:"p-autocomplete-token-label"},k8=["onClick"],Q8={class:"p-autocomplete-input-token",role:"option"},L8=["id","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],O8={role:"status","aria-live":"polite",class:"p-hidden-accessible"},R8=["id"],D8=["id"],M8=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove"],P8={key:0,class:"p-autocomplete-empty-message",role:"option"},H8={role:"status","aria-live":"polite",class:"p-hidden-accessible"};function N8(e,t,n,i,s,r){const o=N("Button"),a=N("VirtualScroller"),l=N("Portal"),A=pt("ripple");return y(),_("div",{ref:"container",class:P(r.containerClass),onClick:t[15]||(t[15]=(...u)=>r.onContainerClick&&r.onContainerClick(...u))},[n.multiple?H("",!0):(y(),_("input",Ue({key:0,ref:"focusInput",id:n.inputId,type:"text",style:n.inputStyle,class:r.inputStyleClass,value:r.inputValue,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,disabled:n.disabled,autocomplete:"off",role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":s.overlayVisible,"aria-controls":s.id+"_list","aria-activedescendant":s.focused?r.focusedOptionId:void 0,onFocus:t[0]||(t[0]=(...u)=>r.onFocus&&r.onFocus(...u)),onBlur:t[1]||(t[1]=(...u)=>r.onBlur&&r.onBlur(...u)),onKeydown:t[2]||(t[2]=(...u)=>r.onKeyDown&&r.onKeyDown(...u)),onInput:t[3]||(t[3]=(...u)=>r.onInput&&r.onInput(...u)),onChange:t[4]||(t[4]=(...u)=>r.onChange&&r.onChange(...u))},n.inputProps),null,16,S8)),n.multiple?(y(),_("ul",{key:1,ref:"multiContainer",class:P(r.multiContainerClass),tabindex:"-1",role:"listbox","aria-orientation":"horizontal","aria-activedescendant":s.focused?r.focusedMultipleOptionId:void 0,onFocus:t[10]||(t[10]=(...u)=>r.onMultipleContainerFocus&&r.onMultipleContainerFocus(...u)),onBlur:t[11]||(t[11]=(...u)=>r.onMultipleContainerBlur&&r.onMultipleContainerBlur(...u)),onKeydown:t[12]||(t[12]=(...u)=>r.onMultipleContainerKeyDown&&r.onMultipleContainerKeyDown(...u))},[(y(!0),_(J,null,be(n.modelValue,(u,c)=>(y(),_("li",{key:c,id:s.id+"_multiple_option_"+c,class:P(["p-autocomplete-token",{"p-focus":s.focusedMultipleOptionIndex===c}]),role:"option","aria-label":r.getOptionLabel(u),"aria-selected":!0,"aria-setsize":n.modelValue.length,"aria-posinset":c+1},[ue(e.$slots,"chip",{value:u},()=>[f("span",T8,M(r.getOptionLabel(u)),1)]),f("span",{class:P(["p-autocomplete-token-icon",n.removeTokenIcon]),onClick:d=>r.removeOption(d,c),"aria-hidden":"true"},null,10,k8)],10,U8))),128)),f("li",Q8,[f("input",Ue({ref:"focusInput",id:n.inputId,type:"text",style:n.inputStyle,class:n.inputClass,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,disabled:n.disabled,autocomplete:"off",role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":s.overlayVisible,"aria-controls":s.id+"_list","aria-activedescendant":s.focused?r.focusedOptionId:void 0,onFocus:t[5]||(t[5]=(...u)=>r.onFocus&&r.onFocus(...u)),onBlur:t[6]||(t[6]=(...u)=>r.onBlur&&r.onBlur(...u)),onKeydown:t[7]||(t[7]=(...u)=>r.onKeyDown&&r.onKeyDown(...u)),onInput:t[8]||(t[8]=(...u)=>r.onInput&&r.onInput(...u)),onChange:t[9]||(t[9]=(...u)=>r.onChange&&r.onChange(...u))},n.inputProps),null,16,L8)])],42,F8)):H("",!0),s.searching?(y(),_("i",{key:2,class:P(r.loadingIconClass),"aria-hidden":"true"},null,2)):H("",!0),n.dropdown?(y(),ee(o,{key:3,ref:"dropdownButton",type:"button",icon:n.dropdownIcon,class:P(["p-autocomplete-dropdown",n.dropdownClass]),tabindex:"-1",disabled:n.disabled,"aria-hidden":"true",onClick:r.onDropdownClick},null,8,["icon","class","disabled","onClick"])):H("",!0),f("span",O8,M(r.searchResultMessageText),1),b(l,{appendTo:n.appendTo},{default:O(()=>[b(Dn,{name:"p-connected-overlay",onEnter:r.onOverlayEnter,onAfterEnter:r.onOverlayAfterEnter,onLeave:r.onOverlayLeave,onAfterLeave:r.onOverlayAfterLeave},{default:O(()=>[s.overlayVisible?(y(),_("div",Ue({key:0,ref:r.overlayRef,class:r.panelStyleClass,style:{...n.panelStyle,"max-height":r.virtualScrollerDisabled?n.scrollHeight:""},onClick:t[13]||(t[13]=(...u)=>r.onOverlayClick&&r.onOverlayClick(...u)),onKeydown:t[14]||(t[14]=(...u)=>r.onOverlayKeyDown&&r.onOverlayKeyDown(...u))},n.panelProps),[ue(e.$slots,"header",{value:n.modelValue,suggestions:r.visibleOptions}),b(a,Ue({ref:r.virtualScrollerRef},n.virtualScrollerOptions,{style:{height:n.scrollHeight},items:r.visibleOptions,tabindex:-1,disabled:r.virtualScrollerDisabled}),gA({content:O(({styleClass:u,contentRef:c,items:d,getItemOptions:h,contentStyle:p,itemSize:m})=>[f("ul",{ref:g=>r.listRef(g,c),id:s.id+"_list",class:P(["p-autocomplete-items",u]),style:Re(p),role:"listbox"},[(y(!0),_(J,null,be(d,(g,w)=>(y(),_(J,{key:r.getOptionRenderKey(g,r.getOptionIndex(w,h))},[r.isOptionGroup(g)?(y(),_("li",{key:0,id:s.id+"_"+r.getOptionIndex(w,h),style:Re({height:m?m+"px":void 0}),class:"p-autocomplete-item-group",role:"option"},[ue(e.$slots,"optiongroup",{option:g.optionGroup,item:g.optionGroup,index:r.getOptionIndex(w,h)},()=>[he(M(r.getOptionGroupLabel(g.optionGroup)),1)])],12,D8)):re((y(),_("li",{key:1,id:s.id+"_"+r.getOptionIndex(w,h),style:Re({height:m?m+"px":void 0}),class:P(["p-autocomplete-item",{"p-highlight":r.isSelected(g),"p-focus":s.focusedOptionIndex===r.getOptionIndex(w,h),"p-disabled":r.isOptionDisabled(g)}]),role:"option","aria-label":r.getOptionLabel(g),"aria-selected":r.isSelected(g),"aria-disabled":r.isOptionDisabled(g),"aria-setsize":r.ariaSetSize,"aria-posinset":r.getAriaPosInset(r.getOptionIndex(w,h)),onClick:v=>r.onOptionSelect(v,g),onMousemove:v=>r.onOptionMouseMove(v,r.getOptionIndex(w,h))},[e.$slots.option?ue(e.$slots,"option",{key:0,option:g,index:r.getOptionIndex(w,h)},()=>[he(M(r.getOptionLabel(g)),1)]):ue(e.$slots,"item",{key:1,item:g,index:r.getOptionIndex(w,h)},()=>[he(M(r.getOptionLabel(g)),1)])],46,M8)),[[A]])],64))),128)),!d||d&&d.length===0?(y(),_("li",P8,[ue(e.$slots,"empty",{},()=>[he(M(r.searchResultMessageText),1)])])):H("",!0)],14,R8)]),_:2},[e.$slots.loader?{name:"loader",fn:O(({options:u})=>[ue(e.$slots,"loader",{options:u})]),key:"0"}:void 0]),1040,["style","items","disabled"]),ue(e.$slots,"footer",{value:n.modelValue,suggestions:r.visibleOptions}),f("span",H8,M(r.selectedMessageText),1)],16)):H("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],2)}function K8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var V8=`
.p-autocomplete {
    display: inline-flex;
    position: relative;
}
.p-autocomplete-loader {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-autocomplete-dd .p-autocomplete-input {
    flex: 1 1 auto;
    width: 1%;
}
.p-autocomplete-dd .p-autocomplete-input,
.p-autocomplete-dd .p-autocomplete-multiple-container {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-autocomplete-dd .p-autocomplete-dropdown {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0px;
}
.p-autocomplete .p-autocomplete-panel {
    min-width: 100%;
}
.p-autocomplete-panel {
    position: absolute;
    overflow: auto;
    top: 0;
    left: 0;
}
.p-autocomplete-items {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-autocomplete-item {
    cursor: pointer;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}
.p-autocomplete-multiple-container {
    margin: 0;
    padding: 0;
    list-style-type: none;
    cursor: text;
    overflow: hidden;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
}
.p-autocomplete-token {
    cursor: default;
    display: inline-flex;
    align-items: center;
    flex: 0 0 auto;
}
.p-autocomplete-token-icon {
    cursor: pointer;
}
.p-autocomplete-input-token {
    flex: 1 1 auto;
    display: inline-flex;
}
.p-autocomplete-input-token input {
    border: 0 none;
    outline: 0 none;
    background-color: transparent;
    margin: 0;
    padding: 0;
    box-shadow: none;
    border-radius: 0;
    width: 100%;
}
.p-fluid .p-autocomplete {
    display: flex;
}
.p-fluid .p-autocomplete-dd .p-autocomplete-input {
    width: 1%;
}
`;K8(V8);YF.render=N8;var ZF={name:"TabMenu",emits:["update:activeIndex","tab-change"],props:{model:{type:Array,default:null},exact:{type:Boolean,default:!0},activeIndex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},timeout:null,data(){return{d_activeIndex:this.activeIndex}},watch:{$route(){this.timeout=setTimeout(()=>this.updateInkBar(),50)},activeIndex(e){this.d_activeIndex=e}},mounted(){this.updateInkBar()},updated(){this.updateInkBar()},beforeUnmount(){clearTimeout(this.timeout)},methods:{onItemClick(e,t,n,i){if(this.disabled(t)){e.preventDefault();return}t.command&&t.command({originalEvent:e,item:t}),t.to&&i&&i(e),n!==this.d_activeIndex&&(this.d_activeIndex=n,this.$emit("update:activeIndex",this.d_activeIndex)),this.$emit("tab-change",{originalEvent:e,index:n})},onKeydownItem(e,t,n){let i=n,s={};const r=this.$refs.tabLink;switch(e.code){case"ArrowRight":{s=this.findNextItem(this.$refs.tab,i),i=s.i;break}case"ArrowLeft":{s=this.findPrevItem(this.$refs.tab,i),i=s.i;break}case"End":{s=this.findPrevItem(this.$refs.tab,this.model.length),i=s.i,e.preventDefault();break}case"Home":{s=this.findNextItem(this.$refs.tab,-1),i=s.i,e.preventDefault();break}case"Space":case"Enter":{e.currentTarget&&e.currentTarget.click(),e.preventDefault();break}case"Tab":{this.setDefaultTabIndexes(r);break}}r[i]&&r[n]&&(r[n].tabIndex="-1",r[i].tabIndex="0",r[i].focus())},findNextItem(e,t){let n=t+1;if(n>=e.length)return{nextItem:e[e.length],i:e.length};let i=e[n];return i?I.hasClass(i,"p-disabled")?this.findNextItem(e,n):{nextItem:i,i:n}:null},findPrevItem(e,t){let n=t-1;if(n<0)return{nextItem:e[0],i:0};let i=e[n];return i?I.hasClass(i,"p-disabled")?this.findPrevItem(e,n):{prevItem:i,i:n}:null},getItemClass(e,t){return["p-tabmenuitem",e.class,{"p-highlight":this.d_activeIndex===t,"p-disabled":this.disabled(e)}]},getRouteItemClass(e,t,n){return["p-tabmenuitem",e.class,{"p-highlight":this.exact?n:t,"p-disabled":this.disabled(e)}]},getItemIcon(e){return["p-menuitem-icon",e.icon]},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label},setDefaultTabIndexes(e){setTimeout(()=>{e.forEach(t=>{t.tabIndex=I.hasClass(t.parentElement,"p-highlight")?"0":"-1"})},300)},setTabIndex(e){return this.d_activeIndex===e?"0":"-1"},updateInkBar(){let e=this.$refs.nav.children,t=!1;for(let n=0;n<e.length;n++){let i=e[n];I.hasClass(i,"p-highlight")&&(this.$refs.inkbar.style.width=I.getWidth(i)+"px",this.$refs.inkbar.style.left=I.getOffset(i).left-I.getOffset(this.$refs.nav).left+"px",t=!0)}t||(this.$refs.inkbar.style.width="0px",this.$refs.inkbar.style.left="0px")}},directives:{ripple:bt}};const $8={class:"p-tabmenu p-component"},G8=["aria-labelledby","aria-label"],z8=["href","aria-label","aria-disabled","tabindex","onClick","onKeydown"],j8={class:"p-menuitem-text"},W8=["onClick","onKeydown"],q8=["href","target","aria-label","aria-disabled","tabindex"],X8={class:"p-menuitem-text"},J8={ref:"inkbar",role:"none",class:"p-tabmenu-ink-bar"};function Y8(e,t,n,i,s,r){const o=N("router-link"),a=pt("ripple");return y(),_("div",$8,[f("ul",{ref:"nav",class:"p-tabmenu-nav p-reset",role:"menubar","aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},[(y(!0),_(J,null,be(n.model,(l,A)=>(y(),_(J,{key:r.label(l)+"_"+A.toString()},[l.to&&!r.disabled(l)?(y(),ee(o,{key:0,to:l.to,custom:""},{default:O(({navigate:u,href:c,isActive:d,isExactActive:h})=>[r.visible(l)?(y(),_("li",{key:0,ref_for:!0,ref:"tab",class:P(r.getRouteItemClass(l,d,h)),style:Re(l.style),role:"presentation"},[e.$slots.item?(y(),ee(ht(e.$slots.item),{key:1,item:l,index:A},null,8,["item","index"])):re((y(),_("a",{key:0,ref_for:!0,ref:"tabLink",role:"menuitem",href:c,class:"p-menuitem-link","aria-label":r.label(l),"aria-disabled":r.disabled(l),tabindex:h?"0":"-1",onClick:p=>r.onItemClick(p,l,A,u),onKeydown:p=>r.onKeydownItem(p,l,A,u)},[l.icon?(y(),_("span",{key:0,class:P(r.getItemIcon(l))},null,2)):H("",!0),f("span",j8,M(r.label(l)),1)],40,z8)),[[a]])],6)):H("",!0)]),_:2},1032,["to"])):r.visible(l)?(y(),_("li",{key:1,ref_for:!0,ref:"tab",class:P(r.getItemClass(l,A)),role:"presentation",onClick:u=>r.onItemClick(u,l,A),onKeydown:u=>r.onKeydownItem(u,l,A)},[e.$slots.item?(y(),ee(ht(e.$slots.item),{key:1,item:l,index:A},null,8,["item","index"])):re((y(),_("a",{key:0,ref_for:!0,ref:"tabLink",role:"menuitem",href:l.url,class:"p-menuitem-link",target:l.target,"aria-label":r.label(l),"aria-disabled":r.disabled(l),tabindex:r.setTabIndex(A)},[l.icon?(y(),_("span",{key:0,class:P(r.getItemIcon(l))},null,2)):H("",!0),f("span",X8,M(r.label(l)),1)],8,q8)),[[a]])],42,W8)):H("",!0)],64))),128)),f("li",J8,null,512)],8,G8)])}function Z8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var eG=`
.p-tabmenu {
    overflow-x: auto;
}
.p-tabmenu-nav {
    display: flex;
    margin: 0;
    padding: 0;
    list-style-type: none;
    flex-wrap: nowrap;
}
.p-tabmenu-nav a {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    position: relative;
    text-decoration: none;
    text-decoration: none;
    overflow: hidden;
}
.p-tabmenu-nav a:focus {
    z-index: 1;
}
.p-tabmenu-nav .p-menuitem-text {
    line-height: 1;
}
.p-tabmenu-ink-bar {
    display: none;
    z-index: 1;
}
.p-tabmenu::-webkit-scrollbar {
    display: none;
}
`;Z8(eG);ZF.render=Y8;const ze={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"},Un={AND:"and",OR:"or"},eh={filter(e,t,n,i,s){let r=[];if(e)for(let o of e)for(let a of t){let l=$.resolveFieldData(o,a);if(this.filters[i](l,n,s)){r.push(o);break}}return r},filters:{startsWith(e,t,n){if(t==null||t.trim()==="")return!0;if(e==null)return!1;let i=$.removeAccents(t.toString()).toLocaleLowerCase(n);return $.removeAccents(e.toString()).toLocaleLowerCase(n).slice(0,i.length)===i},contains(e,t,n){if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let i=$.removeAccents(t.toString()).toLocaleLowerCase(n);return $.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)!==-1},notContains(e,t,n){if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let i=$.removeAccents(t.toString()).toLocaleLowerCase(n);return $.removeAccents(e.toString()).toLocaleLowerCase(n).indexOf(i)===-1},endsWith(e,t,n){if(t==null||t.trim()==="")return!0;if(e==null)return!1;let i=$.removeAccents(t.toString()).toLocaleLowerCase(n),s=$.removeAccents(e.toString()).toLocaleLowerCase(n);return s.indexOf(i,s.length-i.length)!==-1},equals(e,t,n){return t==null||typeof t=="string"&&t.trim()===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():$.removeAccents(e.toString()).toLocaleLowerCase(n)==$.removeAccents(t.toString()).toLocaleLowerCase(n)},notEquals(e,t,n){return t==null||typeof t=="string"&&t.trim()===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():$.removeAccents(e.toString()).toLocaleLowerCase(n)!=$.removeAccents(t.toString()).toLocaleLowerCase(n)},in(e,t){if(t==null||t.length===0)return!0;for(let n=0;n<t.length;n++)if($.equals(e,t[n]))return!0;return!1},between(e,t){return t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1]},lt(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t},lte(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t},gt(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t},gte(e,t){return t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t},dateIs(e,t){return t==null?!0:e==null?!1:e.toDateString()===t.toDateString()},dateIsNot(e,t){return t==null?!0:e==null?!1:e.toDateString()!==t.toDateString()},dateBefore(e,t){return t==null?!0:e==null?!1:e.getTime()<t.getTime()},dateAfter(e,t){return t==null?!0:e==null?!1:e.getTime()>t.getTime()}},register(e,t){this.filters[e]=t}};var Hf={name:"Dropdown",emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:String,default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:"pi pi-times"},dropdownIcon:{type:String,default:"pi pi-chevron-down"},filterIcon:{type:String,default:"pi pi-search"},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,focusOnHover:!1,data(){return{id:this.$attrs.id,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||_t()},modelValue(){this.isModelValueChanged=!0},options(){this.autoUpdateModel()}},mounted(){this.id=this.id||_t(),this.autoUpdateModel()},updated(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(st.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel(e){return this.optionLabel?$.resolveFieldData(e,this.optionLabel):e},getOptionValue(e){return this.optionValue?$.resolveFieldData(e,this.optionValue):e},getOptionRenderKey(e,t){return(this.dataKey?$.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+t},isOptionDisabled(e){return this.optionDisabled?$.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel(e){return $.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren(e){return $.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1},show(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&I.focus(this.$refs.focusInput)},hide(e){const t=()=>{this.$emit("before-hide"),this.overlayVisible=!1,this.focusedOptionIndex=-1,this.searchValue="",this.resetFilterOnHide&&(this.filterValue=null),e&&I.focus(this.$refs.focusInput)};setTimeout(()=>{t()},0)},onFocus(e){this.disabled||(this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.overlayVisible&&this.scrollInView(this.focusedOptionIndex),this.$emit("focus",e))},onBlur(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown(e){if(this.disabled){e.preventDefault();return}const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t&&$.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}},onEditableInput(e){const t=e.target.value;this.searchValue="",!this.searchOptions(e,t)&&(this.focusedOptionIndex=-1),this.updateModel(e,t)},onContainerClick(e){this.disabled||this.loading||I.hasClass(e.target,"p-dropdown-clear-icon")||e.target.tagName==="INPUT"||(!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0))},onClearClick(e){this.updateModel(e,null)},onFirstHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?I.getFirstFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;I.focus(t)},onLastHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?I.getLastFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;I.focus(t)},onOptionSelect(e,t,n=!0){const i=this.getOptionValue(t);this.updateModel(e,i),n&&this.hide(!0)},onOptionMouseMove(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onFilterChange(e){const t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur(){this.focusedOptionIndex=-1},onFilterUpdated(){this.overlayVisible&&this.alignOverlay()},onOverlayClick(e){hn.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey(e){const t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault()},onArrowUpKey(e,t=!1){if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{const n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey(e,t=!1){t&&(this.focusedOptionIndex=-1)},onHomeKey(e,t=!1){t?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey(e,t=!1){if(t){const n=e.currentTarget,i=n.value.length;n.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey(e){this.scrollInView(0),e.preventDefault()},onPageDownKey(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):this.onArrowDownKey(e),e.preventDefault()},onSpaceKey(e,t=!1){!t&&this.onEnterKey(e)},onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey(e,t=!1){t||(this.overlayVisible&&this.hasFocusableElements()?(I.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey(e,t=!1){t&&!this.overlayVisible&&this.show()},onOverlayEnter(e){st.set("overlay",e,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&I.focus(this.$refs.filterInput)},onOverlayAfterEnter(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave(e){st.clear(e)},alignOverlay(){this.appendTo==="self"?I.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=I.getOuterWidth(this.$el)+"px",I.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&this.overlay&&!this.$el.contains(e.target)&&!this.overlay.contains(e.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Io(this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!I.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},hasFocusableElements(){return I.getFocusableElements(this.overlay,":not(.p-hidden-focusable)").length>0},isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected(e){return this.isValidOption(e)&&$.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex(){return this.visibleOptions.findIndex(e=>this.isValidOption(e))},findLastOptionIndex(){return $.findLastIndex(this.visibleOptions,e=>this.isValidOption(e))},findNextOptionIndex(e){const t=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return t>-1?t+e+1:e},findPrevOptionIndex(e){const t=e>0?$.findLastIndex(this.visibleOptions.slice(0,e),n=>this.isValidOption(n)):-1;return t>-1?t:e},findSelectedOptionIndex(){return this.hasSelectedOption?this.visibleOptions.findIndex(e=>this.isValidSelectedOption(e)):-1},findFirstFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let n=-1,i=!1;return this.focusedOptionIndex!==-1?(n=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(s=>this.isOptionMatched(s)),n=n===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(s=>this.isOptionMatched(s)):n+this.focusedOptionIndex):n=this.visibleOptions.findIndex(s=>this.isOptionMatched(s)),n!==-1&&(i=!0),n===-1&&this.focusedOptionIndex===-1&&(n=this.findFirstFocusedOptionIndex()),n!==-1&&this.changeFocusedOptionIndex(e,n),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),i},changeFocusedOptionIndex(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[t],!1))},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,n=I.findSingle(this.list,`li[id="${t}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"start"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroller&&this.virtualScroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex)},0)},autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel(e,t){this.$emit("update:modelValue",t),this.$emit("change",{originalEvent:e,value:t})},flatOptions(e){return(e||[]).reduce((t,n,i)=>{t.push({optionGroup:n,group:!0,index:i});const s=this.getOptionGroupChildren(n);return s&&s.forEach(r=>t.push(r)),t},[])},overlayRef(e){this.overlay=e},listRef(e,t){this.list=e,t&&t(e)},virtualScrollerRef(e){this.virtualScroller=e}},computed:{containerClass(){return["p-dropdown p-component p-inputwrapper",{"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}]},inputStyleClass(){return["p-dropdown-label p-inputtext",this.inputClass,{"p-placeholder":!this.editable&&this.label===this.placeholder,"p-dropdown-label-empty":!this.editable&&!this.$slots.value&&(this.label==="p-emptylabel"||this.label.length===0)}]},panelStyleClass(){return["p-dropdown-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},dropdownIconClass(){return["p-dropdown-trigger-icon",this.loading?this.loadingIcon:this.dropdownIcon]},visibleOptions(){const e=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){const t=eh.filter(e,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){const n=this.options||[],i=[];return n.forEach(s=>{const o=this.getOptionGroupChildren(s).filter(a=>t.includes(a));o.length>0&&i.push({...s,[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...o]})}),this.flatOptions(i)}return t}return e},hasSelectedOption(){return $.isNotEmpty(this.modelValue)},label(){const e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue(){const e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey(){return this.optionValue?null:this.dataKey},searchFields(){return this.filterFields||[this.optionLabel]},filterResultMessageText(){return $.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId(){return this.focusedOptionIndex!==-1?`${this.id}_${this.focusedOptionIndex}`:null},ariaSetSize(){return this.visibleOptions.filter(e=>!this.isOptionGroup(e)).length},virtualScrollerDisabled(){return!this.virtualScrollerOptions}},directives:{ripple:bt},components:{VirtualScroller:Fu,Portal:es}};const tG=["id"],nG=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],iG=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],sG={class:"p-dropdown-trigger"},rG={key:0,class:"p-dropdown-header"},oG={class:"p-dropdown-filter-container"},aG=["value","placeholder","aria-owns","aria-activedescendant"],lG={role:"status","aria-live":"polite",class:"p-hidden-accessible"},AG=["id"],uG=["id"],cG=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove"],dG={key:0,class:"p-dropdown-empty-message",role:"option"},hG={key:1,class:"p-dropdown-empty-message",role:"option"},fG={key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},pG={role:"status","aria-live":"polite",class:"p-hidden-accessible"};function gG(e,t,n,i,s,r){const o=N("VirtualScroller"),a=N("Portal"),l=pt("ripple");return y(),_("div",{ref:"container",id:s.id,class:P(r.containerClass),onClick:t[16]||(t[16]=(...A)=>r.onContainerClick&&r.onContainerClick(...A))},[n.editable?(y(),_("input",Ue({key:0,ref:"focusInput",id:n.inputId,type:"text",style:n.inputStyle,class:r.inputStyleClass,value:r.editableInputValue,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,disabled:n.disabled,autocomplete:"off",role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":s.overlayVisible,"aria-controls":s.id+"_list","aria-activedescendant":s.focused?r.focusedOptionId:void 0,onFocus:t[0]||(t[0]=(...A)=>r.onFocus&&r.onFocus(...A)),onBlur:t[1]||(t[1]=(...A)=>r.onBlur&&r.onBlur(...A)),onKeydown:t[2]||(t[2]=(...A)=>r.onKeyDown&&r.onKeyDown(...A)),onInput:t[3]||(t[3]=(...A)=>r.onEditableInput&&r.onEditableInput(...A))},n.inputProps),null,16,nG)):(y(),_("span",Ue({key:1,ref:"focusInput",id:n.inputId,style:n.inputStyle,class:r.inputStyleClass,tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":e.ariaLabel||(r.label==="p-emptylabel"?void 0:r.label),"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":s.overlayVisible,"aria-controls":s.id+"_list","aria-activedescendant":s.focused?r.focusedOptionId:void 0,"aria-disabled":n.disabled,onFocus:t[4]||(t[4]=(...A)=>r.onFocus&&r.onFocus(...A)),onBlur:t[5]||(t[5]=(...A)=>r.onBlur&&r.onBlur(...A)),onKeydown:t[6]||(t[6]=(...A)=>r.onKeyDown&&r.onKeyDown(...A))},n.inputProps),[ue(e.$slots,"value",{value:n.modelValue,placeholder:n.placeholder},()=>[he(M(r.label==="p-emptylabel"?"\xA0":r.label||"empty"),1)])],16,iG)),n.showClear&&n.modelValue!=null?(y(),_("i",Ue({key:2,class:["p-dropdown-clear-icon",n.clearIcon],onClick:t[7]||(t[7]=(...A)=>r.onClearClick&&r.onClearClick(...A))},n.clearIconProps),null,16)):H("",!0),f("div",sG,[ue(e.$slots,"indicator",{},()=>[f("span",{class:P(r.dropdownIconClass),"aria-hidden":"true"},null,2)])]),b(a,{appendTo:n.appendTo},{default:O(()=>[b(Dn,{name:"p-connected-overlay",onEnter:r.onOverlayEnter,onAfterEnter:r.onOverlayAfterEnter,onLeave:r.onOverlayLeave,onAfterLeave:r.onOverlayAfterLeave},{default:O(()=>[s.overlayVisible?(y(),_("div",Ue({key:0,ref:r.overlayRef,style:n.panelStyle,class:r.panelStyleClass,onClick:t[14]||(t[14]=(...A)=>r.onOverlayClick&&r.onOverlayClick(...A)),onKeydown:t[15]||(t[15]=(...A)=>r.onOverlayKeyDown&&r.onOverlayKeyDown(...A))},n.panelProps),[f("span",{ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[8]||(t[8]=(...A)=>r.onFirstHiddenFocus&&r.onFirstHiddenFocus(...A))},null,544),ue(e.$slots,"header",{value:n.modelValue,options:r.visibleOptions}),n.filter?(y(),_("div",rG,[f("div",oG,[f("input",Ue({ref:"filterInput",type:"text",value:s.filterValue,onVnodeUpdated:t[9]||(t[9]=(...A)=>r.onFilterUpdated&&r.onFilterUpdated(...A)),class:"p-dropdown-filter p-inputtext p-component",placeholder:n.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":s.id+"_list","aria-activedescendant":r.focusedOptionId,onKeydown:t[10]||(t[10]=(...A)=>r.onFilterKeyDown&&r.onFilterKeyDown(...A)),onBlur:t[11]||(t[11]=(...A)=>r.onFilterBlur&&r.onFilterBlur(...A)),onInput:t[12]||(t[12]=(...A)=>r.onFilterChange&&r.onFilterChange(...A))},n.filterInputProps),null,16,aG),f("span",{class:P(["p-dropdown-filter-icon",n.filterIcon])},null,2)]),f("span",lG,M(r.filterResultMessageText),1)])):H("",!0),f("div",{class:"p-dropdown-items-wrapper",style:Re({"max-height":r.virtualScrollerDisabled?n.scrollHeight:""})},[b(o,Ue({ref:r.virtualScrollerRef},n.virtualScrollerOptions,{items:r.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:r.virtualScrollerDisabled}),gA({content:O(({styleClass:A,contentRef:u,items:c,getItemOptions:d,contentStyle:h,itemSize:p})=>[f("ul",{ref:m=>r.listRef(m,u),id:s.id+"_list",class:P(["p-dropdown-items",A]),style:Re(h),role:"listbox"},[(y(!0),_(J,null,be(c,(m,g)=>(y(),_(J,{key:r.getOptionRenderKey(m,r.getOptionIndex(g,d))},[r.isOptionGroup(m)?(y(),_("li",{key:0,id:s.id+"_"+r.getOptionIndex(g,d),style:Re({height:p?p+"px":void 0}),class:"p-dropdown-item-group",role:"option"},[ue(e.$slots,"optiongroup",{option:m.optionGroup,index:r.getOptionIndex(g,d)},()=>[he(M(r.getOptionGroupLabel(m.optionGroup)),1)])],12,uG)):re((y(),_("li",{key:1,id:s.id+"_"+r.getOptionIndex(g,d),style:Re({height:p?p+"px":void 0}),class:P(["p-dropdown-item",{"p-highlight":r.isSelected(m),"p-focus":s.focusedOptionIndex===r.getOptionIndex(g,d),"p-disabled":r.isOptionDisabled(m)}]),role:"option","aria-label":r.getOptionLabel(m),"aria-selected":r.isSelected(m),"aria-disabled":r.isOptionDisabled(m),"aria-setsize":r.ariaSetSize,"aria-posinset":r.getAriaPosInset(r.getOptionIndex(g,d)),onClick:w=>r.onOptionSelect(w,m),onMousemove:w=>r.onOptionMouseMove(w,r.getOptionIndex(g,d))},[ue(e.$slots,"option",{option:m,index:r.getOptionIndex(g,d)},()=>[he(M(r.getOptionLabel(m)),1)])],46,cG)),[[l]])],64))),128)),s.filterValue&&(!c||c&&c.length===0)?(y(),_("li",dG,[ue(e.$slots,"emptyfilter",{},()=>[he(M(r.emptyFilterMessageText),1)])])):!n.options||n.options&&n.options.length===0?(y(),_("li",hG,[ue(e.$slots,"empty",{},()=>[he(M(r.emptyMessageText),1)])])):H("",!0)],14,AG)]),_:2},[e.$slots.loader?{name:"loader",fn:O(({options:A})=>[ue(e.$slots,"loader",{options:A})]),key:"0"}:void 0]),1040,["items","style","disabled"])],4),ue(e.$slots,"footer",{value:n.modelValue,options:r.visibleOptions}),!n.options||n.options&&n.options.length===0?(y(),_("span",fG,M(r.emptyMessageText),1)):H("",!0),f("span",pG,M(r.selectedMessageText),1),f("span",{ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[13]||(t[13]=(...A)=>r.onLastHiddenFocus&&r.onLastHiddenFocus(...A))},null,544)],16)):H("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],10,tG)}function mG(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var yG=`
.p-dropdown {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
}
.p-dropdown-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-dropdown-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.p-dropdown-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    text-overflow: ellipsis;
    cursor: pointer;
}
.p-dropdown-label-empty {
    overflow: hidden;
    opacity: 0;
}
input.p-dropdown-label {
    cursor: default;
}
.p-dropdown .p-dropdown-panel {
    min-width: 100%;
}
.p-dropdown-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-dropdown-items-wrapper {
    overflow: auto;
}
.p-dropdown-item {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}
.p-dropdown-item-group {
    cursor: auto;
}
.p-dropdown-items {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-dropdown-filter {
    width: 100%;
}
.p-dropdown-filter-container {
    position: relative;
}
.p-dropdown-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-fluid .p-dropdown {
    display: flex;
}
.p-fluid .p-dropdown .p-dropdown-label {
    width: 1%;
}
`;mG(yG);Hf.render=gG;var ki={name:"InputText",emits:["update:modelValue"],props:{modelValue:null},methods:{onInput(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const vG=["value"];function wG(e,t,n,i,s,r){return y(),_("input",{class:P(["p-inputtext p-component",{"p-filled":r.filled}]),value:n.modelValue,onInput:t[0]||(t[0]=(...o)=>r.onInput&&r.onInput(...o))},null,42,vG)}ki.render=wG;var Nf={name:"InputNumber",emits:["update:modelValue","input","focus","blur"],props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:"pi pi-angle-up"},decrementButtonIcon:{type:String,default:"pi pi-angle-down"},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue(e){this.d_modelValue=e},locale(e,t){this.updateConstructParser(e,t)},localeMatcher(e,t){this.updateConstructParser(e,t)},mode(e,t){this.updateConstructParser(e,t)},currency(e,t){this.updateConstructParser(e,t)},currencyDisplay(e,t){this.updateConstructParser(e,t)},useGrouping(e,t){this.updateConstructParser(e,t)},minFractionDigits(e,t){this.updateConstructParser(e,t)},maxFractionDigits(e,t){this.updateConstructParser(e,t)},suffix(e,t){this.updateConstructParser(e,t)},prefix(e,t){this.updateConstructParser(e,t)}},created(){this.constructParser()},methods:{getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}},constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),t=new Map(e.map((n,i)=>[n,i]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=n=>t.get(n)},updateConstructParser(e,t){e!==t&&this.constructParser()},escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")},getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")},getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")},getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")},getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")},getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")},formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let n=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(n=this.prefix+n),this.suffix&&(n=n+this.suffix),n}return e.toString()}return""},parseValue(e){let t=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(t){if(t==="-")return t;let n=+t;return isNaN(n)?null:n}return null},repeat(e,t,n){if(this.readonly)return;let i=t||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,n)},i),this.spin(e,n)},spin(e,t){if(this.$refs.input){let n=this.step*t,i=this.parseValue(this.$refs.input.$el.value)||0,s=this.validateValue(i+n);this.updateInput(s,null,"spin"),this.updateModel(e,s),this.handleOnInput(e,i,s)}},onUpButtonMouseDown(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp(){this.disabled||this.clearTimer()},onUpButtonMouseLeave(){this.disabled||this.clearTimer()},onUpButtonKeyUp(){this.disabled||this.clearTimer()},onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)},onDownButtonMouseDown(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp(){this.disabled||this.clearTimer()},onDownButtonMouseLeave(){this.disabled||this.clearTimer()},onDownButtonKeyUp(){this.disabled||this.clearTimer()},onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)},onUserInput(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let t=e.target.selectionStart,n=e.target.selectionEnd,i=e.target.value,s=null;switch(e.altKey&&e.preventDefault(),e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(i.charAt(t-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(i.charAt(t))||e.preventDefault();break;case"Tab":case"Enter":s=this.validateValue(this.parseValue(i)),this.$refs.input.$el.value=this.formatValue(s),this.$refs.input.$el.setAttribute("aria-valuenow",s),this.updateModel(e,s);break;case"Backspace":{if(e.preventDefault(),t===n){const r=i.charAt(t-1),{decimalCharIndex:o,decimalCharIndexWithoutPrefix:a}=this.getDecimalCharIndexes(i);if(this.isNumeralChar(r)){const l=this.getDecimalLength(i);if(this._group.test(r))this._group.lastIndex=0,s=i.slice(0,t-2)+i.slice(t-1);else if(this._decimal.test(r))this._decimal.lastIndex=0,l?this.$refs.input.$el.setSelectionRange(t-1,t-1):s=i.slice(0,t-1)+i.slice(t);else if(o>0&&t>o){const A=this.isDecimalMode()&&(this.minFractionDigits||0)<l?"":"0";s=i.slice(0,t-1)+A+i.slice(t)}else a===1?(s=i.slice(0,t-1)+"0"+i.slice(t),s=this.parseValue(s)>0?s:""):s=i.slice(0,t-1)+i.slice(t)}this.updateValue(e,s,null,"delete-single")}else s=this.deleteRange(i,t,n),this.updateValue(e,s,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===n){const r=i.charAt(t),{decimalCharIndex:o,decimalCharIndexWithoutPrefix:a}=this.getDecimalCharIndexes(i);if(this.isNumeralChar(r)){const l=this.getDecimalLength(i);if(this._group.test(r))this._group.lastIndex=0,s=i.slice(0,t)+i.slice(t+2);else if(this._decimal.test(r))this._decimal.lastIndex=0,l?this.$refs.input.$el.setSelectionRange(t+1,t+1):s=i.slice(0,t)+i.slice(t+1);else if(o>0&&t>o){const A=this.isDecimalMode()&&(this.minFractionDigits||0)<l?"":"0";s=i.slice(0,t)+A+i.slice(t+1)}else a===1?(s=i.slice(0,t)+"0"+i.slice(t+1),s=this.parseValue(s)>0?s:""):s=i.slice(0,t)+i.slice(t+1)}this.updateValue(e,s,null,"delete-back-single")}else s=this.deleteRange(i,t,n),this.updateValue(e,s,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break}},onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let t=e.which||e.keyCode,n=String.fromCharCode(t);const i=this.isDecimalSign(n),s=this.isMinusSign(n);(48<=t&&t<=57||s||i)&&this.insert(e,n,{isDecimalSign:i,isMinusSign:s})},onPaste(e){e.preventDefault();let t=(e.clipboardData||window.clipboardData).getData("Text");if(t){let n=this.parseValue(t);n!=null&&this.insert(e,n.toString())}},allowMinusSign(){return this.min===null||this.min<0},isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode(){return this.mode==="decimal"},getDecimalCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;const i=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:i}},getCharIndexes(e){const t=e.search(this._decimal);this._decimal.lastIndex=0;const n=e.search(this._minusSign);this._minusSign.lastIndex=0;const i=e.search(this._suffix);this._suffix.lastIndex=0;const s=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:n,suffixCharIndex:i,currencyCharIndex:s}},insert(e,t,n={isDecimalSign:!1,isMinusSign:!1}){const i=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&i!==-1)return;const s=this.$refs.input.$el.selectionStart,r=this.$refs.input.$el.selectionEnd;let o=this.$refs.input.$el.value.trim();const{decimalCharIndex:a,minusCharIndex:l,suffixCharIndex:A,currencyCharIndex:u}=this.getCharIndexes(o);let c;if(n.isMinusSign)s===0&&(c=o,(l===-1||r!==0)&&(c=this.insertText(o,t,0,r)),this.updateValue(e,c,t,"insert"));else if(n.isDecimalSign)a>0&&s===a?this.updateValue(e,o,t,"insert"):a>s&&a<r?(c=this.insertText(o,t,s,r),this.updateValue(e,c,t,"insert")):a===-1&&this.maxFractionDigits&&(c=this.insertText(o,t,s,r),this.updateValue(e,c,t,"insert"));else{const d=this.numberFormat.resolvedOptions().maximumFractionDigits,h=s!==r?"range-insert":"insert";if(a>0&&s>a){if(s+t.length-(a+1)<=d){const p=u>=s?u-1:A>=s?A:o.length;c=o.slice(0,s)+t+o.slice(s+t.length,p)+o.slice(p),this.updateValue(e,c,t,h)}}else c=this.insertText(o,t,s,r),this.updateValue(e,c,t,h)}},insertText(e,t,n,i){if((t==="."?t:t.split(".")).length===2){const r=e.slice(n,i).search(this._decimal);return this._decimal.lastIndex=0,r>0?e.slice(0,n)+this.formatValue(t)+e.slice(i):e||this.formatValue(t)}else return i-n===e.length?this.formatValue(t):n===0?t+e.slice(i):i===e.length?e.slice(0,n)+t:e.slice(0,n)+t+e.slice(i)},deleteRange(e,t,n){let i;return n-t===e.length?i="":t===0?i=e.slice(n):n===e.length?i=e.slice(0,t):i=e.slice(0,t)+e.slice(n),i},initCursor(){let e=this.$refs.input.$el.selectionStart,t=this.$refs.input.$el.value,n=t.length,i=null,s=(this.prefixChar||"").length;t=t.replace(this._prefix,""),e=e-s;let r=t.charAt(e);if(this.isNumeralChar(r))return e+s;let o=e-1;for(;o>=0;)if(r=t.charAt(o),this.isNumeralChar(r)){i=o+s;break}else o--;if(i!==null)this.$refs.input.$el.setSelectionRange(i+1,i+1);else{for(o=e;o<n;)if(r=t.charAt(o),this.isNumeralChar(r)){i=o+s;break}else o++;i!==null&&this.$refs.input.$el.setSelectionRange(i,i)}return i||0},onInputClick(){const e=this.$refs.input.$el.value;!this.readonly&&e!==I.getSelection()&&this.initCursor()},isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue(e,t,n,i){let s=this.$refs.input.$el.value,r=null;t!=null&&(r=this.parseValue(t),r=!r&&!this.allowEmpty?0:r,this.updateInput(r,n,i,t),this.handleOnInput(e,s,r))},handleOnInput(e,t,n){this.isValueChanged(t,n)&&this.$emit("input",{originalEvent:e,value:n,formattedValue:t})},isValueChanged(e,t){if(t===null&&e!==null)return!0;if(t!=null){let n=typeof e=="string"?this.parseValue(e):e;return t!==n}return!1},validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput(e,t,n,i){t=t||"";let s=this.$refs.input.$el.value,r=this.formatValue(e),o=s.length;if(r!==i&&(r=this.concatValues(r,i)),o===0){this.$refs.input.$el.value=r,this.$refs.input.$el.setSelectionRange(0,0);const l=this.initCursor()+t.length;this.$refs.input.$el.setSelectionRange(l,l)}else{let a=this.$refs.input.$el.selectionStart,l=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=r;let A=r.length;if(n==="range-insert"){const u=this.parseValue((s||"").slice(0,a)),d=(u!==null?u.toString():"").split("").join(`(${this.groupChar})?`),h=new RegExp(d,"g");h.test(r);const p=t.split("").join(`(${this.groupChar})?`),m=new RegExp(p,"g");m.test(r.slice(h.lastIndex)),l=h.lastIndex+m.lastIndex,this.$refs.input.$el.setSelectionRange(l,l)}else if(A===o)n==="insert"||n==="delete-back-single"?this.$refs.input.$el.setSelectionRange(l+1,l+1):n==="delete-single"?this.$refs.input.$el.setSelectionRange(l-1,l-1):(n==="delete-range"||n==="spin")&&this.$refs.input.$el.setSelectionRange(l,l);else if(n==="delete-back-single"){let u=s.charAt(l-1),c=s.charAt(l),d=o-A,h=this._group.test(c);h&&d===1?l+=1:!h&&this.isNumeralChar(u)&&(l+=-1*d+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(l,l)}else if(s==="-"&&n==="insert"){this.$refs.input.$el.setSelectionRange(0,0);const c=this.initCursor()+t.length+1;this.$refs.input.$el.setSelectionRange(c,c)}else l=l+(A-o),this.$refs.input.$el.setSelectionRange(l,l)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues(e,t){if(e&&t){let n=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(n)+this.suffixChar:n!==-1?e.split(this._decimal)[0]+t.slice(n):e}return e},getDecimalLength(e){if(e){const t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel(e,t){this.d_modelValue=t,this.$emit("update:modelValue",t)},onInputFocus(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==I.getSelection()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur(e){this.focused=!1;let t=e.target,n=this.validateValue(this.parseValue(t.value));this.$emit("blur",{originalEvent:e,value:t.value}),t.value=this.formatValue(n),t.setAttribute("aria-valuenow",n),this.updateModel(e,n)},clearTimer(){this.timer&&clearInterval(this.timer)},maxBoundry(){return this.d_modelValue>=this.max},minBoundry(){return this.d_modelValue<=this.min}},computed:{containerClass(){return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-inputnumber-buttons-stacked":this.showButtons&&this.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":this.showButtons&&this.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":this.showButtons&&this.buttonLayout==="vertical"}]},upButtonClass(){return["p-inputnumber-button p-inputnumber-button-up",this.incrementButtonClass,{"p-disabled":this.showButtons&&this.max!==null&&this.maxBoundry()}]},downButtonClass(){return["p-inputnumber-button p-inputnumber-button-down",this.decrementButtonClass,{"p-disabled":this.showButtons&&this.min!==null&&this.minBoundry()}]},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners(){return{mousedown:e=>this.onUpButtonMouseDown(e),mouseup:e=>this.onUpButtonMouseUp(e),mouseleave:e=>this.onUpButtonMouseLeave(e),keydown:e=>this.onUpButtonKeyDown(e),keyup:e=>this.onUpButtonKeyUp(e)}},downButtonListeners(){return{mousedown:e=>this.onDownButtonMouseDown(e),mouseup:e=>this.onDownButtonMouseUp(e),mouseleave:e=>this.onDownButtonMouseLeave(e),keydown:e=>this.onDownButtonKeyDown(e),keyup:e=>this.onDownButtonKeyUp(e)}},formattedValue(){const e=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(e)},getFormatter(){return this.numberFormat}},components:{INInputText:ki,INButton:Lt}};const _G={key:0,class:"p-inputnumber-button-group"};function bG(e,t,n,i,s,r){const o=N("INInputText"),a=N("INButton");return y(),_("span",{class:P(r.containerClass)},[b(o,Ue({ref:"input",id:n.inputId,class:["p-inputnumber-input",n.inputClass],role:"spinbutton",style:n.inputStyle,value:r.formattedValue,"aria-valuemin":n.min,"aria-valuemax":n.max,"aria-valuenow":n.modelValue,disabled:n.disabled,readonly:n.readonly,placeholder:n.placeholder,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onInput:r.onUserInput,onKeydown:r.onInputKeyDown,onKeypress:r.onInputKeyPress,onPaste:r.onPaste,onClick:r.onInputClick,onFocus:r.onInputFocus,onBlur:r.onInputBlur},n.inputProps),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur"]),n.showButtons&&n.buttonLayout==="stacked"?(y(),_("span",_G,[b(a,Ue({class:r.upButtonClass,icon:n.incrementButtonIcon},Ju(r.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.incrementButtonProps),null,16,["class","icon","disabled"]),b(a,Ue({class:r.downButtonClass,icon:n.decrementButtonIcon},Ju(r.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.decrementButtonProps),null,16,["class","icon","disabled"])])):H("",!0),n.showButtons&&n.buttonLayout!=="stacked"?(y(),ee(a,Ue({key:1,class:r.upButtonClass,icon:n.incrementButtonIcon},Ju(r.upButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.incrementButtonProps),null,16,["class","icon","disabled"])):H("",!0),n.showButtons&&n.buttonLayout!=="stacked"?(y(),ee(a,Ue({key:2,class:r.downButtonClass,icon:n.decrementButtonIcon},Ju(r.downButtonListeners),{disabled:n.disabled,tabindex:-1,"aria-hidden":"true"},n.decrementButtonProps),null,16,["class","icon","disabled"])):H("",!0)],2)}function BG(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var CG=`
.p-inputnumber {
    display: inline-flex;
}
.p-inputnumber-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
    display: none;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-input {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    border-bottom-left-radius: 0;
    padding: 0;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group {
    display: flex;
    flex-direction: column;
}
.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
    flex: 1 1 auto;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
    order: 3;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-inputnumber-input {
    order: 2;
    border-radius: 0;
}
.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
    order: 1;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.p-inputnumber-buttons-vertical {
    flex-direction: column;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
    order: 1;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    width: 100%;
}
.p-inputnumber-buttons-vertical .p-inputnumber-input {
    order: 2;
    border-radius: 0;
    text-align: center;
}
.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
    order: 3;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    width: 100%;
}
.p-inputnumber-input {
    flex: 1 1 auto;
}
.p-fluid .p-inputnumber {
    width: 100%;
}
.p-fluid .p-inputnumber .p-inputnumber-input {
    width: 1%;
}
.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
    width: 100%;
}
`;BG(CG);Nf.render=bG;var eU={name:"CurrentPageReport",props:{pageCount:{type:Number,default:0},currentPage:{type:Number,default:0},page:{type:Number,default:0},first:{type:Number,default:0},rows:{type:Number,default:0},totalRecords:{type:Number,default:0},template:{type:String,default:"({currentPage} of {totalPages})"}},computed:{text(){return this.template.replace("{currentPage}",this.currentPage).replace("{totalPages}",this.pageCount).replace("{first}",this.pageCount>0?this.first+1:0).replace("{last}",Math.min(this.first+this.rows,this.totalRecords)).replace("{rows}",this.rows).replace("{totalRecords}",this.totalRecords)}}};const xG={class:"p-paginator-current"};function EG(e,t,n,i,s,r){return y(),_("span",xG,M(r.text),1)}eU.render=EG;var tU={name:"FirstPageLink",computed:{containerClass(){return["p-paginator-first p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:bt}};const IG=f("span",{class:"p-paginator-icon pi pi-angle-double-left"},null,-1),SG=[IG];function FG(e,t,n,i,s,r){const o=pt("ripple");return re((y(),_("button",{class:P(r.containerClass),type:"button"},SG,2)),[[o]])}tU.render=FG;var nU={name:"JumpToPageDropdown",emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},methods:{onChange(e){this.$emit("page-change",e)}},computed:{pageOptions(){let e=[];for(let t=0;t<this.pageCount;t++)e.push({label:String(t+1),value:t});return e}},components:{JTPDropdown:Hf}};function UG(e,t,n,i,s,r){const o=N("JTPDropdown");return y(),ee(o,{modelValue:n.page,options:r.pageOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=a=>r.onChange(a)),class:"p-paginator-page-options",disabled:n.disabled},null,8,["modelValue","options","disabled"])}nU.render=UG;var iU={name:"JumpToPageInput",inheritAttrs:!1,emits:["page-change"],props:{page:Number,pageCount:Number,disabled:Boolean},data(){return{d_page:this.page}},watch:{page(e){this.d_page=e}},methods:{onChange(e){e!==this.page&&(this.d_page=e,this.$emit("page-change",e-1))}},computed:{inputArialabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.jumpToPageInputLabel:void 0}},components:{JTPInput:Nf}};function TG(e,t,n,i,s,r){const o=N("JTPInput");return y(),ee(o,{ref:"jtpInput",modelValue:s.d_page,class:"p-paginator-page-input","aria-label":r.inputArialabel,disabled:n.disabled,"onUpdate:modelValue":r.onChange},null,8,["modelValue","aria-label","disabled","onUpdate:modelValue"])}iU.render=TG;var sU={name:"LastPageLink",computed:{containerClass(){return["p-paginator-last p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:bt}};const kG=f("span",{class:"p-paginator-icon pi pi-angle-double-right"},null,-1),QG=[kG];function LG(e,t,n,i,s,r){const o=pt("ripple");return re((y(),_("button",{class:P(r.containerClass),type:"button"},QG,2)),[[o]])}sU.render=LG;var rU={name:"NextPageLink",computed:{containerClass(){return["p-paginator-next p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:bt}};const OG=f("span",{class:"p-paginator-icon pi pi-angle-right"},null,-1),RG=[OG];function DG(e,t,n,i,s,r){const o=pt("ripple");return re((y(),_("button",{class:P(r.containerClass),type:"button"},RG,2)),[[o]])}rU.render=DG;var oU={name:"PageLinks",inheritAttrs:!1,emits:["click"],props:{value:Array,page:Number},methods:{onPageLinkClick(e,t){this.$emit("click",{originalEvent:e,value:t})},ariaPageLabel(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.pageLabel.replace(/{page}/g,e):void 0}},computed:{},directives:{ripple:bt}};const MG={class:"p-paginator-pages"},PG=["aria-label","aria-current","onClick"];function HG(e,t,n,i,s,r){const o=pt("ripple");return y(),_("span",MG,[(y(!0),_(J,null,be(n.value,a=>re((y(),_("button",{key:a,class:P(["p-paginator-page p-paginator-element p-link",{"p-highlight":a-1===n.page}]),type:"button","aria-label":r.ariaPageLabel(a),"aria-current":a-1===n.page?"page":void 0,onClick:l=>r.onPageLinkClick(l,a)},[he(M(a),1)],10,PG)),[[o]])),128))])}oU.render=HG;var aU={name:"PrevPageLink",computed:{containerClass(){return["p-paginator-prev p-paginator-element p-link",{"p-disabled":this.$attrs.disabled}]}},directives:{ripple:bt}};const NG=f("span",{class:"p-paginator-icon pi pi-angle-left"},null,-1),KG=[NG];function VG(e,t,n,i,s,r){const o=pt("ripple");return re((y(),_("button",{class:P(r.containerClass),type:"button"},KG,2)),[[o]])}aU.render=VG;var lU={name:"RowsPerPageDropdown",emits:["rows-change"],props:{options:Array,rows:Number,disabled:Boolean},methods:{onChange(e){this.$emit("rows-change",e)}},computed:{rowsOptions(){let e=[];if(this.options)for(let t=0;t<this.options.length;t++)e.push({label:String(this.options[t]),value:this.options[t]});return e}},components:{RPPDropdown:Hf}};function $G(e,t,n,i,s,r){const o=N("RPPDropdown");return y(),ee(o,{modelValue:n.rows,options:r.rowsOptions,optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[0]||(t[0]=a=>r.onChange(a)),class:"p-paginator-rpp-options",disabled:n.disabled},null,8,["modelValue","options","disabled"])}lU.render=$G;var AU={name:"Paginator",emits:["update:first","update:rows","page"],props:{totalRecords:{type:Number,default:0},rows:{type:Number,default:0},first:{type:Number,default:0},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},template:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},currentPageReportTemplate:{type:null,default:"({currentPage} of {totalPages})"},alwaysShow:{type:Boolean,default:!0}},data(){return{d_first:this.first,d_rows:this.rows}},watch:{first(e){this.d_first=e},rows(e){this.d_rows=e},totalRecords(e){this.page>0&&e&&this.d_first>=e&&this.changePage(this.pageCount-1)}},mounted(){this.setPaginatorAttribute(),this.createStyle()},methods:{changePage(e){const t=this.pageCount;if(e>=0&&e<t){this.d_first=this.d_rows*e;const n={page:e,first:this.d_first,rows:this.d_rows,pageCount:t};this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",n)}},changePageToFirst(e){this.isFirstPage||this.changePage(0),e.preventDefault()},changePageToPrev(e){this.changePage(this.page-1),e.preventDefault()},changePageLink(e){this.changePage(e.value-1),e.originalEvent.preventDefault()},changePageToNext(e){this.changePage(this.page+1),e.preventDefault()},changePageToLast(e){this.isLastPage||this.changePage(this.pageCount-1),e.preventDefault()},onRowChange(e){this.d_rows=e,this.changePage(this.page)},createStyle(){if(this.hasBreakpoints()){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";const t=Object.keys(this.template),n={};t.sort((i,s)=>parseInt(i)-parseInt(s)).forEach(i=>{n[i]=this.template[i]});for(const[i,[s]]of Object.entries(Object.entries(n))){const r=Object.entries(n)[i-1]?`and (min-width:${Object.keys(n)[i-1]})`:"";s==="default"?e+=`
                            @media screen ${r} {
                                .paginator[${this.attributeSelector}],
                                .p-paginator-default{
                                    display: flex !important;
                                }
                            }
                        `:e+=`
                        .paginator[${this.attributeSelector}], .p-paginator-${s} {
                                display: none !important;
                            }
                        @media screen ${r} and (max-width: ${s}) {
                            .paginator[${this.attributeSelector}], .p-paginator-${s} {
                                display: flex !important;
                            }
                            .paginator[${this.attributeSelector}],
                            .p-paginator-default{
                                display: none !important;
                            }
                        }
                    `}this.styleElement.innerHTML=e}},hasBreakpoints(){return typeof this.template=="object"},getPaginatorClasses(e){return[{"p-paginator-default":!this.hasBreakpoints(),[`p-paginator-${e}`]:this.hasBreakpoints()}]},setPaginatorAttribute(){this.$refs.paginator&&this.$refs.paginator.length>=0&&[...this.$refs.paginator].forEach(e=>{e.setAttribute(this.attributeSelector,"")})},getAriaLabel(e){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[e]:void 0}},computed:{templateItems(){let e={};if(this.hasBreakpoints()){e=this.template,e.default||(e.default="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown");for(const t in e)e[t]=this.template[t].split(" ").map(n=>n.trim());return e}return e.default=this.template.split(" ").map(t=>t.trim()),e},page(){return Math.floor(this.d_first/this.d_rows)},pageCount(){return Math.ceil(this.totalRecords/this.d_rows)},isFirstPage(){return this.page===0},isLastPage(){return this.page===this.pageCount-1},calculatePageLinkBoundaries(){const e=this.pageCount,t=Math.min(this.pageLinkSize,e);let n=Math.max(0,Math.ceil(this.page-t/2)),i=Math.min(e-1,n+t-1);const s=this.pageLinkSize-(i-n+1);return n=Math.max(0,n-s),[n,i]},pageLinks(){let e=[],t=this.calculatePageLinkBoundaries,n=t[0],i=t[1];for(var s=n;s<=i;s++)e.push(s+1);return e},currentState(){return{page:this.page,first:this.d_first,rows:this.d_rows}},empty(){return this.pageCount===0},currentPage(){return this.pageCount>0?this.page+1:0},attributeSelector(){return _t()}},components:{CurrentPageReport:eU,FirstPageLink:tU,LastPageLink:sU,NextPageLink:rU,PageLinks:oU,PrevPageLink:aU,RowsPerPageDropdown:lU,JumpToPageDropdown:nU,JumpToPageInput:iU}};const GG={key:0},zG={key:0,class:"p-paginator-left-content"},jG={key:1,class:"p-paginator-right-content"};function WG(e,t,n,i,s,r){const o=N("FirstPageLink"),a=N("PrevPageLink"),l=N("NextPageLink"),A=N("LastPageLink"),u=N("PageLinks"),c=N("CurrentPageReport"),d=N("RowsPerPageDropdown"),h=N("JumpToPageDropdown"),p=N("JumpToPageInput");return n.alwaysShow||r.pageLinks&&r.pageLinks.length>1?(y(),_("nav",GG,[(y(!0),_(J,null,be(r.templateItems,(m,g)=>(y(),_("div",{key:g,ref_for:!0,ref:"paginator",class:P(["p-paginator p-component",r.getPaginatorClasses(g)])},[e.$slots.start?(y(),_("div",zG,[ue(e.$slots,"start",{state:r.currentState})])):H("",!0),(y(!0),_(J,null,be(m,w=>(y(),_(J,{key:w},[w==="FirstPageLink"?(y(),ee(o,{key:0,"aria-label":r.getAriaLabel("firstPageLabel"),onClick:t[0]||(t[0]=v=>r.changePageToFirst(v)),disabled:r.isFirstPage||r.empty},null,8,["aria-label","disabled"])):w==="PrevPageLink"?(y(),ee(a,{key:1,"aria-label":r.getAriaLabel("prevPageLabel"),onClick:t[1]||(t[1]=v=>r.changePageToPrev(v)),disabled:r.isFirstPage||r.empty},null,8,["aria-label","disabled"])):w==="NextPageLink"?(y(),ee(l,{key:2,"aria-label":r.getAriaLabel("nextPageLabel"),onClick:t[2]||(t[2]=v=>r.changePageToNext(v)),disabled:r.isLastPage||r.empty},null,8,["aria-label","disabled"])):w==="LastPageLink"?(y(),ee(A,{key:3,"aria-label":r.getAriaLabel("lastPageLabel"),onClick:t[3]||(t[3]=v=>r.changePageToLast(v)),disabled:r.isLastPage||r.empty},null,8,["aria-label","disabled"])):w==="PageLinks"?(y(),ee(u,{key:4,"aria-label":r.getAriaLabel("pageLabel"),value:r.pageLinks,page:r.page,onClick:t[4]||(t[4]=v=>r.changePageLink(v))},null,8,["aria-label","value","page"])):w==="CurrentPageReport"?(y(),ee(c,{key:5,"aria-live":"polite",template:n.currentPageReportTemplate,currentPage:r.currentPage,page:r.page,pageCount:r.pageCount,first:s.d_first,rows:s.d_rows,totalRecords:n.totalRecords},null,8,["template","currentPage","page","pageCount","first","rows","totalRecords"])):w==="RowsPerPageDropdown"&&n.rowsPerPageOptions?(y(),ee(d,{key:6,"aria-label":r.getAriaLabel("rowsPerPageLabel"),rows:s.d_rows,options:n.rowsPerPageOptions,onRowsChange:t[5]||(t[5]=v=>r.onRowChange(v)),disabled:r.empty},null,8,["aria-label","rows","options","disabled"])):w==="JumpToPageDropdown"?(y(),ee(h,{key:7,"aria-label":r.getAriaLabel("jumpToPageDropdownLabel"),page:r.page,pageCount:r.pageCount,onPageChange:t[6]||(t[6]=v=>r.changePage(v)),disabled:r.empty},null,8,["aria-label","page","pageCount","disabled"])):w==="JumpToPageInput"?(y(),ee(p,{key:8,page:r.currentPage,onPageChange:t[7]||(t[7]=v=>r.changePage(v)),disabled:r.empty},null,8,["page","disabled"])):H("",!0)],64))),128)),e.$slots.end?(y(),_("div",jG,[ue(e.$slots,"end",{state:r.currentState})])):H("",!0)],2))),128))])):H("",!0)}function qG(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var XG=`
.p-paginator-default {
    display: flex;
}
.p-paginator {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}
.p-paginator-left-content {
    margin-right: auto;
}
.p-paginator-right-content {
    margin-left: auto;
}
.p-paginator-page,
.p-paginator-next,
.p-paginator-last,
.p-paginator-first,
.p-paginator-prev,
.p-paginator-current {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    user-select: none;
    overflow: hidden;
    position: relative;
}
.p-paginator-element:focus {
    z-index: 1;
    position: relative;
}
`;qG(XG);AU.render=WG;function JG(e,t){const{onFocusIn:n,onFocusOut:i}=t.value||{};e.$_pfocustrap_mutationobserver=new MutationObserver(s=>{s.forEach(r=>{if(r.type==="childList"&&!e.contains(document.activeElement)){const o=a=>{const l=I.isFocusableElement(a)?a:I.getFirstFocusableElement(a);return $.isNotEmpty(l)?l:o(a.nextSibling)};I.focus(o(r.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=s=>n&&n(s),e.$_pfocustrap_focusoutlistener=s=>i&&i(s),e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)}function BB(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)}function YG(e,t){const{autoFocusSelector:n="",firstFocusableSelector:i="",autoFocus:s=!1}=t.value||{};let r=I.getFirstFocusableElement(e,`[autofocus]:not(.p-hidden-focusable)${n}`);s&&!r&&(r=I.getFirstFocusableElement(e,`:not(.p-hidden-focusable)${i}`)),I.focus(r)}function ZG(e){const{currentTarget:t,relatedTarget:n}=e,i=n===t.$_pfocustrap_lasthiddenfocusableelement?I.getFirstFocusableElement(t.parentElement,`:not(.p-hidden-focusable)${t.$_pfocustrap_focusableselector}`):t.$_pfocustrap_lasthiddenfocusableelement;I.focus(i)}function e5(e){const{currentTarget:t,relatedTarget:n}=e,i=n===t.$_pfocustrap_firsthiddenfocusableelement?I.getLastFocusableElement(t.parentElement,`:not(.p-hidden-focusable)${t.$_pfocustrap_focusableselector}`):t.$_pfocustrap_firsthiddenfocusableelement;I.focus(i)}function t5(e,t){const{tabIndex:n=0,firstFocusableSelector:i="",lastFocusableSelector:s=""}=t.value||{},r=l=>{const A=document.createElement("span");return A.classList="p-hidden-accessible p-hidden-focusable",A.tabIndex=n,A.setAttribute("aria-hidden","true"),A.setAttribute("role","presentation"),A.addEventListener("focus",l),A},o=r(ZG),a=r(e5);o.$_pfocustrap_lasthiddenfocusableelement=a,o.$_pfocustrap_focusableselector=i,a.$_pfocustrap_firsthiddenfocusableelement=o,a.$_pfocustrap_focusableselector=s,e.prepend(o),e.append(a)}const gw={mounted(e,t){const{disabled:n}=t.value||{};n||(t5(e,t),JG(e,t),YG(e,t))},updated(e,t){const{disabled:n}=t.value||{};n&&BB(e)},unmounted(e){BB(e)}};var uU={name:"RowCheckbox",emits:["change"],props:{value:null,checked:null},data(){return{focused:!1}},methods:{onClick(e){this.$attrs.disabled||(this.$emit("change",{originalEvent:e,data:this.value}),I.focus(this.$refs.input)),e.preventDefault()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},onKeydown(e){switch(e.code){case"Space":{this.onClick(e);break}}}},computed:{checkboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectRow:this.$primevue.config.locale.aria.unselectRow:void 0}}};const n5={class:"p-hidden-accessible"},i5=["checked","disabled","tabindex","aria-label"];function s5(e,t,n,i,s,r){return y(),_("div",{class:P(["p-checkbox p-component",{"p-checkbox-focused":s.focused}]),onClick:t[3]||(t[3]=(...o)=>r.onClick&&r.onClick(...o))},[f("div",n5,[f("input",{ref:"input",type:"checkbox",checked:n.checked,disabled:e.$attrs.disabled,tabindex:e.$attrs.disabled?null:"0","aria-label":r.checkboxAriaLabel,onFocus:t[0]||(t[0]=o=>r.onFocus(o)),onBlur:t[1]||(t[1]=o=>r.onBlur(o)),onKeydown:t[2]||(t[2]=(...o)=>r.onKeydown&&r.onKeydown(...o))},null,40,i5)]),f("div",{ref:"box",class:P(["p-checkbox-box p-component",{"p-highlight":n.checked,"p-disabled":e.$attrs.disabled,"p-focus":s.focused}])},[f("span",{class:P(["p-checkbox-icon",{"pi pi-check":n.checked}])},null,2)],2)],2)}uU.render=s5;var cU={name:"RowRadioButton",inheritAttrs:!1,emits:["change"],props:{value:null,checked:null,name:null},data(){return{focused:!1}},methods:{onClick(e){this.disabled||this.checked||(this.$emit("change",{originalEvent:e,data:this.value}),I.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}}};const r5={class:"p-hidden-accessible"},o5=["checked","disabled","name"],a5=f("div",{class:"p-radiobutton-icon"},null,-1),l5=[a5];function A5(e,t,n,i,s,r){return y(),_("div",{class:P(["p-radiobutton p-component",{"p-radiobutton-focused":s.focused}]),onClick:t[3]||(t[3]=(...o)=>r.onClick&&r.onClick(...o))},[f("div",r5,[f("input",{ref:"input",type:"radio",checked:n.checked,disabled:e.$attrs.disabled,name:n.name,tabindex:"0",onFocus:t[0]||(t[0]=o=>r.onFocus(o)),onBlur:t[1]||(t[1]=o=>r.onBlur(o)),onKeydown:t[2]||(t[2]=Bi(Jh((...o)=>r.onClick&&r.onClick(...o),["prevent"]),["space"]))},null,40,o5)]),f("div",{ref:"box",class:P(["p-radiobutton-box p-component",{"p-highlight":n.checked,"p-disabled":e.$attrs.disabled,"p-focus":s.focused}])},l5,2)],2)}cU.render=A5;var dU={name:"BodyCell",emits:["cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","row-toggle","radio-change","checkbox-change","editing-meta-change"],props:{rowData:{type:Object,default:null},column:{type:Object,default:null},frozenRow:{type:Boolean,default:!1},rowIndex:{type:Number,default:null},index:{type:Number,default:null},rowTogglerIcon:{type:Array,default:null},selected:{type:Boolean,default:!1},editing:{type:Boolean,default:!1},editingMeta:{type:Object,default:null},editMode:{type:String,default:null},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},ariaControls:{type:String,default:null},name:{type:String,default:null}},documentEditListener:null,selfClick:!1,overlayEventListener:null,data(){return{d_editing:this.editing,styleObject:{},isRowExpanded:!1}},watch:{editing(e){this.d_editing=e},"$data.d_editing":function(e){this.$emit("editing-meta-change",{data:this.rowData,field:this.field||`field_${this.index}`,index:this.rowIndex,editing:e})}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition(),this.d_editing&&(this.editMode==="cell"||this.editMode==="row"&&this.columnProp("rowEditor"))&&setTimeout(()=>{const e=I.getFirstFocusableElement(this.$el);e&&e.focus()},1)},beforeUnmount(){this.overlayEventListener&&(hn.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null)},methods:{columnProp(e){return $.getVNodeProp(this.column,e)},resolveFieldData(){return $.resolveFieldData(this.rowData,this.field)},toggleRow(e){this.isRowExpanded=!this.isRowExpanded,this.$emit("row-toggle",{originalEvent:e,data:this.rowData})},toggleRowWithRadio(e,t){this.$emit("radio-change",{originalEvent:e.originalEvent,index:t,data:e.data})},toggleRowWithCheckbox(e,t){this.$emit("checkbox-change",{originalEvent:e.originalEvent,index:t,data:e.data})},isEditable(){return this.column.children&&this.column.children.editor!=null},bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.selfClick||this.completeEdit(e,"outside"),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))},unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null,this.selfClick=!1)},switchCellToViewMode(){this.d_editing=!1,this.unbindDocumentEditListener(),hn.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},onClick(e){this.editMode==="cell"&&this.isEditable()&&(this.selfClick=!0,this.d_editing||(this.d_editing=!0,this.bindDocumentEditListener(),this.$emit("cell-edit-init",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}),this.overlayEventListener=t=>{this.$el&&this.$el.contains(t.target)&&(this.selfClick=!0)},hn.on("overlay-click",this.overlayEventListener)))},completeEdit(e,t){const n={originalEvent:e,data:this.rowData,newData:this.editingRowData,value:this.rowData[this.field],newValue:this.editingRowData[this.field],field:this.field,index:this.rowIndex,type:t,defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0}};this.$emit("cell-edit-complete",n),n.defaultPrevented||this.switchCellToViewMode()},onKeyDown(e){if(this.editMode==="cell")switch(e.code){case"Enter":this.completeEdit(e,"enter");break;case"Escape":this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex});break;case"Tab":this.completeEdit(e,"tab"),e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e);break}},moveToPreviousCell(e){let t=this.findCell(e.target),n=this.findPreviousEditableColumn(t);n&&(I.invokeElementMethod(n,"click"),e.preventDefault())},moveToNextCell(e){let t=this.findCell(e.target),n=this.findNextEditableColumn(t);n&&(I.invokeElementMethod(n,"click"),e.preventDefault())},findCell(e){if(e){let t=e;for(;t&&!I.hasClass(t,"p-cell-editing");)t=t.parentElement;return t}else return null},findPreviousEditableColumn(e){let t=e.previousElementSibling;if(!t){let n=e.parentElement.previousElementSibling;n&&(t=n.lastElementChild)}return t?I.hasClass(t,"p-editable-column")?t:this.findPreviousEditableColumn(t):null},findNextEditableColumn(e){let t=e.nextElementSibling;if(!t){let n=e.parentElement.nextElementSibling;n&&(t=n.firstElementChild)}return t?I.hasClass(t,"p-editable-column")?t:this.findNextEditableColumn(t):null},isEditingCellValid(){return I.find(this.$el,".p-invalid").length===0},onRowEditInit(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditSave(e){this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},onRowEditCancel(e){this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorInitCallback(e){this.$emit("row-edit-init",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex})},editorSaveCallback(e){this.editMode==="row"?this.$emit("row-edit-save",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):this.completeEdit(e,"enter")},editorCancelCallback(e){this.editMode==="row"?this.$emit("row-edit-cancel",{originalEvent:e,data:this.rowData,newData:this.editingRowData,field:this.field,index:this.rowIndex}):(this.switchCellToViewMode(),this.$emit("cell-edit-cancel",{originalEvent:e,data:this.rowData,field:this.field,index:this.rowIndex}))},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let t=0,n=this.$el.nextElementSibling;n&&(t=I.getOuterWidth(n)+parseFloat(n.style.right||0)),this.styleObject.right=t+"px"}else{let t=0,n=this.$el.previousElementSibling;n&&(t=I.getOuterWidth(n)+parseFloat(n.style.left||0)),this.styleObject.left=t+"px"}},getVirtualScrollerProp(e){return this.virtualScrollerContentProps?this.virtualScrollerContentProps[e]:null}},computed:{editingRowData(){return this.editingMeta[this.rowIndex]?this.editingMeta[this.rowIndex].data:this.rowData},field(){return this.columnProp("field")},containerClass(){return[this.columnProp("bodyClass"),this.columnProp("class"),{"p-selection-column":this.columnProp("selectionMode")!=null,"p-editable-column":this.isEditable(),"p-cell-editing":this.d_editing,"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let e=this.columnProp("bodyStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},loading(){return this.getVirtualScrollerProp("loading")},loadingOptions(){const e=this.getVirtualScrollerProp("getLoaderOptions");return e&&e(this.rowIndex,{cellIndex:this.index,cellFirst:this.index===0,cellLast:this.index===this.getVirtualScrollerProp("columns").length-1,cellEven:this.index%2===0,cellOdd:this.index%2!==0,column:this.column,field:this.field})},expandButtonAriaLabel(){return this.$primevue.config.locale.aria?this.isRowExpanded?this.$primevue.config.locale.aria.expandRow:this.$primevue.config.locale.aria.collapseRow:void 0},initButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.editRow:void 0},saveButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.saveEdit:void 0},cancelButtonAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.cancelEdit:void 0}},components:{DTRadioButton:cU,DTCheckbox:uU},directives:{ripple:bt}};const u5={key:0,class:"p-column-title"},c5=["aria-expanded","aria-controls","aria-label"],d5=["aria-label"],h5=f("span",{class:"p-row-editor-init-icon pi pi-fw pi-pencil"},null,-1),f5=[h5],p5=["aria-label"],g5=f("span",{class:"p-row-editor-save-icon pi pi-fw pi-check"},null,-1),m5=[g5],y5=["aria-label"],v5=f("span",{class:"p-row-editor-cancel-icon pi pi-fw pi-times"},null,-1),w5=[v5];function _5(e,t,n,i,s,r){const o=N("DTRadioButton"),a=N("DTCheckbox"),l=pt("ripple");return r.loading?(y(),_("td",{key:0,style:Re(r.containerStyle),class:P(r.containerClass)},[(y(),ee(ht(n.column.children.loading),{data:n.rowData,column:n.column,field:r.field,index:n.rowIndex,frozenRow:n.frozenRow,loadingOptions:r.loadingOptions},null,8,["data","column","field","index","frozenRow","loadingOptions"]))],6)):(y(),_("td",{key:1,style:Re(r.containerStyle),class:P(r.containerClass),onClick:t[6]||(t[6]=(...A)=>r.onClick&&r.onClick(...A)),onKeydown:t[7]||(t[7]=(...A)=>r.onKeyDown&&r.onKeyDown(...A)),role:"cell"},[n.responsiveLayout==="stack"?(y(),_("span",u5,M(r.columnProp("header")),1)):H("",!0),n.column.children&&n.column.children.body&&!s.d_editing?(y(),ee(ht(n.column.children.body),{key:1,data:n.rowData,column:n.column,field:r.field,index:n.rowIndex,frozenRow:n.frozenRow,editorInitCallback:r.editorInitCallback},null,8,["data","column","field","index","frozenRow","editorInitCallback"])):n.column.children&&n.column.children.editor&&s.d_editing?(y(),ee(ht(n.column.children.editor),{key:2,data:r.editingRowData,column:n.column,field:r.field,index:n.rowIndex,frozenRow:n.frozenRow,editorSaveCallback:r.editorSaveCallback,editorCancelCallback:r.editorCancelCallback},null,8,["data","column","field","index","frozenRow","editorSaveCallback","editorCancelCallback"])):n.column.children&&n.column.children.body&&!n.column.children.editor&&s.d_editing?(y(),ee(ht(n.column.children.body),{key:3,data:r.editingRowData,column:n.column,field:r.field,index:n.rowIndex,frozenRow:n.frozenRow},null,8,["data","column","field","index","frozenRow"])):r.columnProp("selectionMode")?(y(),_(J,{key:4},[r.columnProp("selectionMode")==="single"?(y(),ee(o,{key:0,value:n.rowData,name:n.name,checked:n.selected,onChange:t[0]||(t[0]=A=>r.toggleRowWithRadio(A,n.rowIndex))},null,8,["value","name","checked"])):r.columnProp("selectionMode")==="multiple"?(y(),ee(a,{key:1,value:n.rowData,checked:n.selected,"aria-selected":n.selected?!0:void 0,onChange:t[1]||(t[1]=A=>r.toggleRowWithCheckbox(A,n.rowIndex))},null,8,["value","checked","aria-selected"])):H("",!0)],64)):r.columnProp("rowReorder")?(y(),_("i",{key:5,class:P(["p-datatable-reorderablerow-handle",r.columnProp("rowReorderIcon")||"pi pi-bars"])},null,2)):r.columnProp("expander")?re((y(),_("button",{key:6,class:"p-row-toggler p-link",type:"button","aria-expanded":s.isRowExpanded,"aria-controls":n.ariaControls,"aria-label":r.expandButtonAriaLabel,onClick:t[2]||(t[2]=(...A)=>r.toggleRow&&r.toggleRow(...A))},[f("span",{class:P(n.rowTogglerIcon)},null,2)],8,c5)),[[l]]):n.editMode==="row"&&r.columnProp("rowEditor")?(y(),_(J,{key:7},[s.d_editing?H("",!0):re((y(),_("button",{key:0,class:"p-row-editor-init p-link",type:"button","aria-label":r.initButtonAriaLabel,onClick:t[3]||(t[3]=(...A)=>r.onRowEditInit&&r.onRowEditInit(...A))},f5,8,d5)),[[l]]),s.d_editing?re((y(),_("button",{key:1,class:"p-row-editor-save p-link",type:"button","aria-label":r.saveButtonAriaLabel,onClick:t[4]||(t[4]=(...A)=>r.onRowEditSave&&r.onRowEditSave(...A))},m5,8,p5)),[[l]]):H("",!0),s.d_editing?re((y(),_("button",{key:2,class:"p-row-editor-cancel p-link",type:"button","aria-label":r.cancelButtonAriaLabel,onClick:t[5]||(t[5]=(...A)=>r.onRowEditCancel&&r.onRowEditCancel(...A))},w5,8,y5)),[[l]]):H("",!0)],64)):(y(),_(J,{key:8},[he(M(r.resolveFieldData()),1)],64))],38))}dU.render=_5;var hU={name:"TableBody",emits:["rowgroup-toggle","row-click","row-dblclick","row-rightclick","row-touchend","row-keydown","row-mousedown","row-dragstart","row-dragover","row-dragleave","row-dragend","row-drop","row-toggle","radio-change","checkbox-change","cell-edit-init","cell-edit-complete","cell-edit-cancel","row-edit-init","row-edit-save","row-edit-cancel","editing-meta-change"],props:{value:{type:Array,default:null},columns:{type:null,default:null},frozenRow:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},first:{type:Number,default:0},dataKey:{type:String,default:null},expandedRowIcon:{type:String,default:null},collapsedRowIcon:{type:String,default:null},expandedRows:{type:Array,default:null},expandedRowKeys:{type:null,default:null},selection:{type:[Array,Object],default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},editMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},editingRows:{type:Array,default:null},editingRowKeys:{type:null,default:null},editingMeta:{type:Object,default:null},templates:{type:null,default:null},scrollable:{type:Boolean,default:!1},responsiveLayout:{type:String,default:"stack"},virtualScrollerContentProps:{type:Object,default:null},isVirtualScrollerDisabled:{type:Boolean,default:!1}},data(){return{rowGroupHeaderStyleObject:{},tabindexArray:[],isARowSelected:!1}},mounted(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},updated(){this.frozenRow&&this.updateFrozenRowStickyPosition(),this.scrollable&&this.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()},methods:{columnProp(e,t){return $.getVNodeProp(e,t)},shouldRenderRowGroupHeader(e,t,n){let i=$.resolveFieldData(t,this.groupRowsBy),s=e[n-1];if(s){let r=$.resolveFieldData(s,this.groupRowsBy);return i!==r}else return!0},getRowKey(e,t){return this.dataKey?$.resolveFieldData(e,this.dataKey):this.getRowIndex(t)},getRowIndex(e){const t=this.getVirtualScrollerProp("getItemOptions");return t?t(e).index:this.first+e},getRowStyle(e){if(this.rowStyle)return this.rowStyle(e)},getRowClass(e){let t=[];if(this.selectionMode&&t.push("p-selectable-row"),this.selection&&t.push({"p-highlight":this.isSelected(e)}),this.contextMenuSelection&&t.push({"p-highlight-contextmenu":this.isSelectedWithContextMenu(e)}),this.rowClass){let n=this.rowClass(e);n&&t.push(n)}return t},shouldRenderRowGroupFooter(e,t,n){if(this.expandableRowGroups&&!this.isRowGroupExpanded(t))return!1;{let i=$.resolveFieldData(t,this.groupRowsBy),s=e[n+1];if(s){let r=$.resolveFieldData(s,this.groupRowsBy);return i!==r}else return!0}},shouldRenderBodyCell(e,t,n){if(this.rowGroupMode){if(this.rowGroupMode==="subheader")return this.groupRowsBy!==this.columnProp(t,"field");if(this.rowGroupMode==="rowspan")if(this.isGrouped(t)){let i=e[n-1];if(i){let s=$.resolveFieldData(e[n],this.columnProp(t,"field")),r=$.resolveFieldData(i,this.columnProp(t,"field"));return s!==r}else return!0}else return!0}else return!this.columnProp(t,"hidden")},calculateRowGroupSize(e,t,n){if(this.isGrouped(t)){let i=$.resolveFieldData(e[n],this.columnProp(t,"field")),s=i,r=0;for(;i===s;){r++;let o=e[++n];if(o)s=$.resolveFieldData(o,this.columnProp(t,"field"));else break}return r===1?null:r}else return null},rowTogglerIcon(e){const t=this.isRowExpanded(e)?this.expandedRowIcon:this.collapsedRowIcon;return["p-row-toggler-icon pi",t]},rowGroupTogglerIcon(e){const t=this.isRowGroupExpanded(e)?this.expandedRowIcon:this.collapsedRowIcon;return["p-row-toggler-icon pi",t]},isGrouped(e){return this.groupRowsBy&&this.columnProp(e,"field")?Array.isArray(this.groupRowsBy)?this.groupRowsBy.indexOf(e.props.field)>-1:this.groupRowsBy===e.props.field:!1},isRowEditing(e){return e&&this.editingRows?this.dataKey?this.editingRowKeys?this.editingRowKeys[$.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.findIndex(e,this.editingRows)>-1:!1},isRowExpanded(e){return e&&this.expandedRows?this.dataKey?this.expandedRowKeys?this.expandedRowKeys[$.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.findIndex(e,this.expandedRows)>-1:!1},isRowGroupExpanded(e){if(this.expandableRowGroups&&this.expandedRowGroups){let t=$.resolveFieldData(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isSelected(e){return e&&this.selection?this.dataKey?this.selectionKeys?this.selectionKeys[$.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},isSelectedWithContextMenu(e){return e&&this.contextMenuSelection?this.equals(e,this.contextMenuSelection,this.dataKey):!1},findIndexInSelection(e){return this.findIndex(e,this.selection)},findIndex(e,t){let n=-1;if(t&&t.length){for(let i=0;i<t.length;i++)if(this.equals(e,t[i])){n=i;break}}return n},equals(e,t){return this.compareSelectionBy==="equals"?e===t:$.equals(e,t,this.dataKey)},onRowGroupToggle(e,t){this.$emit("rowgroup-toggle",{originalEvent:e,data:t})},onRowClick(e,t,n){this.$emit("row-click",{originalEvent:e,data:t,index:n})},onRowDblClick(e,t,n){this.$emit("row-dblclick",{originalEvent:e,data:t,index:n})},onRowRightClick(e,t,n){this.$emit("row-rightclick",{originalEvent:e,data:t,index:n})},onRowTouchEnd(e){this.$emit("row-touchend",e)},onRowKeyDown(e,t,n){this.$emit("row-keydown",{originalEvent:e,data:t,index:n})},onRowMouseDown(e){this.$emit("row-mousedown",e)},onRowDragStart(e,t){this.$emit("row-dragstart",{originalEvent:e,index:t})},onRowDragOver(e,t){this.$emit("row-dragover",{originalEvent:e,index:t})},onRowDragLeave(e){this.$emit("row-dragleave",e)},onRowDragEnd(e){this.$emit("row-dragend",e)},onRowDrop(e){this.$emit("row-drop",e)},onRowToggle(e){this.$emit("row-toggle",e)},onRadioChange(e){this.$emit("radio-change",e)},onCheckboxChange(e){this.$emit("checkbox-change",e)},onCellEditInit(e){this.$emit("cell-edit-init",e)},onCellEditComplete(e){this.$emit("cell-edit-complete",e)},onCellEditCancel(e){this.$emit("cell-edit-cancel",e)},onRowEditInit(e){this.$emit("row-edit-init",e)},onRowEditSave(e){this.$emit("row-edit-save",e)},onRowEditCancel(e){this.$emit("row-edit-cancel",e)},onEditingMetaChange(e){this.$emit("editing-meta-change",e)},updateFrozenRowStickyPosition(){this.$el.style.top=I.getOuterHeight(this.$el.previousElementSibling)+"px"},updateFrozenRowGroupHeaderStickyPosition(){let e=I.getOuterHeight(this.$el.previousElementSibling);this.rowGroupHeaderStyleObject.top=e+"px"},getVirtualScrollerProp(e,t){return t=t||this.virtualScrollerContentProps,t?t[e]:null},bodyRef(e){const t=this.getVirtualScrollerProp("contentRef");t&&t(e)},setRowTabindex(e){return this.selection===null&&(this.selectionMode==="single"||this.selectionMode==="multiple")&&e===0?0:-1}},computed:{columnsLength(){let e=0;return this.columns.forEach(t=>{this.columnProp(t,"selectionMode")==="single"&&e--,this.columnProp(t,"hidden")&&e++}),this.columns?this.columns.length-e:0},rowGroupHeaderStyle(){return this.scrollable?{top:this.rowGroupHeaderStyleObject.top}:null},bodyStyle(){return this.getVirtualScrollerProp("contentStyle")},expandedRowId(){return _t()},nameAttributeSelector(){return _t()}},components:{DTBodyCell:dU}};const b5=["colspan"],B5=["onClick"],C5=["tabindex","aria-selected","onClick","onDblclick","onContextmenu","onKeydown","onDragstart","onDragover"],x5=["id"],E5=["colspan"],I5=["colspan"],S5={key:1,class:"p-datatable-emptymessage",role:"row"},F5=["colspan"];function U5(e,t,n,i,s,r){const o=N("DTBodyCell");return y(),_("tbody",{ref:r.bodyRef,class:"p-datatable-tbody",role:"rowgroup",style:Re(r.bodyStyle)},[n.empty?(y(),_("tr",S5,[f("td",{colspan:r.columnsLength},[n.templates.empty?(y(),ee(ht(n.templates.empty),{key:0})):H("",!0)],8,F5)])):(y(!0),_(J,{key:0},be(n.value,(a,l)=>(y(),_(J,null,[n.templates.groupheader&&n.rowGroupMode==="subheader"&&r.shouldRenderRowGroupHeader(n.value,a,r.getRowIndex(l))?(y(),_("tr",{key:r.getRowKey(a,r.getRowIndex(l))+"_subheader",class:"p-rowgroup-header",style:Re(r.rowGroupHeaderStyle),role:"row"},[f("td",{colspan:r.columnsLength-1},[n.expandableRowGroups?(y(),_("button",{key:0,class:"p-row-toggler p-link",onClick:A=>r.onRowGroupToggle(A,a),type:"button"},[f("span",{class:P(r.rowGroupTogglerIcon(a))},null,2)],8,B5)):H("",!0),(y(),ee(ht(n.templates.groupheader),{data:a,index:r.getRowIndex(l)},null,8,["data","index"]))],8,b5)],4)):H("",!0),!n.expandableRowGroups||r.isRowGroupExpanded(a)?(y(),_("tr",{key:r.getRowKey(a,r.getRowIndex(l)),class:P(r.getRowClass(a)),style:Re(r.getRowStyle(a)),tabindex:r.setRowTabindex(l),role:"row","aria-selected":n.selectionMode?r.isSelected(a):null,onClick:A=>r.onRowClick(A,a,r.getRowIndex(l)),onDblclick:A=>r.onRowDblClick(A,a,r.getRowIndex(l)),onContextmenu:A=>r.onRowRightClick(A,a,r.getRowIndex(l)),onTouchend:t[9]||(t[9]=A=>r.onRowTouchEnd(A)),onKeydown:A=>r.onRowKeyDown(A,a,r.getRowIndex(l)),onMousedown:t[10]||(t[10]=A=>r.onRowMouseDown(A)),onDragstart:A=>r.onRowDragStart(A,r.getRowIndex(l)),onDragover:A=>r.onRowDragOver(A,r.getRowIndex(l)),onDragleave:t[11]||(t[11]=A=>r.onRowDragLeave(A)),onDragend:t[12]||(t[12]=A=>r.onRowDragEnd(A)),onDrop:t[13]||(t[13]=A=>r.onRowDrop(A))},[(y(!0),_(J,null,be(n.columns,(A,u)=>(y(),_(J,null,[r.shouldRenderBodyCell(n.value,A,r.getRowIndex(l))?(y(),ee(o,{key:r.columnProp(A,"columnKey")||r.columnProp(A,"field")||u,rowData:a,column:A,rowIndex:r.getRowIndex(l),index:u,selected:r.isSelected(a),rowTogglerIcon:r.columnProp(A,"expander")?r.rowTogglerIcon(a):null,frozenRow:n.frozenRow,rowspan:n.rowGroupMode==="rowspan"?r.calculateRowGroupSize(n.value,A,r.getRowIndex(l)):null,editMode:n.editMode,editing:n.editMode==="row"&&r.isRowEditing(a),editingMeta:n.editingMeta,responsiveLayout:n.responsiveLayout,virtualScrollerContentProps:n.virtualScrollerContentProps,ariaControls:r.expandedRowId+"_"+l+"_expansion",name:r.nameAttributeSelector,onRadioChange:t[0]||(t[0]=c=>r.onRadioChange(c)),onCheckboxChange:t[1]||(t[1]=c=>r.onCheckboxChange(c)),onRowToggle:t[2]||(t[2]=c=>r.onRowToggle(c)),onCellEditInit:t[3]||(t[3]=c=>r.onCellEditInit(c)),onCellEditComplete:t[4]||(t[4]=c=>r.onCellEditComplete(c)),onCellEditCancel:t[5]||(t[5]=c=>r.onCellEditCancel(c)),onRowEditInit:t[6]||(t[6]=c=>r.onRowEditInit(c)),onRowEditSave:t[7]||(t[7]=c=>r.onRowEditSave(c)),onRowEditCancel:t[8]||(t[8]=c=>r.onRowEditCancel(c)),onEditingMetaChange:r.onEditingMetaChange},null,8,["rowData","column","rowIndex","index","selected","rowTogglerIcon","frozenRow","rowspan","editMode","editing","editingMeta","responsiveLayout","virtualScrollerContentProps","ariaControls","name","onEditingMetaChange"])):H("",!0)],64))),256))],46,C5)):H("",!0),n.templates.expansion&&n.expandedRows&&r.isRowExpanded(a)?(y(),_("tr",{key:r.getRowKey(a,r.getRowIndex(l))+"_expansion",id:r.expandedRowId+"_"+l+"_expansion",class:"p-datatable-row-expansion",role:"row"},[f("td",{colspan:r.columnsLength},[(y(),ee(ht(n.templates.expansion),{data:a,index:r.getRowIndex(l)},null,8,["data","index"]))],8,E5)],8,x5)):H("",!0),n.templates.groupfooter&&n.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(n.value,a,r.getRowIndex(l))?(y(),_("tr",{key:r.getRowKey(a,r.getRowIndex(l))+"_subfooter",class:"p-rowgroup-footer",role:"row"},[f("td",{colspan:r.columnsLength-1},[(y(),ee(ht(n.templates.groupfooter),{data:a,index:r.getRowIndex(l)},null,8,["data","index"]))],8,I5)])):H("",!0)],64))),256))],4)}hU.render=U5;var fU={name:"FooterCell",props:{column:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(e){return $.getVNodeProp(this.column,e)},updateStickyPosition(){if(this.columnProp("frozen"))if(this.columnProp("alignFrozen")==="right"){let t=0,n=this.$el.nextElementSibling;n&&(t=I.getOuterWidth(n)+parseFloat(n.style.right||0)),this.styleObject.right=t+"px"}else{let t=0,n=this.$el.previousElementSibling;n&&(t=I.getOuterWidth(n)+parseFloat(n.style.left||0)),this.styleObject.left=t+"px"}}},computed:{containerClass(){return[this.columnProp("footerClass"),this.columnProp("class"),{"p-frozen-column":this.columnProp("frozen")}]},containerStyle(){let e=this.columnProp("footerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]}}};const T5=["colspan","rowspan"];function k5(e,t,n,i,s,r){return y(),_("td",{style:Re(r.containerStyle),class:P(r.containerClass),role:"cell",colspan:r.columnProp("colspan"),rowspan:r.columnProp("rowspan")},[n.column.children&&n.column.children.footer?(y(),ee(ht(n.column.children.footer),{key:0,column:n.column},null,8,["column"])):H("",!0),he(" "+M(r.columnProp("footer")),1)],14,T5)}fU.render=k5;var pU={name:"TableFooter",props:{columnGroup:{type:null,default:null},columns:{type:null,default:null}},methods:{columnProp(e,t){return $.getVNodeProp(e,t)},getFooterRows(){let e=[],t=this.columnGroup;if(t.children&&t.children.default){for(let n of t.children.default())n.type.name==="Row"?e.push(n):n.children&&n.children instanceof Array&&(e=n.children);return e}},getFooterColumns(e){let t=[];if(e.children&&e.children.default)return e.children.default().forEach(n=>{n.children&&n.children instanceof Array?t=[...t,...n.children]:n.type.name==="Column"&&t.push(n)}),t}},computed:{hasFooter(){let e=!1;if(this.columnGroup)e=!0;else if(this.columns){for(let t of this.columns)if(this.columnProp(t,"footer")||t.children&&t.children.footer){e=!0;break}}return e}},components:{DTFooterCell:fU}};const Q5={key:0,class:"p-datatable-tfoot",role:"rowgroup"},L5={key:0,role:"row"};function O5(e,t,n,i,s,r){const o=N("DTFooterCell");return r.hasFooter?(y(),_("tfoot",Q5,[n.columnGroup?(y(!0),_(J,{key:1},be(r.getFooterRows(),(a,l)=>(y(),_("tr",{key:l,role:"row"},[(y(!0),_(J,null,be(r.getFooterColumns(a),(A,u)=>(y(),_(J,{key:r.columnProp(A,"columnKey")||r.columnProp(A,"field")||u},[r.columnProp(A,"hidden")?H("",!0):(y(),ee(o,{key:0,column:A},null,8,["column"]))],64))),128))]))),128)):(y(),_("tr",L5,[(y(!0),_(J,null,be(n.columns,(a,l)=>(y(),_(J,{key:r.columnProp(a,"columnKey")||r.columnProp(a,"field")||l},[r.columnProp(a,"hidden")?H("",!0):(y(),ee(o,{key:0,column:a},null,8,["column"]))],64))),128))]))])):H("",!0)}pU.render=O5;var mw={name:"ColumnFilter",emits:["filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{field:{type:String,default:null},type:{type:String,default:"text"},display:{type:String,default:null},showMenu:{type:Boolean,default:!0},matchMode:{type:String,default:null},showOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},matchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},filterElement:null,filterHeaderTemplate:null,filterFooterTemplate:null,filterClearTemplate:null,filterApplyTemplate:null,filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{overlayVisible:!1,defaultMatchMode:null,defaultOperator:null}},overlay:null,selfClick:!1,overlayEventListener:null,beforeUnmount(){this.overlayEventListener&&(hn.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.overlay&&(st.clear(this.overlay),this.onOverlayHide())},mounted(){if(this.filters&&this.filters[this.field]){let e=this.filters[this.field];e.operator?(this.defaultMatchMode=e.constraints[0].matchMode,this.defaultOperator=e.operator):this.defaultMatchMode=this.filters[this.field].matchMode}},methods:{clearFilter(){let e={...this.filters};e[this.field].operator?(e[this.field].constraints.splice(1),e[this.field].operator=this.defaultOperator,e[this.field].constraints[0]={value:null,matchMode:this.defaultMatchMode}):(e[this.field].value=null,e[this.field].matchMode=this.defaultMatchMode),this.$emit("filter-clear"),this.$emit("filter-change",e),this.$emit("filter-apply"),this.hide()},applyFilter(){this.$emit("apply-click",{field:this.field,constraints:this.filters[this.field]}),this.$emit("filter-apply"),this.hide()},hasFilter(){if(this.filtersStore){let e=this.filtersStore[this.field];if(e)return e.operator?!this.isFilterBlank(e.constraints[0].value):!this.isFilterBlank(e.value)}return!1},hasRowFilter(){return this.filters[this.field]&&!this.isFilterBlank(this.filters[this.field].value)},isFilterBlank(e){return e!=null?typeof e=="string"&&e.trim().length==0||e instanceof Array&&e.length==0:!0},toggleMenu(){this.overlayVisible=!this.overlayVisible},onToggleButtonKeyDown(e){switch(e.code){case"Enter":case"Space":this.toggleMenu(),e.preventDefault();break;case"Escape":this.overlayVisible=!1;break}},onRowMatchModeChange(e){let t={...this.filters};t[this.field].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e}),this.$emit("filter-change",t),this.$emit("filter-apply"),this.hide()},onRowMatchModeKeyDown(e){let t=e.target;switch(e.code){case"ArrowDown":var n=this.findNextItem(t);n&&(t.removeAttribute("tabindex"),n.tabIndex="0",n.focus()),e.preventDefault();break;case"ArrowUp":var i=this.findPrevItem(t);i&&(t.removeAttribute("tabindex"),i.tabIndex="0",i.focus()),e.preventDefault();break}},isRowMatchModeSelected(e){return this.filters[this.field].matchMode===e},onOperatorChange(e){let t={...this.filters};t[this.field].operator=e,this.$emit("filter-change",t),this.$emit("operator-change",{field:this.field,operator:e}),this.showApplyButton||this.$emit("filter-apply")},onMenuMatchModeChange(e,t){let n={...this.filters};n[this.field].constraints[t].matchMode=e,this.$emit("matchmode-change",{field:this.field,matchMode:e,index:t}),this.showApplyButton||this.$emit("filter-apply")},addConstraint(){let e={...this.filters},t={value:null,matchMode:this.defaultMatchMode};e[this.field].constraints.push(t),this.$emit("constraint-add",{field:this.field,constraing:t}),this.$emit("filter-change",e),this.showApplyButton||this.$emit("filter-apply")},removeConstraint(e){let t={...this.filters},n=t[this.field].constraints.splice(e,1);this.$emit("constraint-remove",{field:this.field,constraing:n}),this.$emit("filter-change",t),this.showApplyButton||this.$emit("filter-apply")},filterCallback(){this.$emit("filter-apply")},findNextItem(e){let t=e.nextElementSibling;return t?I.hasClass(t,"p-column-filter-separator")?this.findNextItem(t):t:e.parentElement.firstElementChild},findPrevItem(e){let t=e.previousElementSibling;return t?I.hasClass(t,"p-column-filter-separator")?this.findPrevItem(t):t:e.parentElement.lastElementChild},hide(){this.overlayVisible=!1,I.focus(this.$refs.icon)},onContentClick(e){this.selfClick=!0,hn.emit("overlay-click",{originalEvent:e,target:this.overlay})},onContentMouseDown(){this.selfClick=!0},onOverlayEnter(e){this.filterMenuStyle&&I.applyStyle(this.overlay,this.filterMenuStyle),st.set("overlay",e,this.$primevue.config.zIndex.overlay),I.absolutePosition(this.overlay,this.$refs.icon),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.overlayEventListener=t=>{this.isOutsideClicked(t.target)||(this.selfClick=!0)},hn.on("overlay-click",this.overlayEventListener)},onOverlayLeave(){this.onOverlayHide()},onOverlayAfterLeave(e){st.clear(e)},onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.overlay=null,hn.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null},overlayRef(e){this.overlay=e},isOutsideClicked(e){return!this.isTargetClicked(e)&&this.overlay&&!(this.overlay.isSameNode(e)||this.overlay.contains(e))},isTargetClicked(e){return this.$refs.icon&&(this.$refs.icon.isSameNode(e)||this.$refs.icon.contains(e))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&!this.selfClick&&this.isOutsideClicked(e.target)&&(this.overlayVisible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Io(this.$refs.icon,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!I.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},computed:{containerClass(){return["p-column-filter p-fluid",{"p-column-filter-row":this.display==="row","p-column-filter-menu":this.display==="menu"}]},overlayClass(){return[this.filterMenuClass,{"p-column-filter-overlay p-component p-fluid":!0,"p-column-filter-overlay-menu":this.display==="menu","p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},showMenuButton(){return this.showMenu&&(this.display==="row"?this.type!=="boolean":!0)},overlayId(){return _t()},matchModes(){return this.matchModeOptions||this.$primevue.config.filterMatchModeOptions[this.type].map(e=>({label:this.$primevue.config.locale[e],value:e}))},isShowMatchModes(){return this.type!=="boolean"&&this.showMatchModes&&this.matchModes},operatorOptions(){return[{label:this.$primevue.config.locale.matchAll,value:Un.AND},{label:this.$primevue.config.locale.matchAny,value:Un.OR}]},noFilterLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.noFilter:void 0},isShowOperator(){return this.showOperator&&this.filters[this.field].operator},operator(){return this.filters[this.field].operator},fieldConstraints(){return this.filters[this.field].constraints||[this.filters[this.field]]},showRemoveIcon(){return this.fieldConstraints.length>1},removeRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.removeRule:void 0},addRuleButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.addRule:void 0},isShowAddConstraint(){return this.showAddButton&&this.filters[this.field].operator&&this.fieldConstraints&&this.fieldConstraints.length<this.maxConstraints},clearButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.clear:void 0},applyButtonLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.apply:void 0},filterMenuButtonAriaLabel(){return this.$primevue.config.locale?this.overlayVisible?this.$primevue.config.locale.showFilterMenu:this.$primevue.config.locale.hideFilterMenu:void 0},filterOperatorAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterOperator:void 0},filterConstraintAriaLabel(){return this.$primevue.config.locale?this.$primevue.config.locale.filterConstraint:void 0}},components:{CFDropdown:Hf,CFButton:Lt,Portal:es},directives:{focustrap:gw}};const R5=["aria-label","aria-expanded","aria-controls"],D5=f("span",{class:"pi pi-filter-icon pi-filter"},null,-1),M5=[D5],P5=f("span",{class:"pi pi-filter-slash"},null,-1),H5=[P5],N5=["id","aria-modal"],K5={key:0,class:"p-column-filter-row-items"},V5=["onClick","onKeydown","tabindex"],$5=f("li",{class:"p-column-filter-separator"},null,-1),G5={key:0,class:"p-column-filter-operator"},z5={class:"p-column-filter-constraints"},j5={key:1,class:"p-column-filter-add-rule"},W5={class:"p-column-filter-buttonbar"};function q5(e,t,n,i,s,r){const o=N("CFDropdown"),a=N("CFButton"),l=N("Portal"),A=pt("focustrap");return y(),_("div",{class:P(r.containerClass)},[n.display==="row"?(y(),_("div",Ue({key:0,class:"p-fluid p-column-filter-element"},n.filterInputProps),[(y(),ee(ht(n.filterElement),{field:n.field,filterModel:n.filters[n.field],filterCallback:r.filterCallback},null,8,["field","filterModel","filterCallback"]))],16)):H("",!0),r.showMenuButton?(y(),_("button",{key:1,ref:"icon",type:"button",class:P(["p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":s.overlayVisible,"p-column-filter-menu-button-active":r.hasFilter()}]),"aria-label":r.filterMenuButtonAriaLabel,"aria-haspopup":"true","aria-expanded":s.overlayVisible,"aria-controls":r.overlayId,onClick:t[0]||(t[0]=u=>r.toggleMenu()),onKeydown:t[1]||(t[1]=u=>r.onToggleButtonKeyDown(u))},M5,42,R5)):H("",!0),n.showClearButton&&n.display==="row"?(y(),_("button",{key:2,class:P([{"p-hidden-space":!r.hasRowFilter()},"p-column-filter-clear-button p-link"]),type:"button",onClick:t[2]||(t[2]=u=>r.clearFilter())},H5,2)):H("",!0),b(l,null,{default:O(()=>[b(Dn,{name:"p-connected-overlay",onEnter:r.onOverlayEnter,onLeave:r.onOverlayLeave,onAfterLeave:r.onOverlayAfterLeave},{default:O(()=>[s.overlayVisible?re((y(),_("div",{key:0,ref:r.overlayRef,id:r.overlayId,"aria-modal":s.overlayVisible,role:"dialog",class:P(r.overlayClass),onKeydown:t[10]||(t[10]=Bi((...u)=>r.hide&&r.hide(...u),["escape"])),onClick:t[11]||(t[11]=(...u)=>r.onContentClick&&r.onContentClick(...u)),onMousedown:t[12]||(t[12]=(...u)=>r.onContentMouseDown&&r.onContentMouseDown(...u))},[(y(),ee(ht(n.filterHeaderTemplate),{field:n.field,filterModel:n.filters[n.field],filterCallback:r.filterCallback},null,8,["field","filterModel","filterCallback"])),n.display==="row"?(y(),_("ul",K5,[(y(!0),_(J,null,be(r.matchModes,(u,c)=>(y(),_("li",{key:u.label,class:P(["p-column-filter-row-item",{"p-highlight":r.isRowMatchModeSelected(u.value)}]),onClick:d=>r.onRowMatchModeChange(u.value),onKeydown:[t[3]||(t[3]=d=>r.onRowMatchModeKeyDown(d)),Bi(Jh(d=>r.onRowMatchModeChange(u.value),["prevent"]),["enter"])],tabindex:c===0?"0":null},M(u.label),43,V5))),128)),$5,f("li",{class:"p-column-filter-row-item",onClick:t[4]||(t[4]=u=>r.clearFilter()),onKeydown:[t[5]||(t[5]=u=>r.onRowMatchModeKeyDown(u)),t[6]||(t[6]=Bi(u=>e.onRowClearItemClick(),["enter"]))]},M(r.noFilterLabel),33)])):(y(),_(J,{key:1},[r.isShowOperator?(y(),_("div",G5,[b(o,{options:r.operatorOptions,modelValue:r.operator,"aria-label":r.filterOperatorAriaLabel,class:"p-column-filter-operator-dropdown",optionLabel:"label",optionValue:"value","onUpdate:modelValue":t[7]||(t[7]=u=>r.onOperatorChange(u))},null,8,["options","modelValue","aria-label"])])):H("",!0),f("div",z5,[(y(!0),_(J,null,be(r.fieldConstraints,(u,c)=>(y(),_("div",{key:c,class:"p-column-filter-constraint"},[r.isShowMatchModes?(y(),ee(o,{key:0,options:r.matchModes,modelValue:u.matchMode,class:"p-column-filter-matchmode-dropdown",optionLabel:"label",optionValue:"value","aria-label":r.filterConstraintAriaLabel,"onUpdate:modelValue":d=>r.onMenuMatchModeChange(d,c)},null,8,["options","modelValue","aria-label","onUpdate:modelValue"])):H("",!0),n.display==="menu"?(y(),ee(ht(n.filterElement),{key:1,field:n.field,filterModel:u,filterCallback:r.filterCallback},null,8,["field","filterModel","filterCallback"])):H("",!0),f("div",null,[r.showRemoveIcon?(y(),ee(a,{key:0,type:"button",icon:"pi pi-trash",class:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:d=>r.removeConstraint(c),label:r.removeRuleButtonLabel},null,8,["onClick","label"])):H("",!0)])]))),128))]),r.isShowAddConstraint?(y(),_("div",j5,[b(a,{type:"button",label:r.addRuleButtonLabel,icon:"pi pi-plus",class:"p-column-filter-add-button p-button-text p-button-sm",onClick:t[8]||(t[8]=u=>r.addConstraint())},null,8,["label"])])):H("",!0),f("div",W5,[!n.filterClearTemplate&&n.showClearButton?(y(),ee(a,{key:0,type:"button",class:"p-button-outlined p-button-sm",label:r.clearButtonLabel,onClick:r.clearFilter},null,8,["label","onClick"])):(y(),ee(ht(n.filterClearTemplate),{key:1,field:n.field,filterModel:n.filters[n.field],filterCallback:r.clearFilter},null,8,["field","filterModel","filterCallback"])),n.showApplyButton?(y(),_(J,{key:2},[n.filterApplyTemplate?(y(),ee(ht(n.filterApplyTemplate),{key:1,field:n.field,filterModel:n.filters[n.field],filterCallback:r.applyFilter},null,8,["field","filterModel","filterCallback"])):(y(),ee(a,{key:0,type:"button",class:"p-button-sm",label:r.applyButtonLabel,onClick:t[9]||(t[9]=u=>r.applyFilter())},null,8,["label"]))],64)):H("",!0)])],64)),(y(),ee(ht(n.filterFooterTemplate),{field:n.field,filterModel:n.filters[n.field],filterCallback:r.filterCallback},null,8,["field","filterModel","filterCallback"]))],42,N5)),[[A,{autoFocus:!0}]]):H("",!0)]),_:1},8,["onEnter","onLeave","onAfterLeave"])]),_:1})],2)}mw.render=q5;var yw={name:"HeaderCheckbox",emits:["change"],props:{checked:null,disabled:null},data(){return{focused:!1}},methods:{onClick(e){this.disabled||(this.$emit("change",{originalEvent:e,checked:!this.checked}),I.focus(this.$refs.input))},onFocus(){this.focused=!0},onBlur(){this.focused=!1}},computed:{headerCheckboxAriaLabel(){return this.$primevue.config.locale.aria?this.checked?this.$primevue.config.locale.aria.selectAll:this.$primevue.config.locale.aria.unselectAll:void 0}}};const X5={class:"p-hidden-accessible"},J5=["checked","disabled","tabindex","aria-label"];function Y5(e,t,n,i,s,r){return y(),_("div",{class:P(["p-checkbox p-component",{"p-checkbox-focused":s.focused,"p-disabled":n.disabled}]),onClick:t[2]||(t[2]=(...o)=>r.onClick&&r.onClick(...o)),onKeydown:t[3]||(t[3]=Bi(Jh((...o)=>r.onClick&&r.onClick(...o),["prevent"]),["space"]))},[f("div",X5,[f("input",{ref:"input",type:"checkbox",checked:n.checked,disabled:n.disabled,tabindex:n.disabled?null:"0","aria-label":r.headerCheckboxAriaLabel,onFocus:t[0]||(t[0]=o=>r.onFocus(o)),onBlur:t[1]||(t[1]=o=>r.onBlur(o))},null,40,J5)]),f("div",{ref:"box",class:P(["p-checkbox-box p-component",{"p-highlight":n.checked,"p-disabled":n.disabled,"p-focus":s.focused}])},[f("span",{class:P(["p-checkbox-icon",{"pi pi-check":n.checked}])},null,2)],2)],34)}yw.render=Y5;var gU={name:"HeaderCell",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{column:{type:Object,default:null},resizableColumns:{type:Boolean,default:!1},groupRowsBy:{type:[Array,String,Function],default:null},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},filterColumn:{type:Boolean,default:!1},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},data(){return{styleObject:{}}},mounted(){this.columnProp("frozen")&&this.updateStickyPosition()},updated(){this.columnProp("frozen")&&this.updateStickyPosition()},methods:{columnProp(e){return $.getVNodeProp(this.column,e)},onClick(e){this.$emit("column-click",{originalEvent:e,column:this.column})},onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&e.currentTarget.nodeName==="TH"&&I.hasClass(e.currentTarget,"p-sortable-column")&&(this.$emit("column-click",{originalEvent:e,column:this.column}),e.preventDefault())},onMouseDown(e){this.$emit("column-mousedown",{originalEvent:e,column:this.column})},onDragStart(e){this.$emit("column-dragstart",e)},onDragOver(e){this.$emit("column-dragover",e)},onDragLeave(e){this.$emit("column-dragleave",e)},onDrop(e){this.$emit("column-drop",e)},onResizeStart(e){this.$emit("column-resizestart",e)},getMultiSortMetaIndex(){return this.multiSortMeta.findIndex(e=>e.field===this.columnProp("field")||e.field===this.columnProp("sortField"))},getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.groupRowsBy&&this.groupRowsBy===this.groupRowSortField&&e>-1?e:e+1},isMultiSorted(){return this.sortMode==="multiple"&&this.columnProp("sortable")&&this.getMultiSortMetaIndex()>-1},isColumnSorted(){return this.sortMode==="single"?this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")):this.isMultiSorted()},updateStickyPosition(){if(this.columnProp("frozen")){if(this.columnProp("alignFrozen")==="right"){let n=0,i=this.$el.nextElementSibling;i&&(n=I.getOuterWidth(i)+parseFloat(i.style.right||0)),this.styleObject.right=n+"px"}else{let n=0,i=this.$el.previousElementSibling;i&&(n=I.getOuterWidth(i)+parseFloat(i.style.left||0)),this.styleObject.left=n+"px"}let t=this.$el.parentElement.nextElementSibling;if(t){let n=I.index(this.$el);t.children[n].style.left=this.styleObject.left,t.children[n].style.right=this.styleObject.right}}},onHeaderCheckboxChange(e){this.$emit("checkbox-change",e)}},computed:{containerClass(){return[this.filterColumn?this.columnProp("filterHeaderClass"):this.columnProp("headerClass"),this.columnProp("class"),{"p-sortable-column":this.columnProp("sortable"),"p-resizable-column":this.resizableColumns,"p-highlight":this.isColumnSorted(),"p-filter-column":this.filterColumn,"p-frozen-column":this.columnProp("frozen"),"p-reorderable-column":this.reorderableColumns}]},containerStyle(){let e=this.filterColumn?this.columnProp("filterHeaderStyle"):this.columnProp("headerStyle"),t=this.columnProp("style");return this.columnProp("frozen")?[t,e,this.styleObject]:[t,e]},sortableColumnIcon(){let e=!1,t=null;if(this.sortMode==="single")e=this.sortField&&(this.sortField===this.columnProp("field")||this.sortField===this.columnProp("sortField")),t=e?this.sortOrder:0;else if(this.sortMode==="multiple"){let n=this.getMultiSortMetaIndex();n>-1&&(e=!0,t=this.multiSortMeta[n].order)}return["p-sortable-column-icon pi pi-fw",{"pi-sort-alt":!e,"pi-sort-amount-up-alt":e&&t>0,"pi-sort-amount-down":e&&t<0}]},ariaSort(){if(this.columnProp("sortable")){const e=this.sortableColumnIcon;return e[1]["pi-sort-amount-down"]?"descending":e[1]["pi-sort-amount-up-alt"]?"ascending":"none"}else return null}},components:{DTHeaderCheckbox:yw,DTColumnFilter:mw}};const Z5=["tabindex","colspan","rowspan","aria-sort"],e6={class:"p-column-header-content"},t6={key:1,class:"p-column-title"},n6={key:3,class:"p-sortable-column-badge"};function i6(e,t,n,i,s,r){const o=N("DTHeaderCheckbox"),a=N("DTColumnFilter");return y(),_("th",{style:Re(r.containerStyle),class:P(r.containerClass),tabindex:r.columnProp("sortable")?"0":null,role:"columnheader",colspan:r.columnProp("colspan"),rowspan:r.columnProp("rowspan"),"aria-sort":r.ariaSort,onClick:t[8]||(t[8]=(...l)=>r.onClick&&r.onClick(...l)),onKeydown:t[9]||(t[9]=(...l)=>r.onKeyDown&&r.onKeyDown(...l)),onMousedown:t[10]||(t[10]=(...l)=>r.onMouseDown&&r.onMouseDown(...l)),onDragstart:t[11]||(t[11]=(...l)=>r.onDragStart&&r.onDragStart(...l)),onDragover:t[12]||(t[12]=(...l)=>r.onDragOver&&r.onDragOver(...l)),onDragleave:t[13]||(t[13]=(...l)=>r.onDragLeave&&r.onDragLeave(...l)),onDrop:t[14]||(t[14]=(...l)=>r.onDrop&&r.onDrop(...l))},[n.resizableColumns&&!r.columnProp("frozen")?(y(),_("span",{key:0,class:"p-column-resizer",onMousedown:t[0]||(t[0]=(...l)=>r.onResizeStart&&r.onResizeStart(...l))},null,32)):H("",!0),f("div",e6,[n.column.children&&n.column.children.header?(y(),ee(ht(n.column.children.header),{key:0,column:n.column},null,8,["column"])):H("",!0),r.columnProp("header")?(y(),_("span",t6,M(r.columnProp("header")),1)):H("",!0),r.columnProp("sortable")?(y(),_("span",{key:2,class:P(r.sortableColumnIcon)},null,2)):H("",!0),r.isMultiSorted()?(y(),_("span",n6,M(r.getBadgeValue()),1)):H("",!0),r.columnProp("selectionMode")==="multiple"&&n.filterDisplay!=="row"?(y(),ee(o,{key:4,checked:n.allRowsSelected,onChange:r.onHeaderCheckboxChange,disabled:n.empty},null,8,["checked","onChange","disabled"])):H("",!0),n.filterDisplay==="menu"&&n.column.children&&n.column.children.filter?(y(),ee(a,{key:5,field:r.columnProp("filterField")||r.columnProp("field"),type:r.columnProp("dataType"),display:"menu",showMenu:r.columnProp("showFilterMenu"),filterElement:n.column.children&&n.column.children.filter,filterHeaderTemplate:n.column.children&&n.column.children.filterheader,filterFooterTemplate:n.column.children&&n.column.children.filterfooter,filterClearTemplate:n.column.children&&n.column.children.filterclear,filterApplyTemplate:n.column.children&&n.column.children.filterapply,filters:n.filters,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[1]||(t[1]=l=>e.$emit("filter-change",l)),onFilterApply:t[2]||(t[2]=l=>e.$emit("filter-apply")),filterMenuStyle:r.columnProp("filterMenuStyle"),filterMenuClass:r.columnProp("filterMenuClass"),showOperator:r.columnProp("showFilterOperator"),showClearButton:r.columnProp("showClearButton"),showApplyButton:r.columnProp("showApplyButton"),showMatchModes:r.columnProp("showFilterMatchModes"),showAddButton:r.columnProp("showAddButton"),matchModeOptions:r.columnProp("filterMatchModeOptions"),maxConstraints:r.columnProp("maxConstraints"),onOperatorChange:t[3]||(t[3]=l=>e.$emit("operator-change",l)),onMatchmodeChange:t[4]||(t[4]=l=>e.$emit("matchmode-change",l)),onConstraintAdd:t[5]||(t[5]=l=>e.$emit("constraint-add",l)),onConstraintRemove:t[6]||(t[6]=l=>e.$emit("constraint-remove",l)),onApplyClick:t[7]||(t[7]=l=>e.$emit("apply-click",l))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):H("",!0)])],46,Z5)}gU.render=i6;var mU={name:"TableHeader",emits:["column-click","column-mousedown","column-dragstart","column-dragover","column-dragleave","column-drop","column-resizestart","checkbox-change","filter-change","filter-apply","operator-change","matchmode-change","constraint-add","constraint-remove","filter-clear","apply-click"],props:{columnGroup:{type:null,default:null},columns:{type:null,default:null},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},resizableColumns:{type:Boolean,default:!1},allRowsSelected:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},sortMode:{type:String,default:"single"},groupRowSortField:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},multiSortMeta:{type:Array,default:null},filterDisplay:{type:String,default:null},filters:{type:Object,default:null},filtersStore:{type:Object,default:null},reorderableColumns:{type:Boolean,default:!1},filterInputProps:{type:null,default:null}},methods:{columnProp(e,t){return $.getVNodeProp(e,t)},getFilterColumnHeaderClass(e){return["p-filter-column",this.columnProp(e,"filterHeaderClass"),this.columnProp(e,"class"),{"p-frozen-column":this.columnProp(e,"frozen")}]},getFilterColumnHeaderStyle(e){return[this.columnProp(e,"filterHeaderStyle"),this.columnProp(e,"style")]},getHeaderRows(){let e=[],t=this.columnGroup;if(t.children&&t.children.default){for(let n of t.children.default())n.type.name==="Row"?e.push(n):n.children&&n.children instanceof Array&&(e=n.children);return e}},getHeaderColumns(e){let t=[];if(e.children&&e.children.default)return e.children.default().forEach(n=>{n.children&&n.children instanceof Array?t=[...t,...n.children]:n.type.name==="Column"&&t.push(n)}),t}},components:{DTHeaderCell:gU,DTHeaderCheckbox:yw,DTColumnFilter:mw}};const s6={class:"p-datatable-thead",role:"rowgroup"},r6={role:"row"},o6={key:0,role:"row"};function a6(e,t,n,i,s,r){const o=N("DTHeaderCell"),a=N("DTHeaderCheckbox"),l=N("DTColumnFilter");return y(),_("thead",s6,[n.columnGroup?(y(!0),_(J,{key:1},be(r.getHeaderRows(),(A,u)=>(y(),_("tr",{key:u,role:"row"},[(y(!0),_(J,null,be(r.getHeaderColumns(A),(c,d)=>(y(),_(J,{key:r.columnProp(c,"columnKey")||r.columnProp(c,"field")||d},[!r.columnProp(c,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==r.columnProp(c,"field"))&&typeof c.children!="string"?(y(),ee(o,{key:0,column:c,onColumnClick:t[23]||(t[23]=h=>e.$emit("column-click",h)),onColumnMousedown:t[24]||(t[24]=h=>e.$emit("column-mousedown",h)),groupRowsBy:n.groupRowsBy,groupRowSortField:n.groupRowSortField,sortMode:n.sortMode,sortField:n.sortField,sortOrder:n.sortOrder,multiSortMeta:n.multiSortMeta,allRowsSelected:n.allRowsSelected,empty:n.empty,onCheckboxChange:t[25]||(t[25]=h=>e.$emit("checkbox-change",h)),filters:n.filters,filterDisplay:n.filterDisplay,filtersStore:n.filtersStore,onFilterChange:t[26]||(t[26]=h=>e.$emit("filter-change",h)),onFilterApply:t[27]||(t[27]=h=>e.$emit("filter-apply")),onOperatorChange:t[28]||(t[28]=h=>e.$emit("operator-change",h)),onMatchmodeChange:t[29]||(t[29]=h=>e.$emit("matchmode-change",h)),onConstraintAdd:t[30]||(t[30]=h=>e.$emit("constraint-add",h)),onConstraintRemove:t[31]||(t[31]=h=>e.$emit("constraint-remove",h)),onApplyClick:t[32]||(t[32]=h=>e.$emit("apply-click",h))},null,8,["column","groupRowsBy","groupRowSortField","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore"])):H("",!0)],64))),128))]))),128)):(y(),_(J,{key:0},[f("tr",r6,[(y(!0),_(J,null,be(n.columns,(A,u)=>(y(),_(J,{key:r.columnProp(A,"columnKey")||r.columnProp(A,"field")||u},[!r.columnProp(A,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==r.columnProp(A,"field"))?(y(),ee(o,{key:0,column:A,onColumnClick:t[0]||(t[0]=c=>e.$emit("column-click",c)),onColumnMousedown:t[1]||(t[1]=c=>e.$emit("column-mousedown",c)),onColumnDragstart:t[2]||(t[2]=c=>e.$emit("column-dragstart",c)),onColumnDragover:t[3]||(t[3]=c=>e.$emit("column-dragover",c)),onColumnDragleave:t[4]||(t[4]=c=>e.$emit("column-dragleave",c)),onColumnDrop:t[5]||(t[5]=c=>e.$emit("column-drop",c)),groupRowsBy:n.groupRowsBy,groupRowSortField:n.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,onColumnResizestart:t[6]||(t[6]=c=>e.$emit("column-resizestart",c)),sortMode:n.sortMode,sortField:n.sortField,sortOrder:n.sortOrder,multiSortMeta:n.multiSortMeta,allRowsSelected:n.allRowsSelected,empty:n.empty,onCheckboxChange:t[7]||(t[7]=c=>e.$emit("checkbox-change",c)),filters:n.filters,filterDisplay:n.filterDisplay,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[8]||(t[8]=c=>e.$emit("filter-change",c)),onFilterApply:t[9]||(t[9]=c=>e.$emit("filter-apply")),onOperatorChange:t[10]||(t[10]=c=>e.$emit("operator-change",c)),onMatchmodeChange:t[11]||(t[11]=c=>e.$emit("matchmode-change",c)),onConstraintAdd:t[12]||(t[12]=c=>e.$emit("constraint-add",c)),onConstraintRemove:t[13]||(t[13]=c=>e.$emit("constraint-remove",c)),onApplyClick:t[14]||(t[14]=c=>e.$emit("apply-click",c))},null,8,["column","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","sortMode","sortField","sortOrder","multiSortMeta","allRowsSelected","empty","filters","filterDisplay","filtersStore","filterInputProps"])):H("",!0)],64))),128))]),n.filterDisplay==="row"?(y(),_("tr",o6,[(y(!0),_(J,null,be(n.columns,(A,u)=>(y(),_(J,{key:r.columnProp(A,"columnKey")||r.columnProp(A,"field")||u},[!r.columnProp(A,"hidden")&&(n.rowGroupMode!=="subheader"||n.groupRowsBy!==r.columnProp(A,"field"))?(y(),_("th",{key:0,style:Re(r.getFilterColumnHeaderStyle(A)),class:P(r.getFilterColumnHeaderClass(A))},[r.columnProp(A,"selectionMode")==="multiple"?(y(),ee(a,{key:0,checked:n.allRowsSelected,disabled:n.empty,onChange:t[15]||(t[15]=c=>e.$emit("checkbox-change",c))},null,8,["checked","disabled"])):H("",!0),A.children&&A.children.filter?(y(),ee(l,{key:1,field:r.columnProp(A,"filterField")||r.columnProp(A,"field"),type:r.columnProp(A,"dataType"),display:"row",showMenu:r.columnProp(A,"showFilterMenu"),filterElement:A.children&&A.children.filter,filterHeaderTemplate:A.children&&A.children.filterheader,filterFooterTemplate:A.children&&A.children.filterfooter,filterClearTemplate:A.children&&A.children.filterclear,filterApplyTemplate:A.children&&A.children.filterapply,filters:n.filters,filtersStore:n.filtersStore,filterInputProps:n.filterInputProps,onFilterChange:t[16]||(t[16]=c=>e.$emit("filter-change",c)),onFilterApply:t[17]||(t[17]=c=>e.$emit("filter-apply")),filterMenuStyle:r.columnProp(A,"filterMenuStyle"),filterMenuClass:r.columnProp(A,"filterMenuClass"),showOperator:r.columnProp(A,"showFilterOperator"),showClearButton:r.columnProp(A,"showClearButton"),showApplyButton:r.columnProp(A,"showApplyButton"),showMatchModes:r.columnProp(A,"showFilterMatchModes"),showAddButton:r.columnProp(A,"showAddButton"),matchModeOptions:r.columnProp(A,"filterMatchModeOptions"),maxConstraints:r.columnProp(A,"maxConstraints"),onOperatorChange:t[18]||(t[18]=c=>e.$emit("operator-change",c)),onMatchmodeChange:t[19]||(t[19]=c=>e.$emit("matchmode-change",c)),onConstraintAdd:t[20]||(t[20]=c=>e.$emit("constraint-add",c)),onConstraintRemove:t[21]||(t[21]=c=>e.$emit("constraint-remove",c)),onApplyClick:t[22]||(t[22]=c=>e.$emit("apply-click",c))},null,8,["field","type","showMenu","filterElement","filterHeaderTemplate","filterFooterTemplate","filterClearTemplate","filterApplyTemplate","filters","filtersStore","filterInputProps","filterMenuStyle","filterMenuClass","showOperator","showClearButton","showApplyButton","showMatchModes","showAddButton","matchModeOptions","maxConstraints"])):H("",!0)],6)):H("",!0)],64))),128))])):H("",!0)],64))])}mU.render=a6;var ts={name:"DataTable",emits:["value-change","update:first","update:rows","page","update:sortField","update:sortOrder","update:multiSortMeta","sort","filter","row-click","row-dblclick","update:selection","row-select","row-unselect","update:contextMenuSelection","row-contextmenu","row-unselect-all","row-select-all","select-all-change","column-resize-end","column-reorder","row-reorder","update:expandedRows","row-collapse","row-expand","update:expandedRowGroups","rowgroup-collapse","rowgroup-expand","update:filters","state-restore","state-save","cell-edit-init","cell-edit-complete","cell-edit-cancel","update:editingRows","row-edit-init","row-edit-save","row-edit-cancel"],props:{value:{type:Array,default:null},dataKey:{type:[String,Function],default:null},rows:{type:Number,default:0},first:{type:Number,default:0},totalRecords:{type:Number,default:0},paginator:{type:Boolean,default:!1},paginatorPosition:{type:String,default:"bottom"},alwaysShowPaginator:{type:Boolean,default:!0},paginatorTemplate:{type:[Object,String],default:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown"},pageLinkSize:{type:Number,default:5},rowsPerPageOptions:{type:Array,default:null},currentPageReportTemplate:{type:String,default:"({currentPage} of {totalPages})"},lazy:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner"},sortField:{type:[String,Function],default:null},sortOrder:{type:Number,default:null},defaultSortOrder:{type:Number,default:1},multiSortMeta:{type:Array,default:null},sortMode:{type:String,default:"single"},removableSort:{type:Boolean,default:!1},filters:{type:Object,default:null},filterDisplay:{type:String,default:null},globalFilterFields:{type:Array,default:null},filterLocale:{type:String,default:void 0},selection:{type:[Array,Object],default:null},selectionMode:{type:String,default:null},compareSelectionBy:{type:String,default:"deepEquals"},metaKeySelection:{type:Boolean,default:!0},contextMenu:{type:Boolean,default:!1},contextMenuSelection:{type:Object,default:null},selectAll:{type:Boolean,default:null},rowHover:{type:Boolean,default:!1},csvSeparator:{type:String,default:","},exportFilename:{type:String,default:"download"},exportFunction:{type:Function,default:null},resizableColumns:{type:Boolean,default:!1},columnResizeMode:{type:String,default:"fit"},reorderableColumns:{type:Boolean,default:!1},expandedRows:{type:Array,default:null},expandedRowIcon:{type:String,default:"pi-chevron-down"},collapsedRowIcon:{type:String,default:"pi-chevron-right"},rowGroupMode:{type:String,default:null},groupRowsBy:{type:[Array,String,Function],default:null},expandableRowGroups:{type:Boolean,default:!1},expandedRowGroups:{type:Array,default:null},stateStorage:{type:String,default:"session"},stateKey:{type:String,default:null},editMode:{type:String,default:null},editingRows:{type:Array,default:null},rowClass:{type:null,default:null},rowStyle:{type:null,default:null},scrollable:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},scrollHeight:{type:String,default:null},frozenValue:{type:Array,default:null},responsiveLayout:{type:String,default:"scroll"},breakpoint:{type:String,default:"960px"},showGridlines:{type:Boolean,default:!1},stripedRows:{type:Boolean,default:!1},tableStyle:{type:null,default:null},tableClass:{type:String,default:null},tableProps:{type:null,default:null},filterInputProps:{type:null,default:null}},data(){return{d_first:this.first,d_rows:this.rows,d_sortField:this.sortField,d_sortOrder:this.sortOrder,d_multiSortMeta:this.multiSortMeta?[...this.multiSortMeta]:[],d_groupRowsSortMeta:null,d_selectionKeys:null,d_expandedRowKeys:null,d_columnOrder:null,d_editingRowKeys:null,d_editingMeta:{},d_filters:this.cloneFilters(this.filters)}},rowTouched:!1,anchorRowIndex:null,rangeRowIndex:null,documentColumnResizeListener:null,documentColumnResizeEndListener:null,lastResizeHelperX:null,resizeColumnElement:null,columnResizing:!1,colReorderIconWidth:null,colReorderIconHeight:null,draggedColumn:null,draggedRowIndex:null,droppedRowIndex:null,rowDragging:null,columnWidthsState:null,tableWidthState:null,columnWidthsRestored:!1,watch:{first(e){this.d_first=e},rows(e){this.d_rows=e},sortField(e){this.d_sortField=e},sortOrder(e){this.d_sortOrder=e},multiSortMeta(e){this.d_multiSortMeta=e},selection:{immediate:!0,handler(e){this.dataKey&&this.updateSelectionKeys(e)}},expandedRows(e){this.dataKey&&this.updateExpandedRowKeys(e)},editingRows(e){this.dataKey&&this.updateEditingRowKeys(e)},filters:{deep:!0,handler:function(e){this.d_filters=this.cloneFilters(e)}}},beforeMount(){this.isStateful()&&this.restoreState()},mounted(){this.$el.setAttribute(this.attributeSelector,""),this.responsiveLayout==="stack"&&!this.scrollable&&this.createResponsiveStyle(),this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},beforeUnmount(){this.unbindColumnResizeEvents(),this.destroyStyleElement(),this.destroyResponsiveStyle()},updated(){this.isStateful()&&this.saveState(),this.editMode==="row"&&this.dataKey&&!this.d_editingRowKeys&&this.updateEditingRowKeys(this.editingRows)},methods:{columnProp(e,t){return $.getVNodeProp(e,t)},onPage(e){this.clearEditingMetaData(),this.d_first=e.first,this.d_rows=e.rows;let t=this.createLazyLoadEvent(e);t.pageCount=e.pageCount,t.page=e.page,this.$emit("update:first",this.d_first),this.$emit("update:rows",this.d_rows),this.$emit("page",t),this.$emit("value-change",this.processedData)},onColumnHeaderClick(e){const t=e.originalEvent,n=e.column;if(this.columnProp(n,"sortable")){const i=t.target,s=this.columnProp(n,"sortField")||this.columnProp(n,"field");(I.hasClass(i,"p-sortable-column")||I.hasClass(i,"p-column-title")||I.hasClass(i,"p-column-header-content")||I.hasClass(i,"p-sortable-column-icon")||I.hasClass(i.parentElement,"p-sortable-column-icon"))&&(I.clearSelection(),this.sortMode==="single"?(this.d_sortField===s?this.removableSort&&this.d_sortOrder*-1===this.defaultSortOrder?(this.d_sortOrder=null,this.d_sortField=null):this.d_sortOrder=this.d_sortOrder*-1:(this.d_sortOrder=this.defaultSortOrder,this.d_sortField=s),this.$emit("update:sortField",this.d_sortField),this.$emit("update:sortOrder",this.d_sortOrder),this.resetPage()):this.sortMode==="multiple"&&(t.metaKey||t.ctrlKey||(this.d_multiSortMeta=this.d_multiSortMeta.filter(o=>o.field===s)),this.addMultiSortField(s),this.$emit("update:multiSortMeta",this.d_multiSortMeta)),this.$emit("sort",this.createLazyLoadEvent(t)),this.$emit("value-change",this.processedData))}},sortSingle(e){if(this.clearEditingMetaData(),this.groupRowsBy&&this.groupRowsBy===this.sortField)return this.d_multiSortMeta=[{field:this.sortField,order:this.sortOrder||this.defaultSortOrder},{field:this.d_sortField,order:this.d_sortOrder}],this.sortMultiple(e);let t=[...e];return t.sort((n,i)=>{let s=$.resolveFieldData(n,this.d_sortField),r=$.resolveFieldData(i,this.d_sortField),o=null;return s==null&&r!=null?o=-1:s!=null&&r==null?o=1:s==null&&r==null?o=0:typeof s=="string"&&typeof r=="string"?o=s.localeCompare(r,void 0,{numeric:!0}):o=s<r?-1:s>r?1:0,this.d_sortOrder*o}),t},sortMultiple(e){if(this.clearEditingMetaData(),this.groupRowsBy&&(this.d_groupRowsSortMeta||this.d_multiSortMeta.length&&this.groupRowsBy===this.d_multiSortMeta[0].field)){const n=this.d_multiSortMeta[0];!this.d_groupRowsSortMeta&&(this.d_groupRowsSortMeta=n),n.field!==this.d_groupRowsSortMeta.field&&(this.d_multiSortMeta=[this.d_groupRowsSortMeta,...this.d_multiSortMeta])}let t=[...e];return t.sort((n,i)=>this.multisortField(n,i,0)),t},multisortField(e,t,n){const i=$.resolveFieldData(e,this.d_multiSortMeta[n].field),s=$.resolveFieldData(t,this.d_multiSortMeta[n].field);let r=null;if(typeof i=="string"||i instanceof String){if(i.localeCompare&&i!==s)return this.d_multiSortMeta[n].order*i.localeCompare(s,void 0,{numeric:!0})}else r=i<s?-1:1;return i===s?this.d_multiSortMeta.length-1>n?this.multisortField(e,t,n+1):0:this.d_multiSortMeta[n].order*r},addMultiSortField(e){let t=this.d_multiSortMeta.findIndex(n=>n.field===e);t>=0?this.removableSort&&this.d_multiSortMeta[t].order*-1===this.defaultSortOrder?this.d_multiSortMeta.splice(t,1):this.d_multiSortMeta[t]={field:e,order:this.d_multiSortMeta[t].order*-1}:this.d_multiSortMeta.push({field:e,order:this.defaultSortOrder}),this.d_multiSortMeta=[...this.d_multiSortMeta]},filter(e){if(!e)return;this.clearEditingMetaData();let t;this.filters.global&&(t=this.globalFilterFields||this.columns.map(s=>this.columnProp(s,"filterField")||this.columnProp(s,"field")));let n=[];for(let s=0;s<e.length;s++){let r=!0,o=!1,a=!1;for(let A in this.filters)if(Object.prototype.hasOwnProperty.call(this.filters,A)&&A!=="global"){a=!0;let u=A,c=this.filters[u];if(c.operator){for(let d of c.constraints)if(r=this.executeLocalFilter(u,e[s],d),c.operator===Un.OR&&r||c.operator===Un.AND&&!r)break}else r=this.executeLocalFilter(u,e[s],c);if(!r)break}if(this.filters.global&&!o&&t)for(let A=0;A<t.length;A++){let u=t[A];if(o=eh.filters[this.filters.global.matchMode||ze.CONTAINS]($.resolveFieldData(e[s],u),this.filters.global.value,this.filterLocale),o)break}let l;this.filters.global?l=a?a&&r&&o:o:l=a&&r,l&&n.push(e[s])}n.length===this.value.length&&(n=e);let i=this.createLazyLoadEvent();return i.filteredValue=n,this.$emit("filter",i),this.$emit("value-change",n),n},executeLocalFilter(e,t,n){let i=n.value,s=n.matchMode||ze.STARTS_WITH,r=$.resolveFieldData(t,e),o=eh.filters[s];return o(r,i,this.filterLocale)},onRowClick(e){const t=e.originalEvent,n=e.index,i=this.$refs.bodyRef&&this.$refs.bodyRef.$el,s=I.findSingle(i,'tr.p-selectable-row[tabindex="0"]');if(!I.isClickable(t.target)){if(this.$emit("row-click",e),this.selectionMode){const r=e.data,o=this.d_first+e.index;if(this.isMultipleSelectionMode()&&t.shiftKey&&this.anchorRowIndex!=null)I.clearSelection(),this.rangeRowIndex=o,this.selectRange(t);else{const a=this.isSelected(r),l=this.rowTouched?!1:this.metaKeySelection;if(this.anchorRowIndex=o,this.rangeRowIndex=o,l){let A=t.metaKey||t.ctrlKey;if(a&&A){if(this.isSingleSelectionMode())this.$emit("update:selection",null);else{const u=this.findIndexInSelection(r),c=this.selection.filter((d,h)=>h!=u);this.$emit("update:selection",c)}this.$emit("row-unselect",{originalEvent:t,data:r,index:o,type:"row"})}else{if(this.isSingleSelectionMode())this.$emit("update:selection",r);else if(this.isMultipleSelectionMode()){let u=A?this.selection||[]:[];u=[...u,r],this.$emit("update:selection",u)}this.$emit("row-select",{originalEvent:t,data:r,index:o,type:"row"})}}else if(this.selectionMode==="single")a?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:t,data:r,index:o,type:"row"})):(this.$emit("update:selection",r),this.$emit("row-select",{originalEvent:t,data:r,index:o,type:"row"}));else if(this.selectionMode==="multiple")if(a){const A=this.findIndexInSelection(r),u=this.selection.filter((c,d)=>d!=A);this.$emit("update:selection",u),this.$emit("row-unselect",{originalEvent:t,data:r,index:o,type:"row"})}else{const A=this.selection?[...this.selection,r]:[r];this.$emit("update:selection",A),this.$emit("row-select",{originalEvent:t,data:r,index:o,type:"row"})}}}this.rowTouched=!1,s&&(s.tabIndex="-1",I.find(i,"tr.p-selectable-row")[n].tabIndex="0")}},onRowDblClick(e){const t=e.originalEvent;I.isClickable(t.target)||this.$emit("row-dblclick",e)},onRowRightClick(e){I.clearSelection(),e.originalEvent.target.focus(),this.$emit("update:contextMenuSelection",e.data),this.$emit("row-contextmenu",e)},onRowTouchEnd(){this.rowTouched=!0},onRowKeyDown(e,t){const n=e.originalEvent,i=e.data,s=e.index,r=n.metaKey||n.ctrlKey;if(this.selectionMode){const o=n.target;switch(n.code){case"ArrowDown":this.onArrowDownKey(n,o,s,t);break;case"ArrowUp":this.onArrowUpKey(n,o,s,t);break;case"Home":this.onHomeKey(n,o,s,t);break;case"End":this.onEndKey(n,o,s,t);break;case"Enter":this.onEnterKey(n,i,s);break;case"Space":this.onSpaceKey(n,i,s,t);break;case"Tab":this.onTabKey(n,s);break;default:if(n.code==="KeyA"&&r){const a=this.dataToRender(t.rows);this.$emit("update:selection",a)}break}}},onArrowDownKey(e,t,n,i){const s=this.findNextSelectableRow(t);if(s&&this.focusRowChange(t,s),e.shiftKey){const r=this.dataToRender(i.rows),o=n+1>=r.length?r.length-1:n+1;this.onRowClick({originalEvent:e,data:r[o],index:o})}e.preventDefault()},onArrowUpKey(e,t,n,i){const s=this.findPrevSelectableRow(t);if(s&&this.focusRowChange(t,s),e.shiftKey){const r=this.dataToRender(i.rows),o=n-1<=0?0:n-1;this.onRowClick({originalEvent:e,data:r[o],index:o})}e.preventDefault()},onHomeKey(e,t,n,i){const s=this.findFirstSelectableRow();if(s&&this.focusRowChange(t,s),e.ctrlKey&&e.shiftKey){const r=this.dataToRender(i.rows);this.$emit("update:selection",r.slice(0,n+1))}e.preventDefault()},onEndKey(e,t,n,i){const s=this.findLastSelectableRow();if(s&&this.focusRowChange(t,s),e.ctrlKey&&e.shiftKey){const r=this.dataToRender(i.rows);this.$emit("update:selection",r.slice(n,r.length))}e.preventDefault()},onEnterKey(e,t,n){this.onRowClick({originalEvent:e,data:t,index:n}),e.preventDefault()},onSpaceKey(e,t,n,i){if(this.onEnterKey(e,t,n),e.shiftKey&&this.selection!==null){const s=this.dataToRender(i.rows);let r;if(this.selection.length>0){let a,l;a=$.findIndexInList(this.selection[0],s),l=$.findIndexInList(this.selection[this.selection.length-1],s),r=n<=a?l:a}else r=$.findIndexInList(this.selection,s);const o=r!==n?s.slice(Math.min(r,n),Math.max(r,n)+1):t;this.$emit("update:selection",o)}},onTabKey(e,t){const n=this.$refs.bodyRef&&this.$refs.bodyRef.$el,i=I.find(n,"tr.p-selectable-row");if(e.code==="Tab"&&i&&i.length>0){const s=I.findSingle(n,"tr.p-highlight"),r=I.findSingle(n,'tr.p-selectable-row[tabindex="0"]');s?(s.tabIndex="0",r&&r!==s&&(r.tabIndex="-1")):(i[0].tabIndex="0",r!==i[0]&&(i[t].tabIndex="-1"))}},findNextSelectableRow(e){let t=e.nextElementSibling;return t?I.hasClass(t,"p-selectable-row")?t:this.findNextSelectableRow(t):null},findPrevSelectableRow(e){let t=e.previousElementSibling;return t?I.hasClass(t,"p-selectable-row")?t:this.findPrevSelectableRow(t):null},findFirstSelectableRow(){return I.findSingle(this.$refs.table,".p-selectable-row")},findLastSelectableRow(){const e=I.find(this.$refs.table,".p-selectable-row");return e?e[e.length-1]:null},focusRowChange(e,t){e.tabIndex="-1",t.tabIndex="0",I.focus(t)},toggleRowWithRadio(e){const t=e.data;this.isSelected(t)?(this.$emit("update:selection",null),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"})):(this.$emit("update:selection",t),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"radiobutton"}))},toggleRowWithCheckbox(e){const t=e.data;if(this.isSelected(t)){const n=this.findIndexInSelection(t),i=this.selection.filter((s,r)=>r!=n);this.$emit("update:selection",i),this.$emit("row-unselect",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}else{let n=this.selection?[...this.selection]:[];n=[...n,t],this.$emit("update:selection",n),this.$emit("row-select",{originalEvent:e.originalEvent,data:t,index:e.index,type:"checkbox"})}},toggleRowsWithCheckbox(e){if(this.selectAll!==null)this.$emit("select-all-change",e);else{const{originalEvent:t,checked:n}=e;let i=[];n?(i=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData,this.$emit("row-select-all",{originalEvent:t,data:i})):this.$emit("row-unselect-all",{originalEvent:t}),this.$emit("update:selection",i)}},isSingleSelectionMode(){return this.selectionMode==="single"},isMultipleSelectionMode(){return this.selectionMode==="multiple"},isSelected(e){return e&&this.selection?this.dataKey?this.d_selectionKeys?this.d_selectionKeys[$.resolveFieldData(e,this.dataKey)]!==void 0:!1:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1},findIndexInSelection(e){return this.findIndex(e,this.selection)},findIndex(e,t){let n=-1;if(t&&t.length){for(let i=0;i<t.length;i++)if(this.equals(e,t[i])){n=i;break}}return n},updateSelectionKeys(e){if(this.d_selectionKeys={},Array.isArray(e))for(let t of e)this.d_selectionKeys[String($.resolveFieldData(t,this.dataKey))]=1;else this.d_selectionKeys[String($.resolveFieldData(e,this.dataKey))]=1},updateExpandedRowKeys(e){if(e&&e.length){this.d_expandedRowKeys={};for(let t of e)this.d_expandedRowKeys[String($.resolveFieldData(t,this.dataKey))]=1}else this.d_expandedRowKeys=null},updateEditingRowKeys(e){if(e&&e.length){this.d_editingRowKeys={};for(let t of e)this.d_editingRowKeys[String($.resolveFieldData(t,this.dataKey))]=1}else this.d_editingRowKeys=null},equals(e,t){return this.compareSelectionBy==="equals"?e===t:$.equals(e,t,this.dataKey)},selectRange(e){let t,n;this.rangeRowIndex>this.anchorRowIndex?(t=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(t=this.rangeRowIndex,n=this.anchorRowIndex):(t=this.rangeRowIndex,n=this.rangeRowIndex),this.lazy&&this.paginator&&(t-=this.first,n-=this.first);const i=this.processedData;let s=[];for(let r=t;r<=n;r++){let o=i[r];s.push(o),this.$emit("row-select",{originalEvent:e,data:o,type:"row"})}this.$emit("update:selection",s)},exportCSV(e,t){let n="\uFEFF";t||(t=this.processedData,e&&e.selectionOnly?t=this.selection||[]:this.frozenValue&&(t=t?[...this.frozenValue,...t]:this.frozenValue));let i=!1;for(let r=0;r<this.columns.length;r++){let o=this.columns[r];this.columnProp(o,"exportable")!==!1&&this.columnProp(o,"field")&&(i?n+=this.csvSeparator:i=!0,n+='"'+(this.columnProp(o,"exportHeader")||this.columnProp(o,"header")||this.columnProp(o,"field"))+'"')}t&&t.forEach(r=>{n+=`
`;let o=!1;for(let a=0;a<this.columns.length;a++){let l=this.columns[a];if(this.columnProp(l,"exportable")!==!1&&this.columnProp(l,"field")){o?n+=this.csvSeparator:o=!0;let A=$.resolveFieldData(r,this.columnProp(l,"field"));A!=null?this.exportFunction?A=this.exportFunction({data:A,field:this.columnProp(l,"field")}):A=String(A).replace(/"/g,'""'):A="",n+='"'+A+'"'}}});let s=!1;for(let r=0;r<this.columns.length;r++){let o=this.columns[r];r===0&&(n+=`
`),this.columnProp(o,"exportable")!==!1&&this.columnProp(o,"exportFooter")&&(s?n+=this.csvSeparator:s=!0,n+='"'+(this.columnProp(o,"exportFooter")||this.columnProp(o,"footer")||this.columnProp(o,"field"))+'"')}I.exportCSV(n,this.exportFilename)},resetPage(){this.d_first=0,this.$emit("update:first",this.d_first)},onColumnResizeStart(e){let t=I.getOffset(this.$el).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizeHelperX=e.pageX-t+this.$el.scrollLeft,this.bindColumnResizeEvents()},onColumnResize(e){let t=I.getOffset(this.$el).left;I.addClass(this.$el,"p-unselectable-text"),this.$refs.resizeHelper.style.height=this.$el.offsetHeight+"px",this.$refs.resizeHelper.style.top=0+"px",this.$refs.resizeHelper.style.left=e.pageX-t+this.$el.scrollLeft+"px",this.$refs.resizeHelper.style.display="block"},onColumnResizeEnd(){let e=this.$refs.resizeHelper.offsetLeft-this.lastResizeHelperX,t=this.resizeColumnElement.offsetWidth,n=t+e,i=this.resizeColumnElement.style.minWidth||15;if(t+e>parseInt(i,10)){if(this.columnResizeMode==="fit"){let r=this.resizeColumnElement.nextElementSibling.offsetWidth-e;n>15&&r>15&&this.resizeTableCells(n,r)}else if(this.columnResizeMode==="expand"){const s=this.$refs.table.offsetWidth+e+"px",r=o=>{o&&(o.style.width=o.style.minWidth=s)};if(r(this.$refs.table),!this.virtualScrollerDisabled){const o=this.$refs.bodyRef&&this.$refs.bodyRef.$el,a=this.$refs.frozenBodyRef&&this.$refs.frozenBodyRef.$el;r(o),r(a)}this.resizeTableCells(n)}this.$emit("column-resize-end",{element:this.resizeColumnElement,delta:e})}this.$refs.resizeHelper.style.display="none",this.resizeColumn=null,I.removeClass(this.$el,"p-unselectable-text"),this.unbindColumnResizeEvents(),this.isStateful()&&this.saveState()},resizeTableCells(e,t){let n=I.index(this.resizeColumnElement),i=[];I.find(this.$refs.table,".p-datatable-thead > tr > th").forEach(a=>i.push(I.getOuterWidth(a))),this.destroyStyleElement(),this.createStyleElement();let r="",o=`.p-datatable[${this.attributeSelector}] > .p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`;i.forEach((a,l)=>{let A=l===n?e:t&&l===n+1?t:a,u=`width: ${A}px !important; max-width: ${A}px !important`;r+=`
                    ${o} > .p-datatable-thead > tr > th:nth-child(${l+1}),
                    ${o} > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                    ${o} > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                        ${u}
                    }
                `}),this.styleElement.innerHTML=r},bindColumnResizeEvents(){this.documentColumnResizeListener||(this.documentColumnResizeListener=document.addEventListener("mousemove",()=>{this.columnResizing&&this.onColumnResize(event)})),this.documentColumnResizeEndListener||(this.documentColumnResizeEndListener=document.addEventListener("mouseup",()=>{this.columnResizing&&(this.columnResizing=!1,this.onColumnResizeEnd())}))},unbindColumnResizeEvents(){this.documentColumnResizeListener&&(document.removeEventListener("document",this.documentColumnResizeListener),this.documentColumnResizeListener=null),this.documentColumnResizeEndListener&&(document.removeEventListener("document",this.documentColumnResizeEndListener),this.documentColumnResizeEndListener=null)},onColumnHeaderMouseDown(e){const t=e.originalEvent,n=e.column;this.reorderableColumns&&this.columnProp(n,"reorderableColumn")!==!1&&(t.target.nodeName==="INPUT"||t.target.nodeName==="TEXTAREA"||I.hasClass(t.target,"p-column-resizer")?t.currentTarget.draggable=!1:t.currentTarget.draggable=!0)},onColumnHeaderDragStart(e){if(this.columnResizing){e.preventDefault();return}this.colReorderIconWidth=I.getHiddenElementOuterWidth(this.$refs.reorderIndicatorUp),this.colReorderIconHeight=I.getHiddenElementOuterHeight(this.$refs.reorderIndicatorUp),this.draggedColumn=this.findParentHeader(e.target),e.dataTransfer.setData("text","b")},onColumnHeaderDragOver(e){let t=this.findParentHeader(e.target);if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let n=I.getOffset(this.$el),i=I.getOffset(t);if(this.draggedColumn!==t){let s=i.left-n.left,r=i.left+t.offsetWidth/2;this.$refs.reorderIndicatorUp.style.top=i.top-n.top-(this.colReorderIconHeight-1)+"px",this.$refs.reorderIndicatorDown.style.top=i.top-n.top+t.offsetHeight+"px",e.pageX>r?(this.$refs.reorderIndicatorUp.style.left=s+t.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=s+t.offsetWidth-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=1):(this.$refs.reorderIndicatorUp.style.left=s-Math.ceil(this.colReorderIconWidth/2)+"px",this.$refs.reorderIndicatorDown.style.left=s-Math.ceil(this.colReorderIconWidth/2)+"px",this.dropPosition=-1),this.$refs.reorderIndicatorUp.style.display="block",this.$refs.reorderIndicatorDown.style.display="block"}}},onColumnHeaderDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none")},onColumnHeaderDrop(e){if(e.preventDefault(),this.draggedColumn){let t=I.index(this.draggedColumn),n=I.index(this.findParentHeader(e.target)),i=t!==n;i&&(n-t===1&&this.dropPosition===-1||n-t===-1&&this.dropPosition===1)&&(i=!1),i&&($.reorderArray(this.columns,t,n),this.updateReorderableColumns(),this.$emit("column-reorder",{originalEvent:e,dragIndex:t,dropIndex:n})),this.$refs.reorderIndicatorUp.style.display="none",this.$refs.reorderIndicatorDown.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}},findParentHeader(e){if(e.nodeName==="TH")return e;{let t=e.parentElement;for(;t.nodeName!=="TH"&&(t=t.parentElement,!!t););return t}},findColumnByKey(e,t){if(e&&e.length)for(let n=0;n<e.length;n++){let i=e[n];if(this.columnProp(i,"columnKey")===t||this.columnProp(i,"field")===t)return i}return null},onRowMouseDown(e){I.hasClass(e.target,"p-datatable-reorderablerow-handle")?e.currentTarget.draggable=!0:e.currentTarget.draggable=!1},onRowDragStart(e){const t=e.originalEvent,n=e.index;this.rowDragging=!0,this.draggedRowIndex=n,t.dataTransfer.setData("text","b")},onRowDragOver(e){const t=e.originalEvent,n=e.index;if(this.rowDragging&&this.draggedRowIndex!==n){let i=t.currentTarget,s=I.getOffset(i).top+I.getWindowScrollTop(),r=t.pageY,o=s+I.getOuterHeight(i)/2,a=i.previousElementSibling;r<o?(I.removeClass(i,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=n,a?I.addClass(a,"p-datatable-dragpoint-bottom"):I.addClass(i,"p-datatable-dragpoint-top")):(a?I.removeClass(a,"p-datatable-dragpoint-bottom"):I.addClass(i,"p-datatable-dragpoint-top"),this.droppedRowIndex=n+1,I.addClass(i,"p-datatable-dragpoint-bottom")),t.preventDefault()}},onRowDragLeave(e){let t=e.currentTarget,n=t.previousElementSibling;n&&I.removeClass(n,"p-datatable-dragpoint-bottom"),I.removeClass(t,"p-datatable-dragpoint-bottom"),I.removeClass(t,"p-datatable-dragpoint-top")},onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null,e.currentTarget.draggable=!1},onRowDrop(e){if(this.droppedRowIndex!=null){let t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1,n=[...this.processedData];$.reorderArray(n,this.draggedRowIndex+this.d_first,t+this.d_first),this.$emit("row-reorder",{originalEvent:e,dragIndex:this.draggedRowIndex,dropIndex:t,value:n})}this.onRowDragLeave(e),this.onRowDragEnd(e),e.preventDefault()},toggleRow(e){let t=e.data,n,i,s=this.expandedRows?[...this.expandedRows]:[];this.dataKey?n=this.d_expandedRowKeys?this.d_expandedRowKeys[$.resolveFieldData(t,this.dataKey)]!==void 0:!1:(i=this.findIndex(t,this.expandedRows),n=i>-1),n?(i==null&&(i=this.findIndex(t,this.expandedRows)),s.splice(i,1),this.$emit("update:expandedRows",s),this.$emit("row-collapse",e)):(s.push(t),this.$emit("update:expandedRows",s),this.$emit("row-expand",e))},toggleRowGroup(e){const t=e.originalEvent,n=e.data,i=$.resolveFieldData(n,this.groupRowsBy);let s=this.expandedRowGroups?[...this.expandedRowGroups]:[];this.isRowGroupExpanded(n)?(s=s.filter(r=>r!==i),this.$emit("update:expandedRowGroups",s),this.$emit("rowgroup-collapse",{originalEvent:t,data:i})):(s.push(i),this.$emit("update:expandedRowGroups",s),this.$emit("rowgroup-expand",{originalEvent:t,data:i}))},isRowGroupExpanded(e){if(this.expandableRowGroups&&this.expandedRowGroups){let t=$.resolveFieldData(e,this.groupRowsBy);return this.expandedRowGroups.indexOf(t)>-1}return!1},isStateful(){return this.stateKey!=null},getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}},saveState(){const e=this.getStorage();let t={};this.paginator&&(t.first=this.d_first,t.rows=this.d_rows),this.d_sortField&&(t.sortField=this.d_sortField,t.sortOrder=this.d_sortOrder),this.d_multiSortMeta&&(t.multiSortMeta=this.d_multiSortMeta),this.hasFilters&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&(t.columnOrder=this.d_columnOrder),this.expandedRows&&(t.expandedRows=this.expandedRows,t.expandedRowKeys=this.d_expandedRowKeys),this.expandedRowGroups&&(t.expandedRowGroups=this.expandedRowGroups),this.selection&&(t.selection=this.selection,t.selectionKeys=this.d_selectionKeys),Object.keys(t).length&&e.setItem(this.stateKey,JSON.stringify(t)),this.$emit("state-save",t)},restoreState(){const t=this.getStorage().getItem(this.stateKey),n=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,i=function(s,r){return typeof r=="string"&&n.test(r)?new Date(r):r};if(t){let s=JSON.parse(t,i);this.paginator&&(this.d_first=s.first,this.d_rows=s.rows),s.sortField&&(this.d_sortField=s.sortField,this.d_sortOrder=s.sortOrder),s.multiSortMeta&&(this.d_multiSortMeta=s.multiSortMeta),s.filters&&this.$emit("update:filters",s.filters),this.resizableColumns&&(this.columnWidthsState=s.columnWidths,this.tableWidthState=s.tableWidth),this.reorderableColumns&&(this.d_columnOrder=s.columnOrder),s.expandedRows&&(this.d_expandedRowKeys=s.expandedRowKeys,this.$emit("update:expandedRows",s.expandedRows)),s.expandedRowGroups&&this.$emit("update:expandedRowGroups",s.expandedRowGroups),s.selection&&(this.d_selectionKeys=s.d_selectionKeys,this.$emit("update:selection",s.selection)),this.$emit("state-restore",s)}},saveColumnWidths(e){let t=[];I.find(this.$el,".p-datatable-thead > tr > th").forEach(i=>t.push(I.getOuterWidth(i))),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&(e.tableWidth=I.getOuterWidth(this.$refs.table)+"px")},restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&(this.$refs.table.style.width=this.tableWidthState,this.$refs.table.style.minWidth=this.tableWidthState,this.$el.style.width=this.tableWidthState),$.isNotEmpty(e)){this.createStyleElement();let t="",n=`.p-datatable[${this.attributeSelector}] > .p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`;e.forEach((i,s)=>{let r=`width: ${i}px !important; max-width: ${i}px !important`;t+=`
                            ${n} > .p-datatable-thead > tr > th:nth-child(${s+1}),
                            ${n} > .p-datatable-tbody > tr > td:nth-child(${s+1}),
                            ${n} > .p-datatable-tfoot > tr > td:nth-child(${s+1}) {
                                ${r}
                            }
                        `}),this.styleElement.innerHTML=t}}},onCellEditInit(e){this.$emit("cell-edit-init",e)},onCellEditComplete(e){this.$emit("cell-edit-complete",e)},onCellEditCancel(e){this.$emit("cell-edit-cancel",e)},onRowEditInit(e){let t=this.editingRows?[...this.editingRows]:[];t.push(e.data),this.$emit("update:editingRows",t),this.$emit("row-edit-init",e)},onRowEditSave(e){let t=[...this.editingRows];t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-save",e)},onRowEditCancel(e){let t=[...this.editingRows];t.splice(this.findIndex(e.data,t),1),this.$emit("update:editingRows",t),this.$emit("row-edit-cancel",e)},onEditingMetaChange(e){let{data:t,field:n,index:i,editing:s}=e,r={...this.d_editingMeta},o=r[i];if(s)!o&&(o=r[i]={data:{...t},fields:[]}),o.fields.push(n);else if(o){const a=o.fields.filter(l=>l!==n);a.length?o.fields=a:delete r[i]}this.d_editingMeta=r},clearEditingMetaData(){this.editMode&&(this.d_editingMeta={})},createLazyLoadEvent(e){return{originalEvent:e,first:this.d_first,rows:this.d_rows,sortField:this.d_sortField,sortOrder:this.d_sortOrder,multiSortMeta:this.d_multiSortMeta,filters:this.d_filters}},hasGlobalFilter(){return this.filters&&Object.prototype.hasOwnProperty.call(this.filters,"global")},getChildren(){return this.$slots.default?this.$slots.default():null},onFilterChange(e){this.d_filters=e},onFilterApply(){this.d_first=0,this.$emit("update:first",this.d_first),this.$emit("update:filters",this.d_filters),this.lazy&&this.$emit("filter",this.createLazyLoadEvent())},cloneFilters(){let e={};return this.filters&&Object.entries(this.filters).forEach(([t,n])=>{e[t]=n.operator?{operator:n.operator,constraints:n.constraints.map(i=>({...i}))}:{...n}}),e},updateReorderableColumns(){let e=[];this.columns.forEach(t=>e.push(this.columnProp(t,"columnKey")||this.columnProp(t,"field"))),this.d_columnOrder=e},createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)},createResponsiveStyle(){if(!this.responsiveStyleElement){this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement);let e=`.p-datatable-wrapper ${this.virtualScrollerDisabled?"":"> .p-virtualscroller"} > .p-datatable-table`,t=`.p-datatable[${this.attributeSelector}] > ${e}`,n=`.p-datatable[${this.attributeSelector}].p-datatable-gridlines > ${e}`,i=`
@media screen and (max-width: ${this.breakpoint}) {
    ${t} > .p-datatable-thead > tr > th,
    ${t} > .p-datatable-tfoot > tr > td {
        display: none !important;
    }

    ${t} > .p-datatable-tbody > tr > td {
        display: flex;
        width: 100% !important;
        align-items: center;
        justify-content: space-between;
    }

    ${t} > .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    ${n} > .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    ${t} > .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`;this.responsiveStyleElement.innerHTML=i}},destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)},destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},recursiveGetChildren(e,t){return t||(t=[]),e&&e.length&&e.forEach(n=>{n.children instanceof Array?t.concat(this.recursiveGetChildren(n.children,t)):n.type.name=="Column"&&t.push(n)}),t},dataToRender(e){const t=e||this.processedData;if(t&&this.paginator){const n=this.lazy?0:this.d_first;return t.slice(n,n+this.d_rows)}return t},getVirtualScrollerRef(){return this.$refs.virtualScroller},hasSpacerStyle(e){return $.isNotEmpty(e)}},computed:{containerClass(){return["p-datatable p-component",{"p-datatable-hoverable-rows":this.rowHover||this.selectionMode,"p-datatable-resizable":this.resizableColumns,"p-datatable-resizable-fit":this.resizableColumns&&this.columnResizeMode==="fit","p-datatable-scrollable":this.scrollable,"p-datatable-flex-scrollable":this.scrollable&&this.scrollHeight==="flex","p-datatable-responsive-stack":this.responsiveLayout==="stack","p-datatable-responsive-scroll":this.responsiveLayout==="scroll","p-datatable-striped":this.stripedRows,"p-datatable-gridlines":this.showGridlines,"p-datatable-grouped-header":this.headerColumnGroup!=null,"p-datatable-grouped-footer":this.footerColumnGroup!=null}]},tableStyleClass(){return["p-datatable-table",{"p-datatable-scrollable-table":this.scrollable,"p-datatable-resizable-table":this.resizableColumns,"p-datatable-resizable-table-fit":this.resizableColumns&&this.columnResizeMode==="fit"},this.tableClass]},columns(){let e=this.getChildren();if(!e)return;const t=this.recursiveGetChildren(e,[]);if(this.reorderableColumns&&this.d_columnOrder){let n=[];for(let i of this.d_columnOrder){let s=this.findColumnByKey(t,i);s&&!this.columnProp(s,"hidden")&&n.push(s)}return[...n,...t.filter(i=>n.indexOf(i)<0)]}return t},headerColumnGroup(){const e=this.getChildren();if(e){for(let t of e)if(t.type.name==="ColumnGroup"&&this.columnProp(t,"type")==="header")return t}return null},footerColumnGroup(){const e=this.getChildren();if(e){for(let t of e)if(t.type.name==="ColumnGroup"&&this.columnProp(t,"type")==="footer")return t}return null},hasFilters(){return this.filters&&Object.keys(this.filters).length>0&&this.filters.constructor===Object},processedData(){let e=this.value||[];return this.lazy||e&&e.length&&(this.hasFilters&&(e=this.filter(e)),this.sorted&&(this.sortMode==="single"?e=this.sortSingle(e):this.sortMode==="multiple"&&(e=this.sortMultiple(e)))),e},totalRecordsLength(){if(this.lazy)return this.totalRecords;{const e=this.processedData;return e?e.length:0}},empty(){const e=this.processedData;return!e||e.length===0},paginatorTop(){return this.paginator&&(this.paginatorPosition!=="bottom"||this.paginatorPosition==="both")},paginatorBottom(){return this.paginator&&(this.paginatorPosition!=="top"||this.paginatorPosition==="both")},sorted(){return this.d_sortField||this.d_multiSortMeta&&this.d_multiSortMeta.length>0},loadingIconClass(){return["p-datatable-loading-icon pi-spin",this.loadingIcon]},allRowsSelected(){if(this.selectAll!==null)return this.selectAll;{const e=this.frozenValue?[...this.frozenValue,...this.processedData]:this.processedData;return $.isNotEmpty(e)&&this.selection&&Array.isArray(this.selection)&&e.every(t=>this.selection.some(n=>this.equals(n,t)))}},attributeSelector(){return _t()},groupRowSortField(){return this.sortMode==="single"?this.sortField:this.d_groupRowsSortMeta?this.d_groupRowsSortMeta.field:null},virtualScrollerDisabled(){return $.isEmpty(this.virtualScrollerOptions)||!this.scrollable}},components:{DTPaginator:AU,DTTableHeader:mU,DTTableBody:hU,DTTableFooter:pU,DTVirtualScroller:Fu}};const l6={key:0,class:"p-datatable-loading-overlay p-component-overlay"},A6={key:1,class:"p-datatable-header"},u6={key:3,class:"p-datatable-footer"},c6={ref:"resizeHelper",class:"p-column-resizer-helper",style:{display:"none"}},d6={key:5,ref:"reorderIndicatorUp",class:"pi pi-arrow-down p-datatable-reorder-indicator-up",style:{position:"absolute",display:"none"}},h6={key:6,ref:"reorderIndicatorDown",class:"pi pi-arrow-up p-datatable-reorder-indicator-down",style:{position:"absolute",display:"none"}};function f6(e,t,n,i,s,r){const o=N("DTPaginator"),a=N("DTTableHeader"),l=N("DTTableBody"),A=N("DTTableFooter"),u=N("DTVirtualScroller");return y(),_("div",{class:P(r.containerClass),"data-scrollselectors":".p-datatable-wrapper"},[ue(e.$slots,"default"),n.loading?(y(),_("div",l6,[e.$slots.loading?ue(e.$slots,"loading",{key:0}):(y(),_("i",{key:1,class:P(r.loadingIconClass)},null,2))])):H("",!0),e.$slots.header?(y(),_("div",A6,[ue(e.$slots,"header")])):H("",!0),r.paginatorTop?(y(),ee(o,{key:2,rows:s.d_rows,first:s.d_first,totalRecords:r.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:"p-paginator-top",onPage:t[0]||(t[0]=c=>r.onPage(c)),alwaysShow:n.alwaysShowPaginator},gA({_:2},[e.$slots.paginatorstart?{name:"start",fn:O(()=>[ue(e.$slots,"paginatorstart")]),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:O(()=>[ue(e.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):H("",!0),f("div",{class:"p-datatable-wrapper",style:Re({maxHeight:r.virtualScrollerDisabled?n.scrollHeight:""})},[b(u,Ue({ref:"virtualScroller"},n.virtualScrollerOptions,{items:r.processedData,columns:r.columns,style:n.scrollHeight!=="flex"?{height:n.scrollHeight}:void 0,scrollHeight:n.scrollHeight!=="flex"?void 0:"100%",disabled:r.virtualScrollerDisabled,loaderDisabled:"",inline:"",autoSize:"",showSpacer:!1}),{content:O(c=>[f("table",Ue({ref:"table",role:"table",class:r.tableStyleClass,style:[n.tableStyle,c.spacerStyle]},n.tableProps),[b(a,{columnGroup:r.headerColumnGroup,columns:c.columns,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,groupRowSortField:r.groupRowSortField,reorderableColumns:n.reorderableColumns,resizableColumns:n.resizableColumns,allRowsSelected:r.allRowsSelected,empty:r.empty,sortMode:n.sortMode,sortField:s.d_sortField,sortOrder:s.d_sortOrder,multiSortMeta:s.d_multiSortMeta,filters:s.d_filters,filtersStore:n.filters,filterDisplay:n.filterDisplay,filterInputProps:n.filterInputProps,onColumnClick:t[1]||(t[1]=d=>r.onColumnHeaderClick(d)),onColumnMousedown:t[2]||(t[2]=d=>r.onColumnHeaderMouseDown(d)),onFilterChange:r.onFilterChange,onFilterApply:r.onFilterApply,onColumnDragstart:t[3]||(t[3]=d=>r.onColumnHeaderDragStart(d)),onColumnDragover:t[4]||(t[4]=d=>r.onColumnHeaderDragOver(d)),onColumnDragleave:t[5]||(t[5]=d=>r.onColumnHeaderDragLeave(d)),onColumnDrop:t[6]||(t[6]=d=>r.onColumnHeaderDrop(d)),onColumnResizestart:t[7]||(t[7]=d=>r.onColumnResizeStart(d)),onCheckboxChange:t[8]||(t[8]=d=>r.toggleRowsWithCheckbox(d))},null,8,["columnGroup","columns","rowGroupMode","groupRowsBy","groupRowSortField","reorderableColumns","resizableColumns","allRowsSelected","empty","sortMode","sortField","sortOrder","multiSortMeta","filters","filtersStore","filterDisplay","filterInputProps","onFilterChange","onFilterApply"]),n.frozenValue?(y(),ee(l,{key:0,ref:"frozenBodyRef",value:n.frozenValue,frozenRow:!0,class:"p-datatable-frozen-tbody",columns:c.columns,first:s.d_first,dataKey:n.dataKey,selection:n.selection,selectionKeys:s.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowKeys:s.d_expandedRowKeys,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:s.d_editingRowKeys,templates:e.$slots,responsiveLayout:n.responsiveLayout,isVirtualScrollerDisabled:!0,onRowgroupToggle:r.toggleRowGroup,onRowClick:t[9]||(t[9]=d=>r.onRowClick(d)),onRowDblclick:t[10]||(t[10]=d=>r.onRowDblClick(d)),onRowRightclick:t[11]||(t[11]=d=>r.onRowRightClick(d)),onRowTouchend:r.onRowTouchEnd,onRowKeydown:r.onRowKeyDown,onRowMousedown:r.onRowMouseDown,onRowDragstart:t[12]||(t[12]=d=>r.onRowDragStart(d)),onRowDragover:t[13]||(t[13]=d=>r.onRowDragOver(d)),onRowDragleave:t[14]||(t[14]=d=>r.onRowDragLeave(d)),onRowDragend:t[15]||(t[15]=d=>r.onRowDragEnd(d)),onRowDrop:t[16]||(t[16]=d=>r.onRowDrop(d)),onRowToggle:t[17]||(t[17]=d=>r.toggleRow(d)),onRadioChange:t[18]||(t[18]=d=>r.toggleRowWithRadio(d)),onCheckboxChange:t[19]||(t[19]=d=>r.toggleRowWithCheckbox(d)),onCellEditInit:t[20]||(t[20]=d=>r.onCellEditInit(d)),onCellEditComplete:t[21]||(t[21]=d=>r.onCellEditComplete(d)),onCellEditCancel:t[22]||(t[22]=d=>r.onCellEditCancel(d)),onRowEditInit:t[23]||(t[23]=d=>r.onRowEditInit(d)),onRowEditSave:t[24]||(t[24]=d=>r.onRowEditSave(d)),onRowEditCancel:t[25]||(t[25]=d=>r.onRowEditCancel(d)),editingMeta:s.d_editingMeta,onEditingMetaChange:r.onEditingMetaChange},null,8,["value","columns","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"])):H("",!0),b(l,{ref:"bodyRef",value:r.dataToRender(c.rows),class:P(c.styleClass),columns:c.columns,empty:r.empty,first:s.d_first,dataKey:n.dataKey,selection:n.selection,selectionKeys:s.d_selectionKeys,selectionMode:n.selectionMode,contextMenu:n.contextMenu,contextMenuSelection:n.contextMenuSelection,rowGroupMode:n.rowGroupMode,groupRowsBy:n.groupRowsBy,expandableRowGroups:n.expandableRowGroups,rowClass:n.rowClass,rowStyle:n.rowStyle,editMode:n.editMode,compareSelectionBy:n.compareSelectionBy,scrollable:n.scrollable,expandedRowIcon:n.expandedRowIcon,collapsedRowIcon:n.collapsedRowIcon,expandedRows:n.expandedRows,expandedRowKeys:s.d_expandedRowKeys,expandedRowGroups:n.expandedRowGroups,editingRows:n.editingRows,editingRowKeys:s.d_editingRowKeys,templates:e.$slots,responsiveLayout:n.responsiveLayout,virtualScrollerContentProps:c,isVirtualScrollerDisabled:r.virtualScrollerDisabled,onRowgroupToggle:r.toggleRowGroup,onRowClick:t[26]||(t[26]=d=>r.onRowClick(d)),onRowDblclick:t[27]||(t[27]=d=>r.onRowDblClick(d)),onRowRightclick:t[28]||(t[28]=d=>r.onRowRightClick(d)),onRowTouchend:r.onRowTouchEnd,onRowKeydown:d=>r.onRowKeyDown(d,c),onRowMousedown:r.onRowMouseDown,onRowDragstart:t[29]||(t[29]=d=>r.onRowDragStart(d)),onRowDragover:t[30]||(t[30]=d=>r.onRowDragOver(d)),onRowDragleave:t[31]||(t[31]=d=>r.onRowDragLeave(d)),onRowDragend:t[32]||(t[32]=d=>r.onRowDragEnd(d)),onRowDrop:t[33]||(t[33]=d=>r.onRowDrop(d)),onRowToggle:t[34]||(t[34]=d=>r.toggleRow(d)),onRadioChange:t[35]||(t[35]=d=>r.toggleRowWithRadio(d)),onCheckboxChange:t[36]||(t[36]=d=>r.toggleRowWithCheckbox(d)),onCellEditInit:t[37]||(t[37]=d=>r.onCellEditInit(d)),onCellEditComplete:t[38]||(t[38]=d=>r.onCellEditComplete(d)),onCellEditCancel:t[39]||(t[39]=d=>r.onCellEditCancel(d)),onRowEditInit:t[40]||(t[40]=d=>r.onRowEditInit(d)),onRowEditSave:t[41]||(t[41]=d=>r.onRowEditSave(d)),onRowEditCancel:t[42]||(t[42]=d=>r.onRowEditCancel(d)),editingMeta:s.d_editingMeta,onEditingMetaChange:r.onEditingMetaChange},null,8,["value","class","columns","empty","first","dataKey","selection","selectionKeys","selectionMode","contextMenu","contextMenuSelection","rowGroupMode","groupRowsBy","expandableRowGroups","rowClass","rowStyle","editMode","compareSelectionBy","scrollable","expandedRowIcon","collapsedRowIcon","expandedRows","expandedRowKeys","expandedRowGroups","editingRows","editingRowKeys","templates","responsiveLayout","virtualScrollerContentProps","isVirtualScrollerDisabled","onRowgroupToggle","onRowTouchend","onRowKeydown","onRowMousedown","editingMeta","onEditingMetaChange"]),r.hasSpacerStyle(c.spacerStyle)?(y(),_("tbody",{key:1,style:Re({height:`calc(${c.spacerStyle.height} - ${c.rows.length*c.itemSize}px)`}),class:"p-datatable-virtualscroller-spacer"},null,4)):H("",!0),b(A,{columnGroup:r.footerColumnGroup,columns:c.columns},null,8,["columnGroup","columns"])],16)]),_:1},16,["items","columns","style","scrollHeight","disabled"])],4),e.$slots.footer?(y(),_("div",u6,[ue(e.$slots,"footer")])):H("",!0),r.paginatorBottom?(y(),ee(o,{key:4,rows:s.d_rows,first:s.d_first,totalRecords:r.totalRecordsLength,pageLinkSize:n.pageLinkSize,template:n.paginatorTemplate,rowsPerPageOptions:n.rowsPerPageOptions,currentPageReportTemplate:n.currentPageReportTemplate,class:"p-paginator-bottom",onPage:t[43]||(t[43]=c=>r.onPage(c)),alwaysShow:n.alwaysShowPaginator},gA({_:2},[e.$slots.paginatorstart?{name:"start",fn:O(()=>[ue(e.$slots,"paginatorstart")]),key:"0"}:void 0,e.$slots.paginatorend?{name:"end",fn:O(()=>[ue(e.$slots,"paginatorend")]),key:"1"}:void 0]),1032,["rows","first","totalRecords","pageLinkSize","template","rowsPerPageOptions","currentPageReportTemplate","alwaysShow"])):H("",!0),f("div",c6,null,512),n.reorderableColumns?(y(),_("span",d6,null,512)):H("",!0),n.reorderableColumns?(y(),_("span",h6,null,512)):H("",!0)],2)}function p6(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var g6=`
.p-datatable {
    position: relative;
}
.p-datatable > .p-datatable-wrapper {
    overflow: auto;
}
.p-datatable-table {
    border-spacing: 0px;
    width: 100%;
}
.p-datatable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}
.p-datatable .p-sortable-column .p-column-title,
.p-datatable .p-sortable-column .p-sortable-column-icon,
.p-datatable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}
.p-datatable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.p-datatable-hoverable-rows .p-selectable-row {
    cursor: pointer;
}

/* Scrollable */
.p-datatable-scrollable > .p-datatable-wrapper {
    position: relative;
}
.p-datatable-scrollable-table > .p-datatable-thead {
    position: sticky;
    top: 0;
    z-index: 1;
}
.p-datatable-scrollable-table > .p-datatable-frozen-tbody {
    position: sticky;
    z-index: 1;
}
.p-datatable-scrollable-table > .p-datatable-tfoot {
    position: sticky;
    bottom: 0;
    z-index: 1;
}
.p-datatable-scrollable .p-frozen-column {
    position: sticky;
    background: inherit;
}
.p-datatable-scrollable th.p-frozen-column {
    z-index: 1;
}
.p-datatable-flex-scrollable {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.p-datatable-flex-scrollable > .p-datatable-wrapper {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}
.p-datatable-scrollable-table > .p-datatable-tbody > .p-rowgroup-header {
    position: sticky;
    z-index: 1;
}

/* Resizable */
.p-datatable-resizable-table > .p-datatable-thead > tr > th,
.p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
.p-datatable-resizable-table > .p-datatable-tbody > tr > td {
    overflow: hidden;
    white-space: nowrap;
}
.p-datatable-resizable-table > .p-datatable-thead > tr > th.p-resizable-column:not(.p-frozen-column) {
    background-clip: padding-box;
    position: relative;
}
.p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-resizable-column:last-child .p-column-resizer {
    display: none;
}
.p-datatable .p-column-resizer {
    display: block;
    position: absolute !important;
    top: 0;
    right: 0;
    margin: 0;
    width: 0.5rem;
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}
.p-datatable .p-column-header-content {
    display: flex;
    align-items: center;
}
.p-datatable .p-column-resizer-helper {
    width: 1px;
    position: absolute;
    z-index: 10;
    display: none;
}
.p-datatable .p-row-editor-init,
.p-datatable .p-row-editor-save,
.p-datatable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Expand */
.p-datatable .p-row-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Reorder */
.p-datatable-reorder-indicator-up,
.p-datatable-reorder-indicator-down {
    position: absolute;
    display: none;
}
.p-reorderable-column,
.p-datatable-reorderablerow-handle {
    cursor: move;
}

/* Loader */
.p-datatable .p-datatable-loading-overlay {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

/* Filter */
.p-column-filter-row {
    display: flex;
    align-items: center;
    width: 100%;
}
.p-column-filter-menu {
    display: inline-flex;
    margin-left: auto;
}
.p-column-filter-row .p-column-filter-element {
    flex: 1 1 auto;
    width: 1%;
}
.p-column-filter-menu-button,
.p-column-filter-clear-button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-column-filter-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-column-filter-row-items {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-column-filter-row-item {
    cursor: pointer;
}
.p-column-filter-add-button,
.p-column-filter-remove-button {
    justify-content: center;
}
.p-column-filter-add-button .p-button-label,
.p-column-filter-remove-button .p-button-label {
    flex-grow: 0;
}
.p-column-filter-buttonbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
    width: auto;
}

/* Responsive */
.p-datatable .p-datatable-tbody > tr > td > .p-column-title {
    display: none;
}

/* VirtualScroller */
.p-datatable-virtualscroller-spacer {
    display: flex;
}
.p-datatable .p-virtualscroller .p-virtualscroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}
`;p6(g6);ts.render=f6;var Os={name:"Column",props:{columnKey:{type:null,default:null},field:{type:[String,Function],default:null},sortField:{type:[String,Function],default:null},filterField:{type:[String,Function],default:null},dataType:{type:String,default:"text"},sortable:{type:Boolean,default:!1},header:{type:null,default:null},footer:{type:null,default:null},style:{type:null,default:null},class:{type:String,default:null},headerStyle:{type:null,default:null},headerClass:{type:String,default:null},bodyStyle:{type:null,default:null},bodyClass:{type:String,default:null},footerStyle:{type:null,default:null},footerClass:{type:String,default:null},showFilterMenu:{type:Boolean,default:!0},showFilterOperator:{type:Boolean,default:!0},showClearButton:{type:Boolean,default:!0},showApplyButton:{type:Boolean,default:!0},showFilterMatchModes:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},filterMatchModeOptions:{type:Array,default:null},maxConstraints:{type:Number,default:2},excludeGlobalFilter:{type:Boolean,default:!1},filterHeaderClass:{type:String,default:null},filterHeaderStyle:{type:null,default:null},filterMenuClass:{type:String,default:null},filterMenuStyle:{type:null,default:null},selectionMode:{type:String,default:null},expander:{type:Boolean,default:!1},colspan:{type:Number,default:null},rowspan:{type:Number,default:null},rowReorder:{type:Boolean,default:!1},rowReorderIcon:{type:String,default:"pi pi-bars"},reorderableColumn:{type:Boolean,default:!0},rowEditor:{type:Boolean,default:!1},frozen:{type:Boolean,default:!1},alignFrozen:{type:String,default:"left"},exportable:{type:Boolean,default:!0},exportHeader:{type:String,default:null},exportFooter:{type:String,default:null},filterMatchMode:{type:String,default:null},hidden:{type:Boolean,default:!1}},render(){return null}},yU={name:"Chip",emits:["remove"],props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:"pi pi-times-circle"}},data(){return{visible:!0}},methods:{onKeydown(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close(e){this.visible=!1,this.$emit("remove",e)}},computed:{containerClass(){return["p-chip p-component",{"p-chip-image":this.image!=null}]},iconClass(){return["p-chip-icon",this.icon]},removeIconClass(){return["p-chip-remove-icon",this.removeIcon]}}};const m6=["aria-label"],y6=["src"],v6={key:2,class:"p-chip-text"};function w6(e,t,n,i,s,r){return s.visible?(y(),_("div",{key:0,class:P(r.containerClass),"aria-label":n.label},[ue(e.$slots,"default",{},()=>[n.image?(y(),_("img",{key:0,src:n.image},null,8,y6)):n.icon?(y(),_("span",{key:1,class:P(r.iconClass)},null,2)):H("",!0),n.label?(y(),_("div",v6,M(n.label),1)):H("",!0)]),n.removable?(y(),_("span",{key:0,tabindex:"0",class:P(r.removeIconClass),onClick:t[0]||(t[0]=(...o)=>r.close&&r.close(...o)),onKeydown:t[1]||(t[1]=(...o)=>r.onKeydown&&r.onKeydown(...o))},null,34)):H("",!0)],10,m6)):H("",!0)}function _6(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var b6=`
.p-chip {
    display: inline-flex;
    align-items: center;
}
.p-chip-text {
    line-height: 1.5;
}
.p-chip-icon.pi {
    line-height: 1.5;
}
.p-chip-remove-icon {
    line-height: 1.5;
    cursor: pointer;
}
.p-chip img {
    border-radius: 50%;
}
`;_6(b6);yU.render=w6;var vU={name:"Accordion",emits:["update:activeIndex","tab-open","tab-close","tab-click"],props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:"pi pi-chevron-right"},collapseIcon:{type:String,default:"pi pi-chevron-down"},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},data(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||_t()},activeIndex(e){this.d_activeIndex=e}},mounted(){this.id=this.id||_t()},methods:{isAccordionTab(e){return e.type.name==="AccordionTab"},isTabActive(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp(e,t){return e.props?e.props[t]:void 0},getKey(e,t){return this.getTabProp(e,"header")||t},getTabHeaderActionId(e){return`${this.id}_${e}_header_action`},getTabContentId(e){return`${this.id}_${e}_content`},onTabClick(e,t,n){this.changeActiveIndex(e,t,n),this.$emit("tab-click",{originalEvent:e,index:n})},onTabKeyDown(e,t,n){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"Space":this.onTabEnterKey(e,t,n);break}},onTabArrowDownKey(e){const t=this.findNextHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey(e){const t=this.findPrevHeaderAction(e.target.parentElement.parentElement);t?this.changeFocusedTab(e,t):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey(e){const t=this.findFirstHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEndKey(e){const t=this.findLastHeaderAction();this.changeFocusedTab(e,t),e.preventDefault()},onTabEnterKey(e,t,n){this.changeActiveIndex(e,t,n),e.preventDefault()},findNextHeaderAction(e,t=!1){const n=t?e:e.nextElementSibling,i=I.findSingle(n,".p-accordion-header");return i?I.hasClass(i,"p-disabled")?this.findNextHeaderAction(i.parentElement):I.findSingle(i,".p-accordion-header-action"):null},findPrevHeaderAction(e,t=!1){const n=t?e:e.previousElementSibling,i=I.findSingle(n,".p-accordion-header");return i?I.hasClass(i,"p-disabled")?this.findPrevHeaderAction(i.parentElement):I.findSingle(i,".p-accordion-header-action"):null},findFirstHeaderAction(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex(e,t,n){if(!this.getTabProp(t,"disabled")){const i=this.isTabActive(n),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(r=>r!==n):this.d_activeIndex?this.d_activeIndex.push(n):this.d_activeIndex=[n]:this.d_activeIndex=this.d_activeIndex===n?null:n,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:n})}},changeFocusedTab(e,t){if(t&&(I.focus(t),this.selectOnFocus)){const n=parseInt(t.parentElement.parentElement.dataset.index,10),i=this.tabs[n];this.changeActiveIndex(e,i,n)}},getTabClass(e){return["p-accordion-tab",{"p-accordion-tab-active":this.isTabActive(e)}]},getTabHeaderClass(e,t){return["p-accordion-header",this.getTabProp(e,"headerClass"),{"p-highlight":this.isTabActive(t),"p-disabled":this.getTabProp(e,"disabled")}]},getTabHeaderIconClass(e){return["p-accordion-toggle-icon",this.isTabActive(e)?this.collapseIcon:this.expandIcon]},getTabContentClass(e){return["p-toggleable-content",this.getTabProp(e,"contentClass")]}},computed:{tabs(){return this.$slots.default().reduce((e,t)=>(this.isAccordionTab(t)?e.push(t):t.children&&t.children instanceof Array&&t.children.forEach(n=>{this.isAccordionTab(n)&&e.push(n)}),e),[])}},directives:{ripple:bt}};const B6={class:"p-accordion p-component"},C6=["data-index"],x6=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],E6={key:0,class:"p-accordion-header-text"},I6=["id","aria-labelledby"],S6={class:"p-accordion-content"};function F6(e,t,n,i,s,r){return y(),_("div",B6,[(y(!0),_(J,null,be(r.tabs,(o,a)=>(y(),_("div",{key:r.getKey(o,a),class:P(r.getTabClass(a)),"data-index":a},[f("div",Ue({style:r.getTabProp(o,"headerStyle"),class:r.getTabHeaderClass(o,a)},r.getTabProp(o,"headerProps")),[f("a",Ue({id:r.getTabHeaderActionId(a),class:"p-accordion-header-link p-accordion-header-action",tabindex:r.getTabProp(o,"disabled")?-1:n.tabindex,role:"button","aria-disabled":r.getTabProp(o,"disabled"),"aria-expanded":r.isTabActive(a),"aria-controls":r.getTabContentId(a),onClick:l=>r.onTabClick(l,o,a),onKeydown:l=>r.onTabKeyDown(l,o,a)},r.getTabProp(o,"headerActionProps")),[f("span",{class:P(r.getTabHeaderIconClass(a)),"aria-hidden":"true"},null,2),o.props&&o.props.header?(y(),_("span",E6,M(o.props.header),1)):H("",!0),o.children&&o.children.header?(y(),ee(ht(o.children.header),{key:1})):H("",!0)],16,x6)],16),b(Dn,{name:"p-toggleable-content"},{default:O(()=>[!n.lazy||r.isTabActive(a)?re((y(),_("div",Ue({key:0,id:r.getTabContentId(a),style:r.getTabProp(o,"contentStyle"),class:r.getTabContentClass(o),role:"region","aria-labelledby":r.getTabHeaderActionId(a)},r.getTabProp(o,"contentProps")),[f("div",S6,[(y(),ee(ht(o)))])],16,I6)),[[xe,n.lazy?!0:r.isTabActive(a)]]):H("",!0)]),_:2},1024)],10,C6))),128))])}function U6(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var T6=`
.p-accordion-header-action {
    cursor: pointer;
    display: flex;
    align-items: center;
    user-select: none;
    position: relative;
    text-decoration: none;
}
.p-accordion-header-action:focus {
    z-index: 1;
}
.p-accordion-header-text {
    line-height: 1;
}
`;U6(T6);vU.render=F6;var wU={name:"AccordionTab",props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean}};function k6(e,t,n,i,s,r){return ue(e.$slots,"default")}wU.render=k6;var _U="1.13.6",CB=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Kf=Array.prototype,vw=Object.prototype,xB=typeof Symbol!="undefined"?Symbol.prototype:null,Q6=Kf.push,Uu=Kf.slice,HA=vw.toString,L6=vw.hasOwnProperty,bU=typeof ArrayBuffer!="undefined",O6=typeof DataView!="undefined",R6=Array.isArray,EB=Object.keys,IB=Object.create,SB=bU&&ArrayBuffer.isView,D6=isNaN,M6=isFinite,BU=!{toString:null}.propertyIsEnumerable("toString"),FB=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],P6=Math.pow(2,53)-1;function Ln(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),s=0;s<n;s++)i[s]=arguments[s+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var r=Array(t+1);for(s=0;s<t;s++)r[s]=arguments[s];return r[t]=i,e.apply(this,r)}}function So(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function H6(e){return e===null}function CU(e){return e===void 0}function xU(e){return e===!0||e===!1||HA.call(e)==="[object Boolean]"}function N6(e){return!!(e&&e.nodeType===1)}function vn(e){var t="[object "+e+"]";return function(n){return HA.call(n)===t}}var ww=vn("String"),EU=vn("Number"),K6=vn("Date"),V6=vn("RegExp"),$6=vn("Error"),IU=vn("Symbol"),SU=vn("ArrayBuffer"),FU=vn("Function"),G6=CB.document&&CB.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof G6!="function"&&(FU=function(e){return typeof e=="function"||!1});var En=FU,UU=vn("Object"),TU=O6&&UU(new DataView(new ArrayBuffer(8))),_w=typeof Map!="undefined"&&UU(new Map),z6=vn("DataView");function j6(e){return e!=null&&En(e.getInt8)&&SU(e.buffer)}var th=TU?j6:z6,Fo=R6||vn("Array");function xr(e,t){return e!=null&&L6.call(e,t)}var Um=vn("Arguments");(function(){Um(arguments)||(Um=function(e){return xr(e,"callee")})})();var bw=Um;function W6(e){return!IU(e)&&M6(e)&&!isNaN(parseFloat(e))}function kU(e){return EU(e)&&D6(e)}function QU(e){return function(){return e}}function LU(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=P6}}function OU(e){return function(t){return t==null?void 0:t[e]}}var nh=OU("byteLength"),q6=LU(nh),X6=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function J6(e){return SB?SB(e)&&!th(e):q6(e)&&X6.test(HA.call(e))}var RU=bU?J6:QU(!1),On=OU("length");function Y6(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(s){return t[s]===!0},push:function(s){return t[s]=!0,e.push(s)}}}function DU(e,t){t=Y6(t);var n=FB.length,i=e.constructor,s=En(i)&&i.prototype||vw,r="constructor";for(xr(e,r)&&!t.contains(r)&&t.push(r);n--;)r=FB[n],r in e&&e[r]!==s[r]&&!t.contains(r)&&t.push(r)}function jt(e){if(!So(e))return[];if(EB)return EB(e);var t=[];for(var n in e)xr(e,n)&&t.push(n);return BU&&DU(e,t),t}function Z6(e){if(e==null)return!0;var t=On(e);return typeof t=="number"&&(Fo(e)||ww(e)||bw(e))?t===0:On(jt(e))===0}function MU(e,t){var n=jt(t),i=n.length;if(e==null)return!i;for(var s=Object(e),r=0;r<i;r++){var o=n[r];if(t[o]!==s[o]||!(o in s))return!1}return!0}function Je(e){if(e instanceof Je)return e;if(!(this instanceof Je))return new Je(e);this._wrapped=e}Je.VERSION=_U;Je.prototype.value=function(){return this._wrapped};Je.prototype.valueOf=Je.prototype.toJSON=Je.prototype.value;Je.prototype.toString=function(){return String(this._wrapped)};function UB(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,nh(e))}var TB="[object DataView]";function Tm(e,t,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;return s!=="function"&&s!=="object"&&typeof t!="object"?!1:PU(e,t,n,i)}function PU(e,t,n,i){e instanceof Je&&(e=e._wrapped),t instanceof Je&&(t=t._wrapped);var s=HA.call(e);if(s!==HA.call(t))return!1;if(TU&&s=="[object Object]"&&th(e)){if(!th(t))return!1;s=TB}switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return xB.valueOf.call(e)===xB.valueOf.call(t);case"[object ArrayBuffer]":case TB:return PU(UB(e),UB(t),n,i)}var r=s==="[object Array]";if(!r&&RU(e)){var o=nh(e);if(o!==nh(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;r=!0}if(!r){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(En(a)&&a instanceof a&&En(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var A=n.length;A--;)if(n[A]===e)return i[A]===t;if(n.push(e),i.push(t),r){if(A=e.length,A!==t.length)return!1;for(;A--;)if(!Tm(e[A],t[A],n,i))return!1}else{var u=jt(e),c;if(A=u.length,jt(t).length!==A)return!1;for(;A--;)if(c=u[A],!(xr(t,c)&&Tm(e[c],t[c],n,i)))return!1}return n.pop(),i.pop(),!0}function ez(e,t){return Tm(e,t)}function Tu(e){if(!So(e))return[];var t=[];for(var n in e)t.push(n);return BU&&DU(e,t),t}function Bw(e){var t=On(e);return function(n){if(n==null)return!1;var i=Tu(n);if(On(i))return!1;for(var s=0;s<t;s++)if(!En(n[e[s]]))return!1;return e!==KU||!En(n[Cw])}}var Cw="forEach",HU="has",xw=["clear","delete"],NU=["get",HU,"set"],tz=xw.concat(Cw,NU),KU=xw.concat(NU),nz=["add"].concat(xw,Cw,HU),iz=_w?Bw(tz):vn("Map"),sz=_w?Bw(KU):vn("WeakMap"),rz=_w?Bw(nz):vn("Set"),oz=vn("WeakSet");function Al(e){for(var t=jt(e),n=t.length,i=Array(n),s=0;s<n;s++)i[s]=e[t[s]];return i}function az(e){for(var t=jt(e),n=t.length,i=Array(n),s=0;s<n;s++)i[s]=[t[s],e[t[s]]];return i}function VU(e){for(var t={},n=jt(e),i=0,s=n.length;i<s;i++)t[e[n[i]]]=n[i];return t}function km(e){var t=[];for(var n in e)En(e[n])&&t.push(n);return t.sort()}function Ew(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||n==null)return n;for(var s=1;s<i;s++)for(var r=arguments[s],o=e(r),a=o.length,l=0;l<a;l++){var A=o[l];(!t||n[A]===void 0)&&(n[A]=r[A])}return n}}var $U=Ew(Tu),ih=Ew(jt),GU=Ew(Tu,!0);function lz(){return function(){}}function zU(e){if(!So(e))return{};if(IB)return IB(e);var t=lz();t.prototype=e;var n=new t;return t.prototype=null,n}function Az(e,t){var n=zU(e);return t&&ih(n,t),n}function uz(e){return So(e)?Fo(e)?e.slice():$U({},e):e}function cz(e,t){return t(e),e}function jU(e){return Fo(e)?e:[e]}Je.toPath=jU;function ku(e){return Je.toPath(e)}function Iw(e,t){for(var n=t.length,i=0;i<n;i++){if(e==null)return;e=e[t[i]]}return n?e:void 0}function WU(e,t,n){var i=Iw(e,ku(t));return CU(i)?n:i}function dz(e,t){t=ku(t);for(var n=t.length,i=0;i<n;i++){var s=t[i];if(!xr(e,s))return!1;e=e[s]}return!!n}function Sw(e){return e}function NA(e){return e=ih({},e),function(t){return MU(t,e)}}function Fw(e){return e=ku(e),function(t){return Iw(t,e)}}function Qu(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(i){return e.call(t,i)};case 3:return function(i,s,r){return e.call(t,i,s,r)};case 4:return function(i,s,r,o){return e.call(t,i,s,r,o)}}return function(){return e.apply(t,arguments)}}function qU(e,t,n){return e==null?Sw:En(e)?Qu(e,t,n):So(e)&&!Fo(e)?NA(e):Fw(e)}function Uw(e,t){return qU(e,t,1/0)}Je.iteratee=Uw;function Pn(e,t,n){return Je.iteratee!==Uw?Je.iteratee(e,t):qU(e,t,n)}function hz(e,t,n){t=Pn(t,n);for(var i=jt(e),s=i.length,r={},o=0;o<s;o++){var a=i[o];r[a]=t(e[a],a,e)}return r}function XU(){}function fz(e){return e==null?XU:function(t){return WU(e,t)}}function pz(e,t,n){var i=Array(Math.max(0,e));t=Qu(t,n,1);for(var s=0;s<e;s++)i[s]=t(s);return i}function Qm(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}var KA=Date.now||function(){return new Date().getTime()};function JU(e){var t=function(r){return e[r]},n="(?:"+jt(e).join("|")+")",i=RegExp(n),s=RegExp(n,"g");return function(r){return r=r==null?"":""+r,i.test(r)?r.replace(s,t):r}}var YU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},gz=JU(YU),mz=VU(YU),yz=JU(mz),vz=Je.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},qp=/(.)^/,wz={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_z=/\\|'|\r|\n|\u2028|\u2029/g;function bz(e){return"\\"+wz[e]}var Bz=/^\s*(\w|\$)+\s*$/;function Cz(e,t,n){!t&&n&&(t=n),t=GU({},t,Je.templateSettings);var i=RegExp([(t.escape||qp).source,(t.interpolate||qp).source,(t.evaluate||qp).source].join("|")+"|$","g"),s=0,r="__p+='";e.replace(i,function(A,u,c,d,h){return r+=e.slice(s,h).replace(_z,bz),s=h+A.length,u?r+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:c?r+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:d&&(r+=`';
`+d+`
__p+='`),A}),r+=`';
`;var o=t.variable;if(o){if(!Bz.test(o))throw new Error("variable is not a bare identifier: "+o)}else r=`with(obj||{}){
`+r+`}
`,o="obj";r=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+r+`return __p;
`;var a;try{a=new Function(o,"_",r)}catch(A){throw A.source=r,A}var l=function(A){return a.call(this,A,Je)};return l.source="function("+o+`){
`+r+"}",l}function xz(e,t,n){t=ku(t);var i=t.length;if(!i)return En(n)?n.call(e):n;for(var s=0;s<i;s++){var r=e==null?void 0:e[t[s]];r===void 0&&(r=n,s=i),e=En(r)?r.call(e):r}return e}var Ez=0;function Iz(e){var t=++Ez+"";return e?e+t:t}function Sz(e){var t=Je(e);return t._chain=!0,t}function ZU(e,t,n,i,s){if(!(i instanceof t))return e.apply(n,s);var r=zU(e.prototype),o=e.apply(r,s);return So(o)?o:r}var ul=Ln(function(e,t){var n=ul.placeholder,i=function(){for(var s=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===n?arguments[s++]:t[a];for(;s<arguments.length;)o.push(arguments[s++]);return ZU(e,i,this,this,o)};return i});ul.placeholder=Je;var eT=Ln(function(e,t,n){if(!En(e))throw new TypeError("Bind must be called on a function");var i=Ln(function(s){return ZU(e,i,t,this,n.concat(s))});return i}),Jn=LU(On);function Uo(e,t,n,i){if(i=i||[],!t&&t!==0)t=1/0;else if(t<=0)return i.concat(e);for(var s=i.length,r=0,o=On(e);r<o;r++){var a=e[r];if(Jn(a)&&(Fo(a)||bw(a)))if(t>1)Uo(a,t-1,n,i),s=i.length;else for(var l=0,A=a.length;l<A;)i[s++]=a[l++];else n||(i[s++]=a)}return i}var Fz=Ln(function(e,t){t=Uo(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=eT(e[i],e)}return e});function Uz(e,t){var n=function(i){var s=n.cache,r=""+(t?t.apply(this,arguments):i);return xr(s,r)||(s[r]=e.apply(this,arguments)),s[r]};return n.cache={},n}var tT=Ln(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),Tz=ul(tT,Je,1);function kz(e,t,n){var i,s,r,o,a=0;n||(n={});var l=function(){a=n.leading===!1?0:KA(),i=null,o=e.apply(s,r),i||(s=r=null)},A=function(){var u=KA();!a&&n.leading===!1&&(a=u);var c=t-(u-a);return s=this,r=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),a=u,o=e.apply(s,r),i||(s=r=null)):!i&&n.trailing!==!1&&(i=setTimeout(l,c)),o};return A.cancel=function(){clearTimeout(i),a=0,i=s=r=null},A}function Qz(e,t,n){var i,s,r,o,a,l=function(){var u=KA()-s;t>u?i=setTimeout(l,t-u):(i=null,n||(o=e.apply(a,r)),i||(r=a=null))},A=Ln(function(u){return a=this,r=u,s=KA(),i||(i=setTimeout(l,t),n&&(o=e.apply(a,r))),o});return A.cancel=function(){clearTimeout(i),i=r=a=null},A}function Lz(e,t){return ul(t,e)}function Tw(e){return function(){return!e.apply(this,arguments)}}function Oz(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function Rz(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function nT(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var Dz=ul(nT,2);function iT(e,t,n){t=Pn(t,n);for(var i=jt(e),s,r=0,o=i.length;r<o;r++)if(s=i[r],t(e[s],s,e))return s}function sT(e){return function(t,n,i){n=Pn(n,i);for(var s=On(t),r=e>0?0:s-1;r>=0&&r<s;r+=e)if(n(t[r],r,t))return r;return-1}}var kw=sT(1),rT=sT(-1);function oT(e,t,n,i){n=Pn(n,i,1);for(var s=n(t),r=0,o=On(e);r<o;){var a=Math.floor((r+o)/2);n(e[a])<s?r=a+1:o=a}return r}function aT(e,t,n){return function(i,s,r){var o=0,a=On(i);if(typeof r=="number")e>0?o=r>=0?r:Math.max(r+a,o):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,s),i[r]===s?r:-1;if(s!==s)return r=t(Uu.call(i,o,a),kU),r>=0?r+o:-1;for(r=e>0?o:a-1;r>=0&&r<a;r+=e)if(i[r]===s)return r;return-1}}var lT=aT(1,kw,oT),Mz=aT(-1,rT);function Lm(e,t,n){var i=Jn(e)?kw:iT,s=i(e,t,n);if(s!==void 0&&s!==-1)return e[s]}function Pz(e,t){return Lm(e,NA(t))}function Ss(e,t,n){t=Qu(t,n);var i,s;if(Jn(e))for(i=0,s=e.length;i<s;i++)t(e[i],i,e);else{var r=jt(e);for(i=0,s=r.length;i<s;i++)t(e[r[i]],r[i],e)}return e}function fo(e,t,n){t=Pn(t,n);for(var i=!Jn(e)&&jt(e),s=(i||e).length,r=Array(s),o=0;o<s;o++){var a=i?i[o]:o;r[o]=t(e[a],a,e)}return r}function AT(e){var t=function(n,i,s,r){var o=!Jn(n)&&jt(n),a=(o||n).length,l=e>0?0:a-1;for(r||(s=n[o?o[l]:l],l+=e);l>=0&&l<a;l+=e){var A=o?o[l]:l;s=i(s,n[A],A,n)}return s};return function(n,i,s,r){var o=arguments.length>=3;return t(n,Qu(i,r,4),s,o)}}var Xp=AT(1),kB=AT(-1);function Oa(e,t,n){var i=[];return t=Pn(t,n),Ss(e,function(s,r,o){t(s,r,o)&&i.push(s)}),i}function Hz(e,t,n){return Oa(e,Tw(Pn(t)),n)}function QB(e,t,n){t=Pn(t,n);for(var i=!Jn(e)&&jt(e),s=(i||e).length,r=0;r<s;r++){var o=i?i[r]:r;if(!t(e[o],o,e))return!1}return!0}function LB(e,t,n){t=Pn(t,n);for(var i=!Jn(e)&&jt(e),s=(i||e).length,r=0;r<s;r++){var o=i?i[r]:r;if(t(e[o],o,e))return!0}return!1}function vs(e,t,n,i){return Jn(e)||(e=Al(e)),(typeof n!="number"||i)&&(n=0),lT(e,t,n)>=0}var Nz=Ln(function(e,t,n){var i,s;return En(t)?s=t:(t=ku(t),i=t.slice(0,-1),t=t[t.length-1]),fo(e,function(r){var o=s;if(!o){if(i&&i.length&&(r=Iw(r,i)),r==null)return;o=r[t]}return o==null?o:o.apply(r,n)})});function Qw(e,t){return fo(e,Fw(t))}function Kz(e,t){return Oa(e,NA(t))}function uT(e,t,n){var i=-1/0,s=-1/0,r,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Jn(e)?e:Al(e);for(var a=0,l=e.length;a<l;a++)r=e[a],r!=null&&r>i&&(i=r)}else t=Pn(t,n),Ss(e,function(A,u,c){o=t(A,u,c),(o>s||o===-1/0&&i===-1/0)&&(i=A,s=o)});return i}function Vz(e,t,n){var i=1/0,s=1/0,r,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Jn(e)?e:Al(e);for(var a=0,l=e.length;a<l;a++)r=e[a],r!=null&&r<i&&(i=r)}else t=Pn(t,n),Ss(e,function(A,u,c){o=t(A,u,c),(o<s||o===1/0&&i===1/0)&&(i=A,s=o)});return i}var $z=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cT(e){return e?Fo(e)?Uu.call(e):ww(e)?e.match($z):Jn(e)?fo(e,Sw):Al(e):[]}function dT(e,t,n){if(t==null||n)return Jn(e)||(e=Al(e)),e[Qm(e.length-1)];var i=cT(e),s=On(i);t=Math.max(Math.min(t,s),0);for(var r=s-1,o=0;o<t;o++){var a=Qm(o,r),l=i[o];i[o]=i[a],i[a]=l}return i.slice(0,t)}function Gz(e){return dT(e,1/0)}function zz(e,t,n){var i=0;return t=Pn(t,n),Qw(fo(e,function(s,r,o){return{value:s,index:i++,criteria:t(s,r,o)}}).sort(function(s,r){var o=s.criteria,a=r.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return s.index-r.index}),"value")}function Vf(e,t){return function(n,i,s){var r=t?[[],[]]:{};return i=Pn(i,s),Ss(n,function(o,a){var l=i(o,a,n);e(r,o,l)}),r}}var jz=Vf(function(e,t,n){xr(e,n)?e[n].push(t):e[n]=[t]}),Wz=Vf(function(e,t,n){e[n]=t}),qz=Vf(function(e,t,n){xr(e,n)?e[n]++:e[n]=1}),Xz=Vf(function(e,t,n){e[n?0:1].push(t)},!0);function Jz(e){return e==null?0:Jn(e)?e.length:jt(e).length}function Yz(e,t,n){return t in n}var hT=Ln(function(e,t){var n={},i=t[0];if(e==null)return n;En(i)?(t.length>1&&(i=Qu(i,t[1])),t=Tu(e)):(i=Yz,t=Uo(t,!1,!1),e=Object(e));for(var s=0,r=t.length;s<r;s++){var o=t[s],a=e[o];i(a,o,e)&&(n[o]=a)}return n}),Zz=Ln(function(e,t){var n=t[0],i;return En(n)?(n=Tw(n),t.length>1&&(i=t[1])):(t=fo(Uo(t,!1,!1),String),n=function(s,r){return!vs(t,r)}),hT(e,n,i)});function fT(e,t,n){return Uu.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}function Jp(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:fT(e,e.length-t)}function ld(e,t,n){return Uu.call(e,t==null||n?1:t)}function ej(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:ld(e,Math.max(0,e.length-t))}function tj(e){return Oa(e,Boolean)}function nj(e,t){return Uo(e,t,!1)}var pT=Ln(function(e,t){return t=Uo(t,!0,!0),Oa(e,function(n){return!vs(t,n)})}),ij=Ln(function(e,t){return pT(e,t)});function Om(e,t,n,i){xU(t)||(i=n,n=t,t=!1),n!=null&&(n=Pn(n,i));for(var s=[],r=[],o=0,a=On(e);o<a;o++){var l=e[o],A=n?n(l,o,e):l;t&&!n?((!o||r!==A)&&s.push(l),r=A):n?vs(r,A)||(r.push(A),s.push(l)):vs(s,l)||s.push(l)}return s}var sj=Ln(function(e){return Om(Uo(e,!0,!0))});function rj(e){for(var t=[],n=arguments.length,i=0,s=On(e);i<s;i++){var r=e[i];if(!vs(t,r)){var o;for(o=1;o<n&&vs(arguments[o],r);o++);o===n&&t.push(r)}}return t}function Rm(e){for(var t=e&&uT(e,On).length||0,n=Array(t),i=0;i<t;i++)n[i]=Qw(e,i);return n}var oj=Ln(Rm);function aj(e,t){for(var n={},i=0,s=On(e);i<s;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n}function lj(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),s=Array(i),r=0;r<i;r++,e+=n)s[r]=e;return s}function Aj(e,t){if(t==null||t<1)return[];for(var n=[],i=0,s=e.length;i<s;)n.push(Uu.call(e,i,i+=t));return n}function Lw(e,t){return e._chain?Je(t).chain():t}function gT(e){return Ss(km(e),function(t){var n=Je[t]=e[t];Je.prototype[t]=function(){var i=[this._wrapped];return Q6.apply(i,arguments),Lw(this,n.apply(Je,i))}}),Je}Ss(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Kf[e];Je.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),Lw(this,n)}});Ss(["concat","join","slice"],function(e){var t=Kf[e];Je.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),Lw(this,n)}});var uj=Object.freeze(Object.defineProperty({__proto__:null,VERSION:_U,restArguments:Ln,isObject:So,isNull:H6,isUndefined:CU,isBoolean:xU,isElement:N6,isString:ww,isNumber:EU,isDate:K6,isRegExp:V6,isError:$6,isSymbol:IU,isArrayBuffer:SU,isDataView:th,isArray:Fo,isFunction:En,isArguments:bw,isFinite:W6,isNaN:kU,isTypedArray:RU,isEmpty:Z6,isMatch:MU,isEqual:ez,isMap:iz,isWeakMap:sz,isSet:rz,isWeakSet:oz,keys:jt,allKeys:Tu,values:Al,pairs:az,invert:VU,functions:km,methods:km,extend:$U,extendOwn:ih,assign:ih,defaults:GU,create:Az,clone:uz,tap:cz,get:WU,has:dz,mapObject:hz,identity:Sw,constant:QU,noop:XU,toPath:jU,property:Fw,propertyOf:fz,matcher:NA,matches:NA,times:pz,random:Qm,now:KA,escape:gz,unescape:yz,templateSettings:vz,template:Cz,result:xz,uniqueId:Iz,chain:Sz,iteratee:Uw,partial:ul,bind:eT,bindAll:Fz,memoize:Uz,delay:tT,defer:Tz,throttle:kz,debounce:Qz,wrap:Lz,negate:Tw,compose:Oz,after:Rz,before:nT,once:Dz,findKey:iT,findIndex:kw,findLastIndex:rT,sortedIndex:oT,indexOf:lT,lastIndexOf:Mz,find:Lm,detect:Lm,findWhere:Pz,each:Ss,forEach:Ss,map:fo,collect:fo,reduce:Xp,foldl:Xp,inject:Xp,reduceRight:kB,foldr:kB,filter:Oa,select:Oa,reject:Hz,every:QB,all:QB,some:LB,any:LB,contains:vs,includes:vs,include:vs,invoke:Nz,pluck:Qw,where:Kz,max:uT,min:Vz,shuffle:Gz,sample:dT,sortBy:zz,groupBy:jz,indexBy:Wz,countBy:qz,partition:Xz,toArray:cT,size:Jz,pick:hT,omit:Zz,first:Jp,head:Jp,take:Jp,initial:fT,last:ej,rest:ld,tail:ld,drop:ld,compact:tj,flatten:nj,without:ij,uniq:Om,unique:Om,union:sj,intersection:rj,difference:pT,unzip:Rm,transpose:Rm,zip:oj,object:aj,range:lj,chunk:Aj,mixin:gT,default:Je},Symbol.toStringTag,{value:"Module"})),Se=gT(uj);Se._=Se;function Ad(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cj(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mT(e){let t,n,i;e.length!==2?(t=Ad,n=(a,l)=>Ad(e(a),l),i=(a,l)=>e(a)-l):(t=e===Ad||e===cj?e:dj,n=e,i=e);function s(a,l,A=0,u=a.length){if(A<u){if(t(l,l)!==0)return u;do{const c=A+u>>>1;n(a[c],l)<0?A=c+1:u=c}while(A<u)}return A}function r(a,l,A=0,u=a.length){if(A<u){if(t(l,l)!==0)return u;do{const c=A+u>>>1;n(a[c],l)<=0?A=c+1:u=c}while(A<u)}return A}function o(a,l,A=0,u=a.length){const c=s(a,l,A,u-1);return c>A&&i(a[c-1],l)>-i(a[c],l)?c-1:c}return{left:s,center:o,right:r}}function dj(){return 0}function hj(e){return e===null?NaN:+e}const fj=mT(Ad),pj=fj.right;mT(hj).center;var gj=pj;class Dm extends Map{constructor(t,n=vj){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,s]of t)this.set(i,s)}get(t){return super.get(OB(this,t))}has(t){return super.has(OB(this,t))}set(t,n){return super.set(mj(this,t),n)}delete(t){return super.delete(yj(this,t))}}function OB({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function mj({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function yj({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function vj(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RB(e){return e}function Ow(e,...t){return wj(e,RB,RB,t)}function wj(e,t,n,i){return function s(r,o){if(o>=i.length)return n(r);const a=new Dm,l=i[o++];let A=-1;for(const u of r){const c=l(u,++A,r),d=a.get(c);d?d.push(u):a.set(c,[u])}for(const[u,c]of a)a.set(u,s(c,o));return t(a)}(e,0)}const _j=Math.sqrt(50),bj=Math.sqrt(10),Bj=Math.sqrt(2);function sh(e,t,n){const i=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(i)),r=i/Math.pow(10,s),o=r>=_j?10:r>=bj?5:r>=Bj?2:1;let a,l,A;return s<0?(A=Math.pow(10,-s)/o,a=Math.round(e*A),l=Math.round(t*A),a/A<e&&++a,l/A>t&&--l,A=-A):(A=Math.pow(10,s)*o,a=Math.round(e/A),l=Math.round(t/A),a*A<e&&++a,l*A>t&&--l),l<a&&.5<=n&&n<2?sh(e,t,n*2):[a,l,A]}function Cj(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[s,r,o]=i?sh(t,e,n):sh(e,t,n);if(!(r>=s))return[];const a=r-s+1,l=new Array(a);if(i)if(o<0)for(let A=0;A<a;++A)l[A]=(r-A)/-o;else for(let A=0;A<a;++A)l[A]=(r-A)*o;else if(o<0)for(let A=0;A<a;++A)l[A]=(s+A)/-o;else for(let A=0;A<a;++A)l[A]=(s+A)*o;return l}function Mm(e,t,n){return t=+t,e=+e,n=+n,sh(e,t,n)[2]}function xj(e,t,n){t=+t,e=+e,n=+n;const i=t<e,s=i?Mm(t,e,n):Mm(e,t,n);return(i?-1:1)*(s<0?1/-s:s)}function Ej(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function Ij(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var i=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(s);++i<s;)r[i]=e+i*n;return r}function Sj(e){return e}var Yp=1,ud=2,Pm=3,Rl=4,DB=1e-6;function Fj(e){return"translate("+e+",0)"}function Uj(e){return"translate(0,"+e+")"}function Tj(e){return t=>+e(t)}function kj(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Qj(){return!this.__axis}function Rw(e,t){var n=[],i=null,s=null,r=6,o=6,a=3,l=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,A=e===Yp||e===Rl?-1:1,u=e===Rl||e===ud?"x":"y",c=e===Yp||e===Pm?Fj:Uj;function d(h){var p=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,m=s==null?t.tickFormat?t.tickFormat.apply(t,n):Sj:s,g=Math.max(r,0)+a,w=t.range(),v=+w[0]+l,C=+w[w.length-1]+l,B=(t.bandwidth?kj:Tj)(t.copy(),l),E=h.selection?h.selection():h,S=E.selectAll(".domain").data([null]),F=E.selectAll(".tick").data(p,t).order(),U=F.exit(),Q=F.enter().append("g").attr("class","tick"),k=F.select("line"),L=F.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(Q),k=k.merge(Q.append("line").attr("stroke","currentColor").attr(u+"2",A*r)),L=L.merge(Q.append("text").attr("fill","currentColor").attr(u,A*g).attr("dy",e===Yp?"0em":e===Pm?"0.71em":"0.32em")),h!==E&&(S=S.transition(h),F=F.transition(h),k=k.transition(h),L=L.transition(h),U=U.transition(h).attr("opacity",DB).attr("transform",function(R){return isFinite(R=B(R))?c(R+l):this.getAttribute("transform")}),Q.attr("opacity",DB).attr("transform",function(R){var D=this.parentNode.__axis;return c((D&&isFinite(D=D(R))?D:B(R))+l)})),U.remove(),S.attr("d",e===Rl||e===ud?o?"M"+A*o+","+v+"H"+l+"V"+C+"H"+A*o:"M"+l+","+v+"V"+C:o?"M"+v+","+A*o+"V"+l+"H"+C+"V"+A*o:"M"+v+","+l+"H"+C),F.attr("opacity",1).attr("transform",function(R){return c(B(R)+l)}),k.attr(u+"2",A*r),L.attr(u,A*g).text(m),E.filter(Qj).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ud?"start":e===Rl?"end":"middle"),E.each(function(){this.__axis=B})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),d):i&&i.slice()},d.tickFormat=function(h){return arguments.length?(s=h,d):s},d.tickSize=function(h){return arguments.length?(r=o=+h,d):r},d.tickSizeInner=function(h){return arguments.length?(r=+h,d):r},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d.offset=function(h){return arguments.length?(l=+h,d):l},d}function Lj(e){return Rw(ud,e)}function Dw(e){return Rw(Pm,e)}function yT(e){return Rw(Rl,e)}var Oj={value:()=>{}};function vT(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new cd(n)}function cd(e){this._=e}function Rj(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");if(s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}cd.prototype=vT.prototype={constructor:cd,on:function(e,t){var n=this._,i=Rj(e+"",n),s,r=-1,o=i.length;if(arguments.length<2){for(;++r<o;)if((s=(e=i[r]).type)&&(s=Dj(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<o;)if(s=(e=i[r]).type)n[s]=MB(n[s],e.name,t);else if(t==null)for(s in n)n[s]=MB(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new cd(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),i=0,s,r;i<s;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],s=0,r=i.length;s<r;++s)i[s].value.apply(t,n)}};function Dj(e,t){for(var n=0,i=e.length,s;n<i;++n)if((s=e[n]).name===t)return s.value}function MB(e,t,n){for(var i=0,s=e.length;i<s;++i)if(e[i].name===t){e[i]=Oj,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Hm="http://www.w3.org/1999/xhtml",PB={svg:"http://www.w3.org/2000/svg",xhtml:Hm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $f(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),PB.hasOwnProperty(t)?{space:PB[t],local:e}:e}function Mj(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hm&&t.documentElement.namespaceURI===Hm?t.createElement(e):t.createElementNS(n,e)}}function Pj(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wT(e){var t=$f(e);return(t.local?Pj:Mj)(t)}function Hj(){}function Mw(e){return e==null?Hj:function(){return this.querySelector(e)}}function Nj(e){typeof e!="function"&&(e=Mw(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var r=t[s],o=r.length,a=i[s]=new Array(o),l,A,u=0;u<o;++u)(l=r[u])&&(A=e.call(l,l.__data__,u,r))&&("__data__"in l&&(A.__data__=l.__data__),a[u]=A);return new In(i,this._parents)}function _T(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Kj(){return[]}function bT(e){return e==null?Kj:function(){return this.querySelectorAll(e)}}function Vj(e){return function(){return _T(e.apply(this,arguments))}}function $j(e){typeof e=="function"?e=Vj(e):e=bT(e);for(var t=this._groups,n=t.length,i=[],s=[],r=0;r<n;++r)for(var o=t[r],a=o.length,l,A=0;A<a;++A)(l=o[A])&&(i.push(e.call(l,l.__data__,A,o)),s.push(l));return new In(i,s)}function BT(e){return function(){return this.matches(e)}}function CT(e){return function(t){return t.matches(e)}}var Gj=Array.prototype.find;function zj(e){return function(){return Gj.call(this.children,e)}}function jj(){return this.firstElementChild}function Wj(e){return this.select(e==null?jj:zj(typeof e=="function"?e:CT(e)))}var qj=Array.prototype.filter;function Xj(){return Array.from(this.children)}function Jj(e){return function(){return qj.call(this.children,e)}}function Yj(e){return this.selectAll(e==null?Xj:Jj(typeof e=="function"?e:CT(e)))}function Zj(e){typeof e!="function"&&(e=BT(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var r=t[s],o=r.length,a=i[s]=[],l,A=0;A<o;++A)(l=r[A])&&e.call(l,l.__data__,A,r)&&a.push(l);return new In(i,this._parents)}function xT(e){return new Array(e.length)}function eW(){return new In(this._enter||this._groups.map(xT),this._parents)}function rh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}rh.prototype={constructor:rh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tW(e){return function(){return e}}function nW(e,t,n,i,s,r){for(var o=0,a,l=t.length,A=r.length;o<A;++o)(a=t[o])?(a.__data__=r[o],i[o]=a):n[o]=new rh(e,r[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function iW(e,t,n,i,s,r,o){var a,l,A=new Map,u=t.length,c=r.length,d=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(d[a]=h=o.call(l,l.__data__,a,t)+"",A.has(h)?s[a]=l:A.set(h,l));for(a=0;a<c;++a)h=o.call(e,r[a],a,r)+"",(l=A.get(h))?(i[a]=l,l.__data__=r[a],A.delete(h)):n[a]=new rh(e,r[a]);for(a=0;a<u;++a)(l=t[a])&&A.get(d[a])===l&&(s[a]=l)}function sW(e){return e.__data__}function rW(e,t){if(!arguments.length)return Array.from(this,sW);var n=t?iW:nW,i=this._parents,s=this._groups;typeof e!="function"&&(e=tW(e));for(var r=s.length,o=new Array(r),a=new Array(r),l=new Array(r),A=0;A<r;++A){var u=i[A],c=s[A],d=c.length,h=oW(e.call(u,u&&u.__data__,A,i)),p=h.length,m=a[A]=new Array(p),g=o[A]=new Array(p),w=l[A]=new Array(d);n(u,c,m,g,w,h,t);for(var v=0,C=0,B,E;v<p;++v)if(B=m[v]){for(v>=C&&(C=v+1);!(E=g[C])&&++C<p;);B._next=E||null}}return o=new In(o,i),o._enter=a,o._exit=l,o}function oW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aW(){return new In(this._exit||this._groups.map(xT),this._parents)}function lW(e,t,n){var i=this.enter(),s=this,r=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?r.remove():n(r),i&&s?i.merge(s).order():s}function AW(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,s=n.length,r=i.length,o=Math.min(s,r),a=new Array(s),l=0;l<o;++l)for(var A=n[l],u=i[l],c=A.length,d=a[l]=new Array(c),h,p=0;p<c;++p)(h=A[p]||u[p])&&(d[p]=h);for(;l<s;++l)a[l]=n[l];return new In(a,this._parents)}function uW(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],s=i.length-1,r=i[s],o;--s>=0;)(o=i[s])&&(r&&o.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(o,r),r=o);return this}function cW(e){e||(e=dW);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,s=new Array(i),r=0;r<i;++r){for(var o=n[r],a=o.length,l=s[r]=new Array(a),A,u=0;u<a;++u)(A=o[u])&&(l[u]=A);l.sort(t)}return new In(s,this._parents).order()}function dW(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hW(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fW(){return Array.from(this)}function pW(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,r=i.length;s<r;++s){var o=i[s];if(o)return o}return null}function gW(){let e=0;for(const t of this)++e;return e}function mW(){return!this.node()}function yW(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],r=0,o=s.length,a;r<o;++r)(a=s[r])&&e.call(a,a.__data__,r,s);return this}function vW(e){return function(){this.removeAttribute(e)}}function wW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _W(e,t){return function(){this.setAttribute(e,t)}}function bW(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function BW(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function CW(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xW(e,t){var n=$f(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?wW:vW:typeof t=="function"?n.local?CW:BW:n.local?bW:_W)(n,t))}function ET(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function EW(e){return function(){this.style.removeProperty(e)}}function IW(e,t,n){return function(){this.style.setProperty(e,t,n)}}function SW(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function FW(e,t,n){return arguments.length>1?this.each((t==null?EW:typeof t=="function"?SW:IW)(e,t,n==null?"":n)):Ra(this.node(),e)}function Ra(e,t){return e.style.getPropertyValue(t)||ET(e).getComputedStyle(e,null).getPropertyValue(t)}function UW(e){return function(){delete this[e]}}function TW(e,t){return function(){this[e]=t}}function kW(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function QW(e,t){return arguments.length>1?this.each((t==null?UW:typeof t=="function"?kW:TW)(e,t)):this.node()[e]}function IT(e){return e.trim().split(/^|\s+/)}function Pw(e){return e.classList||new ST(e)}function ST(e){this._node=e,this._names=IT(e.getAttribute("class")||"")}ST.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function FT(e,t){for(var n=Pw(e),i=-1,s=t.length;++i<s;)n.add(t[i])}function UT(e,t){for(var n=Pw(e),i=-1,s=t.length;++i<s;)n.remove(t[i])}function LW(e){return function(){FT(this,e)}}function OW(e){return function(){UT(this,e)}}function RW(e,t){return function(){(t.apply(this,arguments)?FT:UT)(this,e)}}function DW(e,t){var n=IT(e+"");if(arguments.length<2){for(var i=Pw(this.node()),s=-1,r=n.length;++s<r;)if(!i.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?RW:t?LW:OW)(n,t))}function MW(){this.textContent=""}function PW(e){return function(){this.textContent=e}}function HW(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function NW(e){return arguments.length?this.each(e==null?MW:(typeof e=="function"?HW:PW)(e)):this.node().textContent}function KW(){this.innerHTML=""}function VW(e){return function(){this.innerHTML=e}}function $W(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function GW(e){return arguments.length?this.each(e==null?KW:(typeof e=="function"?$W:VW)(e)):this.node().innerHTML}function zW(){this.nextSibling&&this.parentNode.appendChild(this)}function jW(){return this.each(zW)}function WW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qW(){return this.each(WW)}function XW(e){var t=typeof e=="function"?e:wT(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function JW(){return null}function YW(e,t){var n=typeof e=="function"?e:wT(e),i=t==null?JW:typeof t=="function"?t:Mw(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ZW(){var e=this.parentNode;e&&e.removeChild(this)}function e9(){return this.each(ZW)}function t9(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n9(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i9(e){return this.select(e?n9:t9)}function s9(e){return arguments.length?this.property("__data__",e):this.node().__data__}function r9(e){return function(t){e.call(this,t,this.__data__)}}function o9(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function a9(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,s=t.length,r;n<s;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++i]=r;++i?t.length=i:delete this.__on}}}function l9(e,t,n){return function(){var i=this.__on,s,r=r9(t);if(i){for(var o=0,a=i.length;o<a;++o)if((s=i[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=n),s.value=t;return}}this.addEventListener(e.type,r,n),s={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(s):this.__on=[s]}}function A9(e,t,n){var i=o9(e+""),s,r=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,A=a.length,u;l<A;++l)for(s=0,u=a[l];s<r;++s)if((o=i[s]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?l9:a9,s=0;s<r;++s)this.each(a(i[s],t,n));return this}function TT(e,t,n){var i=ET(e),s=i.CustomEvent;typeof s=="function"?s=new s(t,n):(s=i.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function u9(e,t){return function(){return TT(this,e,t)}}function c9(e,t){return function(){return TT(this,e,t.apply(this,arguments))}}function d9(e,t){return this.each((typeof t=="function"?c9:u9)(e,t))}function*h9(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],s=0,r=i.length,o;s<r;++s)(o=i[s])&&(yield o)}var Hw=[null];function In(e,t){this._groups=e,this._parents=t}function Er(){return new In([[document.documentElement]],Hw)}function f9(){return this}In.prototype=Er.prototype={constructor:In,select:Nj,selectAll:$j,selectChild:Wj,selectChildren:Yj,filter:Zj,data:rW,enter:eW,exit:aW,join:lW,merge:AW,selection:f9,order:uW,sort:cW,call:hW,nodes:fW,node:pW,size:gW,empty:mW,each:yW,attr:xW,style:FW,property:QW,classed:DW,text:NW,html:GW,raise:jW,lower:qW,append:XW,insert:YW,remove:e9,clone:i9,datum:s9,on:A9,dispatch:d9,[Symbol.iterator]:h9};function Ut(e){return typeof e=="string"?new In([[document.querySelector(e)]],[document.documentElement]):new In([[e]],Hw)}function oh(e){return typeof e=="string"?new In([document.querySelectorAll(e)],[document.documentElement]):new In([_T(e)],Hw)}function Gf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Nw(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function cl(){}var po=.7,Da=1/po,va="\\s*([+-]?\\d+)\\s*",VA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p9=/^#([0-9a-f]{3,8})$/,g9=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),m9=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),y9=new RegExp(`^rgba\\(${va},${va},${va},${VA}\\)$`),v9=new RegExp(`^rgba\\(${$i},${$i},${$i},${VA}\\)$`),w9=new RegExp(`^hsl\\(${VA},${$i},${$i}\\)$`),_9=new RegExp(`^hsla\\(${VA},${$i},${$i},${VA}\\)$`),HB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gf(cl,_i,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NB,formatHex:NB,formatHex8:b9,formatHsl:B9,formatRgb:KB,toString:KB});function NB(){return this.rgb().formatHex()}function b9(){return this.rgb().formatHex8()}function B9(){return QT(this).formatHsl()}function KB(){return this.rgb().formatRgb()}function _i(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=p9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?VB(t):n===3?new fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g9.exec(e))?new fn(t[1],t[2],t[3],1):(t=m9.exec(e))?new fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=y9.exec(e))?dc(t[1],t[2],t[3],t[4]):(t=v9.exec(e))?dc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w9.exec(e))?zB(t[1],t[2]/100,t[3]/100,1):(t=_9.exec(e))?zB(t[1],t[2]/100,t[3]/100,t[4]):HB.hasOwnProperty(e)?VB(HB[e]):e==="transparent"?new fn(NaN,NaN,NaN,0):null}function VB(e){return new fn(e>>16&255,e>>8&255,e&255,1)}function dc(e,t,n,i){return i<=0&&(e=t=n=NaN),new fn(e,t,n,i)}function kT(e){return e instanceof cl||(e=_i(e)),e?(e=e.rgb(),new fn(e.r,e.g,e.b,e.opacity)):new fn}function hs(e,t,n,i){return arguments.length===1?kT(e):new fn(e,t,n,i==null?1:i)}function fn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Gf(fn,hs,Nw(cl,{brighter(e){return e=e==null?Da:Math.pow(Da,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fn(io(this.r),io(this.g),io(this.b),ah(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$B,formatHex:$B,formatHex8:C9,formatRgb:GB,toString:GB}));function $B(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}`}function C9(){return`#${Wr(this.r)}${Wr(this.g)}${Wr(this.b)}${Wr((isNaN(this.opacity)?1:this.opacity)*255)}`}function GB(){const e=ah(this.opacity);return`${e===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${e===1?")":`, ${e})`}`}function ah(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wr(e){return e=io(e),(e<16?"0":"")+e.toString(16)}function zB(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mi(e,t,n,i)}function QT(e){if(e instanceof mi)return new mi(e.h,e.s,e.l,e.opacity);if(e instanceof cl||(e=_i(e)),!e)return new mi;if(e instanceof mi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,s=Math.min(t,n,i),r=Math.max(t,n,i),o=NaN,a=r-s,l=(r+s)/2;return a?(t===r?o=(n-i)/a+(n<i)*6:n===r?o=(i-t)/a+2:o=(t-n)/a+4,a/=l<.5?r+s:2-r-s,o*=60):a=l>0&&l<1?0:o,new mi(o,a,l,e.opacity)}function $A(e,t,n,i){return arguments.length===1?QT(e):new mi(e,t,n,i==null?1:i)}function mi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Gf(mi,$A,Nw(cl,{brighter(e){return e=e==null?Da:Math.pow(Da,e),new mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,s=2*n-i;return new fn(Zp(e>=240?e-240:e+120,s,i),Zp(e,s,i),Zp(e<120?e+240:e-120,s,i),this.opacity)},clamp(){return new mi(jB(this.h),hc(this.s),hc(this.l),ah(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ah(this.opacity);return`${e===1?"hsl(":"hsla("}${jB(this.h)}, ${hc(this.s)*100}%, ${hc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jB(e){return e=(e||0)%360,e<0?e+360:e}function hc(e){return Math.max(0,Math.min(1,e||0))}function Zp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const x9=Math.PI/180,E9=180/Math.PI;var LT=-.14861,Kw=1.78277,Vw=-.29227,zf=-.90649,GA=1.97294,WB=GA*zf,qB=GA*Kw,XB=Kw*Vw-zf*LT;function I9(e){if(e instanceof so)return new so(e.h,e.s,e.l,e.opacity);e instanceof fn||(e=kT(e));var t=e.r/255,n=e.g/255,i=e.b/255,s=(XB*i+WB*t-qB*n)/(XB+WB-qB),r=i-s,o=(GA*(n-s)-Vw*r)/zf,a=Math.sqrt(o*o+r*r)/(GA*s*(1-s)),l=a?Math.atan2(o,r)*E9-120:NaN;return new so(l<0?l+360:l,a,s,e.opacity)}function wr(e,t,n,i){return arguments.length===1?I9(e):new so(e,t,n,i==null?1:i)}function so(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Gf(so,wr,Nw(cl,{brighter(e){return e=e==null?Da:Math.pow(Da,e),new so(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?po:Math.pow(po,e),new so(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*x9,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),s=Math.sin(e);return new fn(255*(t+n*(LT*i+Kw*s)),255*(t+n*(Vw*i+zf*s)),255*(t+n*(GA*i)),this.opacity)}}));var jf=e=>()=>e;function OT(e,t){return function(n){return e+n*t}}function S9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function F9(e,t){var n=t-e;return n?OT(e,n>180||n<-180?n-360*Math.round(n/360):n):jf(isNaN(e)?t:e)}function U9(e){return(e=+e)==1?wa:function(t,n){return n-t?S9(t,n,e):jf(isNaN(t)?n:t)}}function wa(e,t){var n=t-e;return n?OT(e,n):jf(isNaN(e)?t:e)}var lh=function e(t){var n=U9(t);function i(s,r){var o=n((s=hs(s)).r,(r=hs(r)).r),a=n(s.g,r.g),l=n(s.b,r.b),A=wa(s.opacity,r.opacity);return function(u){return s.r=o(u),s.g=a(u),s.b=l(u),s.opacity=A(u),s+""}}return i.gamma=e,i}(1);function T9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(r){for(s=0;s<n;++s)i[s]=e[s]*(1-r)+t[s]*r;return i}}function k9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Q9(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,s=new Array(i),r=new Array(n),o;for(o=0;o<i;++o)s[o]=Wf(e[o],t[o]);for(;o<n;++o)r[o]=t[o];return function(a){for(o=0;o<i;++o)r[o]=s[o](a);return r}}function L9(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function pi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function O9(e,t){var n={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Wf(e[s],t[s]):i[s]=t[s];return function(r){for(s in n)i[s]=n[s](r);return i}}var Nm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eg=new RegExp(Nm.source,"g");function R9(e){return function(){return e}}function D9(e){return function(t){return e(t)+""}}function RT(e,t){var n=Nm.lastIndex=eg.lastIndex=0,i,s,r,o=-1,a=[],l=[];for(e=e+"",t=t+"";(i=Nm.exec(e))&&(s=eg.exec(t));)(r=s.index)>n&&(r=t.slice(n,r),a[o]?a[o]+=r:a[++o]=r),(i=i[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:pi(i,s)})),n=eg.lastIndex;return n<t.length&&(r=t.slice(n),a[o]?a[o]+=r:a[++o]=r),a.length<2?l[0]?D9(l[0].x):R9(t):(t=l.length,function(A){for(var u=0,c;u<t;++u)a[(c=l[u]).i]=c.x(A);return a.join("")})}function Wf(e,t){var n=typeof t,i;return t==null||n==="boolean"?jf(t):(n==="number"?pi:n==="string"?(i=_i(t))?(t=i,lh):RT:t instanceof _i?lh:t instanceof Date?L9:k9(t)?T9:Array.isArray(t)?Q9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?O9:pi)(e,t)}function DT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var JB=180/Math.PI,Km={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function MT(e,t,n,i,s,r){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*JB,skewX:Math.atan(l)*JB,scaleX:o,scaleY:a}}var fc;function M9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Km:MT(t.a,t.b,t.c,t.d,t.e,t.f)}function P9(e){return e==null||(fc||(fc=document.createElementNS("http://www.w3.org/2000/svg","g")),fc.setAttribute("transform",e),!(e=fc.transform.baseVal.consolidate()))?Km:(e=e.matrix,MT(e.a,e.b,e.c,e.d,e.e,e.f))}function PT(e,t,n,i){function s(A){return A.length?A.pop()+" ":""}function r(A,u,c,d,h,p){if(A!==c||u!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:pi(A,c)},{i:m-2,x:pi(u,d)})}else(c||d)&&h.push("translate("+c+t+d+n)}function o(A,u,c,d){A!==u?(A-u>180?u+=360:u-A>180&&(A+=360),d.push({i:c.push(s(c)+"rotate(",null,i)-2,x:pi(A,u)})):u&&c.push(s(c)+"rotate("+u+i)}function a(A,u,c,d){A!==u?d.push({i:c.push(s(c)+"skewX(",null,i)-2,x:pi(A,u)}):u&&c.push(s(c)+"skewX("+u+i)}function l(A,u,c,d,h,p){if(A!==c||u!==d){var m=h.push(s(h)+"scale(",null,",",null,")");p.push({i:m-4,x:pi(A,c)},{i:m-2,x:pi(u,d)})}else(c!==1||d!==1)&&h.push(s(h)+"scale("+c+","+d+")")}return function(A,u){var c=[],d=[];return A=e(A),u=e(u),r(A.translateX,A.translateY,u.translateX,u.translateY,c,d),o(A.rotate,u.rotate,c,d),a(A.skewX,u.skewX,c,d),l(A.scaleX,A.scaleY,u.scaleX,u.scaleY,c,d),A=u=null,function(h){for(var p=-1,m=d.length,g;++p<m;)c[(g=d[p]).i]=g.x(h);return c.join("")}}}var H9=PT(M9,"px, ","px)","deg)"),N9=PT(P9,", ",")",")");function HT(e){return function t(n){n=+n;function i(s,r){var o=e((s=wr(s)).h,(r=wr(r)).h),a=wa(s.s,r.s),l=wa(s.l,r.l),A=wa(s.opacity,r.opacity);return function(u){return s.h=o(u),s.s=a(u),s.l=l(Math.pow(u,n)),s.opacity=A(u),s+""}}return i.gamma=t,i}(1)}HT(F9);var NT=HT(wa),Ma=0,Dl=0,wl=0,KT=1e3,Ah,Ml,uh=0,go=0,qf=0,zA=typeof performance=="object"&&performance.now?performance:Date,VT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $w(){return go||(VT(K9),go=zA.now()+qf)}function K9(){go=0}function ch(){this._call=this._time=this._next=null}ch.prototype=$T.prototype={constructor:ch,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?$w():+n)+(t==null?0:+t),!this._next&&Ml!==this&&(Ml?Ml._next=this:Ah=this,Ml=this),this._call=e,this._time=n,Vm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vm())}};function $T(e,t,n){var i=new ch;return i.restart(e,t,n),i}function V9(){$w(),++Ma;for(var e=Ah,t;e;)(t=go-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ma}function YB(){go=(uh=zA.now())+qf,Ma=Dl=0;try{V9()}finally{Ma=0,G9(),go=0}}function $9(){var e=zA.now(),t=e-uh;t>KT&&(qf-=t,uh=e)}function G9(){for(var e,t=Ah,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ah=n);Ml=e,Vm(i)}function Vm(e){if(!Ma){Dl&&(Dl=clearTimeout(Dl));var t=e-go;t>24?(e<1/0&&(Dl=setTimeout(YB,e-zA.now()-qf)),wl&&(wl=clearInterval(wl))):(wl||(uh=zA.now(),wl=setInterval($9,KT)),Ma=1,VT(YB))}}function ZB(e,t,n){var i=new ch;return t=t==null?0:+t,i.restart(s=>{i.stop(),e(s+t)},t,n),i}var z9=vT("start","end","cancel","interrupt"),j9=[],GT=0,eC=1,$m=2,dd=3,tC=4,Gm=5,hd=6;function Xf(e,t,n,i,s,r){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;W9(e,n,{name:t,index:i,group:s,on:z9,tween:j9,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:GT})}function Gw(e,t){var n=Qi(e,t);if(n.state>GT)throw new Error("too late; already scheduled");return n}function ns(e,t){var n=Qi(e,t);if(n.state>dd)throw new Error("too late; already running");return n}function Qi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function W9(e,t,n){var i=e.__transition,s;i[t]=n,n.timer=$T(r,0,n.time);function r(A){n.state=eC,n.timer.restart(o,n.delay,n.time),n.delay<=A&&o(A-n.delay)}function o(A){var u,c,d,h;if(n.state!==eC)return l();for(u in i)if(h=i[u],h.name===n.name){if(h.state===dd)return ZB(o);h.state===tC?(h.state=hd,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=hd,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(ZB(function(){n.state===dd&&(n.state=tC,n.timer.restart(a,n.delay,n.time),a(A))}),n.state=$m,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$m){for(n.state=dd,s=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(s[++c]=h);s.length=c+1}}function a(A){for(var u=A<n.duration?n.ease.call(null,A/n.duration):(n.timer.restart(l),n.state=Gm,1),c=-1,d=s.length;++c<d;)s[c].call(e,u);n.state===Gm&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=hd,n.timer.stop(),delete i[t];for(var A in i)return;delete e.__transition}}function q9(e,t){var n=e.__transition,i,s,r=!0,o;if(!!n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){r=!1;continue}s=i.state>$m&&i.state<Gm,i.state=hd,i.timer.stop(),i.on.call(s?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}r&&delete e.__transition}}function X9(e){return this.each(function(){q9(this,e)})}function J9(e,t){var n,i;return function(){var s=ns(this,e),r=s.tween;if(r!==n){i=n=r;for(var o=0,a=i.length;o<a;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}s.tween=i}}function Y9(e,t,n){var i,s;if(typeof n!="function")throw new Error;return function(){var r=ns(this,e),o=r.tween;if(o!==i){s=(i=o).slice();for(var a={name:t,value:n},l=0,A=s.length;l<A;++l)if(s[l].name===t){s[l]=a;break}l===A&&s.push(a)}r.tween=s}}function Z9(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Qi(this.node(),n).tween,s=0,r=i.length,o;s<r;++s)if((o=i[s]).name===e)return o.value;return null}return this.each((t==null?J9:Y9)(n,e,t))}function zw(e,t,n){var i=e._id;return e.each(function(){var s=ns(this,i);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Qi(s,i).value[t]}}function zT(e,t){var n;return(typeof t=="number"?pi:t instanceof _i?lh:(n=_i(t))?(t=n,lh):RT)(e,t)}function eq(e){return function(){this.removeAttribute(e)}}function tq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nq(e,t,n){var i,s=n+"",r;return function(){var o=this.getAttribute(e);return o===s?null:o===i?r:r=t(i=o,n)}}function iq(e,t,n){var i,s=n+"",r;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?r:r=t(i=o,n)}}function sq(e,t,n){var i,s,r;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===i&&l===s?r:(s=l,r=t(i=o,a)))}}function rq(e,t,n){var i,s,r;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===i&&l===s?r:(s=l,r=t(i=o,a)))}}function oq(e,t){var n=$f(e),i=n==="transform"?N9:zT;return this.attrTween(e,typeof t=="function"?(n.local?rq:sq)(n,i,zw(this,"attr."+e,t)):t==null?(n.local?tq:eq)(n):(n.local?iq:nq)(n,i,t))}function aq(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function lq(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Aq(e,t){var n,i;function s(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&lq(e,r)),n}return s._value=t,s}function uq(e,t){var n,i;function s(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&aq(e,r)),n}return s._value=t,s}function cq(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=$f(e);return this.tween(n,(i.local?Aq:uq)(i,t))}function dq(e,t){return function(){Gw(this,e).delay=+t.apply(this,arguments)}}function hq(e,t){return t=+t,function(){Gw(this,e).delay=t}}function fq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?dq:hq)(t,e)):Qi(this.node(),t).delay}function pq(e,t){return function(){ns(this,e).duration=+t.apply(this,arguments)}}function gq(e,t){return t=+t,function(){ns(this,e).duration=t}}function mq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pq:gq)(t,e)):Qi(this.node(),t).duration}function yq(e,t){if(typeof t!="function")throw new Error;return function(){ns(this,e).ease=t}}function vq(e){var t=this._id;return arguments.length?this.each(yq(t,e)):Qi(this.node(),t).ease}function wq(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ns(this,e).ease=n}}function _q(e){if(typeof e!="function")throw new Error;return this.each(wq(this._id,e))}function bq(e){typeof e!="function"&&(e=BT(e));for(var t=this._groups,n=t.length,i=new Array(n),s=0;s<n;++s)for(var r=t[s],o=r.length,a=i[s]=[],l,A=0;A<o;++A)(l=r[A])&&e.call(l,l.__data__,A,r)&&a.push(l);return new Fs(i,this._parents,this._name,this._id)}function Bq(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,s=n.length,r=Math.min(i,s),o=new Array(i),a=0;a<r;++a)for(var l=t[a],A=n[a],u=l.length,c=o[a]=new Array(u),d,h=0;h<u;++h)(d=l[h]||A[h])&&(c[h]=d);for(;a<i;++a)o[a]=t[a];return new Fs(o,this._parents,this._name,this._id)}function Cq(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function xq(e,t,n){var i,s,r=Cq(t)?Gw:ns;return function(){var o=r(this,e),a=o.on;a!==i&&(s=(i=a).copy()).on(t,n),o.on=s}}function Eq(e,t){var n=this._id;return arguments.length<2?Qi(this.node(),n).on.on(e):this.each(xq(n,e,t))}function Iq(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sq(){return this.on("end.remove",Iq(this._id))}function Fq(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mw(e));for(var i=this._groups,s=i.length,r=new Array(s),o=0;o<s;++o)for(var a=i[o],l=a.length,A=r[o]=new Array(l),u,c,d=0;d<l;++d)(u=a[d])&&(c=e.call(u,u.__data__,d,a))&&("__data__"in u&&(c.__data__=u.__data__),A[d]=c,Xf(A[d],t,n,d,A,Qi(u,n)));return new Fs(r,this._parents,t,n)}function Uq(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bT(e));for(var i=this._groups,s=i.length,r=[],o=[],a=0;a<s;++a)for(var l=i[a],A=l.length,u,c=0;c<A;++c)if(u=l[c]){for(var d=e.call(u,u.__data__,c,l),h,p=Qi(u,n),m=0,g=d.length;m<g;++m)(h=d[m])&&Xf(h,t,n,m,d,p);r.push(d),o.push(u)}return new Fs(r,o,t,n)}var Tq=Er.prototype.constructor;function kq(){return new Tq(this._groups,this._parents)}function Qq(e,t){var n,i,s;return function(){var r=Ra(this,e),o=(this.style.removeProperty(e),Ra(this,e));return r===o?null:r===n&&o===i?s:s=t(n=r,i=o)}}function jT(e){return function(){this.style.removeProperty(e)}}function Lq(e,t,n){var i,s=n+"",r;return function(){var o=Ra(this,e);return o===s?null:o===i?r:r=t(i=o,n)}}function Oq(e,t,n){var i,s,r;return function(){var o=Ra(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ra(this,e))),o===l?null:o===i&&l===s?r:(s=l,r=t(i=o,a))}}function Rq(e,t){var n,i,s,r="style."+t,o="end."+r,a;return function(){var l=ns(this,e),A=l.on,u=l.value[r]==null?a||(a=jT(t)):void 0;(A!==n||s!==u)&&(i=(n=A).copy()).on(o,s=u),l.on=i}}function Dq(e,t,n){var i=(e+="")=="transform"?H9:zT;return t==null?this.styleTween(e,Qq(e,i)).on("end.style."+e,jT(e)):typeof t=="function"?this.styleTween(e,Oq(e,i,zw(this,"style."+e,t))).each(Rq(this._id,e)):this.styleTween(e,Lq(e,i,t),n).on("end.style."+e,null)}function Mq(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Pq(e,t,n){var i,s;function r(){var o=t.apply(this,arguments);return o!==s&&(i=(s=o)&&Mq(e,o,n)),i}return r._value=t,r}function Hq(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Pq(e,t,n==null?"":n))}function Nq(e){return function(){this.textContent=e}}function Kq(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Vq(e){return this.tween("text",typeof e=="function"?Kq(zw(this,"text",e)):Nq(e==null?"":e+""))}function $q(e){return function(t){this.textContent=e.call(this,t)}}function Gq(e){var t,n;function i(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&$q(s)),t}return i._value=e,i}function zq(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Gq(e))}function jq(){for(var e=this._name,t=this._id,n=WT(),i=this._groups,s=i.length,r=0;r<s;++r)for(var o=i[r],a=o.length,l,A=0;A<a;++A)if(l=o[A]){var u=Qi(l,t);Xf(l,e,n,A,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Fs(i,this._parents,e,n)}function Wq(){var e,t,n=this,i=n._id,s=n.size();return new Promise(function(r,o){var a={value:o},l={value:function(){--s===0&&r()}};n.each(function(){var A=ns(this,i),u=A.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),A.on=t}),s===0&&r()})}var qq=0;function Fs(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function WT(){return++qq}var os=Er.prototype;Fs.prototype={constructor:Fs,select:Fq,selectAll:Uq,selectChild:os.selectChild,selectChildren:os.selectChildren,filter:bq,merge:Bq,selection:kq,transition:jq,call:os.call,nodes:os.nodes,node:os.node,size:os.size,empty:os.empty,each:os.each,on:Eq,attr:oq,attrTween:cq,style:Dq,styleTween:Hq,text:Vq,textTween:zq,remove:Sq,tween:Z9,delay:fq,duration:mq,ease:vq,easeVarying:_q,end:Wq,[Symbol.iterator]:os[Symbol.iterator]};function Xq(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Jq={time:null,delay:0,duration:250,ease:Xq};function Yq(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Zq(e){var t,n;e instanceof Fs?(t=e._id,e=e._name):(t=WT(),(n=Jq).time=$w(),e=e==null?null:e+"");for(var i=this._groups,s=i.length,r=0;r<s;++r)for(var o=i[r],a=o.length,l,A=0;A<a;++A)(l=o[A])&&Xf(l,e,t,A,o,n||Yq(l,t));return new Fs(i,this._parents,e,t)}Er.prototype.interrupt=X9;Er.prototype.transition=Zq;const zm=Math.PI,jm=2*zm,Or=1e-6,e7=jm-Or;function qT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function t7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qT;const n=10**t;return function(i){this._+=i[0];for(let s=1,r=i.length;s<r;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}class jw{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?qT:t7(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,s){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+s}`}bezierCurveTo(t,n,i,s,r,o){this._append`C${+t},${+n},${+i},${+s},${this._x1=+r},${this._y1=+o}`}arcTo(t,n,i,s,r){if(t=+t,n=+n,i=+i,s=+s,r=+r,r<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,l=i-t,A=s-n,u=o-t,c=a-n,d=u*u+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Or)if(!(Math.abs(c*l-A*u)>Or)||!r)this._append`L${this._x1=t},${this._y1=n}`;else{let h=i-o,p=s-a,m=l*l+A*A,g=h*h+p*p,w=Math.sqrt(m),v=Math.sqrt(d),C=r*Math.tan((zm-Math.acos((m+d-g)/(2*w*v)))/2),B=C/v,E=C/w;Math.abs(B-1)>Or&&this._append`L${t+B*u},${n+B*c}`,this._append`A${r},${r},0,0,${+(c*h>u*p)},${this._x1=t+E*l},${this._y1=n+E*A}`}}arc(t,n,i,s,r,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(s),l=i*Math.sin(s),A=t+a,u=n+l,c=1^o,d=o?s-r:r-s;this._x1===null?this._append`M${A},${u}`:(Math.abs(this._x1-A)>Or||Math.abs(this._y1-u)>Or)&&this._append`L${A},${u}`,i&&(d<0&&(d=d%jm+jm),d>e7?this._append`A${i},${i},0,1,${c},${t-a},${n-l}A${i},${i},0,1,${c},${this._x1=A},${this._y1=u}`:d>Or&&this._append`A${i},${i},0,${+(d>=zm)},${c},${this._x1=t+i*Math.cos(r)},${this._y1=n+i*Math.sin(r)}`)}rect(t,n,i,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+s}h${-i}Z`}toString(){return this._}}function Wm(){return new jw}Wm.prototype=jw.prototype;const ws=11102230246251565e-32,rn=134217729,n7=(3+8*ws)*ws;function tg(e,t,n,i,s){let r,o,a,l,A=t[0],u=i[0],c=0,d=0;u>A==u>-A?(r=A,A=t[++c]):(r=u,u=i[++d]);let h=0;if(c<e&&d<n)for(u>A==u>-A?(o=A+r,a=r-(o-A),A=t[++c]):(o=u+r,a=r-(o-u),u=i[++d]),r=o,a!==0&&(s[h++]=a);c<e&&d<n;)u>A==u>-A?(o=r+A,l=o-r,a=r-(o-l)+(A-l),A=t[++c]):(o=r+u,l=o-r,a=r-(o-l)+(u-l),u=i[++d]),r=o,a!==0&&(s[h++]=a);for(;c<e;)o=r+A,l=o-r,a=r-(o-l)+(A-l),A=t[++c],r=o,a!==0&&(s[h++]=a);for(;d<n;)o=r+u,l=o-r,a=r-(o-l)+(u-l),u=i[++d],r=o,a!==0&&(s[h++]=a);return(r!==0||h===0)&&(s[h++]=r),h}function i7(e,t){let n=t[0];for(let i=1;i<e;i++)n+=t[i];return n}function Lu(e){return new Float64Array(e)}const s7=(3+16*ws)*ws,r7=(2+12*ws)*ws,o7=(9+64*ws)*ws*ws,Mo=Lu(4),nC=Lu(8),iC=Lu(12),sC=Lu(16),wn=Lu(4);function a7(e,t,n,i,s,r,o){let a,l,A,u,c,d,h,p,m,g,w,v,C,B,E,S,F,U;const Q=e-s,k=n-s,L=t-r,R=i-r;B=Q*R,d=rn*Q,h=d-(d-Q),p=Q-h,d=rn*R,m=d-(d-R),g=R-m,E=p*g-(B-h*m-p*m-h*g),S=L*k,d=rn*L,h=d-(d-L),p=L-h,d=rn*k,m=d-(d-k),g=k-m,F=p*g-(S-h*m-p*m-h*g),w=E-F,c=E-w,Mo[0]=E-(w+c)+(c-F),v=B+w,c=v-B,C=B-(v-c)+(w-c),w=C-S,c=C-w,Mo[1]=C-(w+c)+(c-S),U=v+w,c=U-v,Mo[2]=v-(U-c)+(w-c),Mo[3]=U;let D=i7(4,Mo),z=r7*o;if(D>=z||-D>=z||(c=e-Q,a=e-(Q+c)+(c-s),c=n-k,A=n-(k+c)+(c-s),c=t-L,l=t-(L+c)+(c-r),c=i-R,u=i-(R+c)+(c-r),a===0&&l===0&&A===0&&u===0)||(z=o7*o+n7*Math.abs(D),D+=Q*u+R*a-(L*A+k*l),D>=z||-D>=z))return D;B=a*R,d=rn*a,h=d-(d-a),p=a-h,d=rn*R,m=d-(d-R),g=R-m,E=p*g-(B-h*m-p*m-h*g),S=l*k,d=rn*l,h=d-(d-l),p=l-h,d=rn*k,m=d-(d-k),g=k-m,F=p*g-(S-h*m-p*m-h*g),w=E-F,c=E-w,wn[0]=E-(w+c)+(c-F),v=B+w,c=v-B,C=B-(v-c)+(w-c),w=C-S,c=C-w,wn[1]=C-(w+c)+(c-S),U=v+w,c=U-v,wn[2]=v-(U-c)+(w-c),wn[3]=U;const ce=tg(4,Mo,4,wn,nC);B=Q*u,d=rn*Q,h=d-(d-Q),p=Q-h,d=rn*u,m=d-(d-u),g=u-m,E=p*g-(B-h*m-p*m-h*g),S=L*A,d=rn*L,h=d-(d-L),p=L-h,d=rn*A,m=d-(d-A),g=A-m,F=p*g-(S-h*m-p*m-h*g),w=E-F,c=E-w,wn[0]=E-(w+c)+(c-F),v=B+w,c=v-B,C=B-(v-c)+(w-c),w=C-S,c=C-w,wn[1]=C-(w+c)+(c-S),U=v+w,c=U-v,wn[2]=v-(U-c)+(w-c),wn[3]=U;const Y=tg(ce,nC,4,wn,iC);B=a*u,d=rn*a,h=d-(d-a),p=a-h,d=rn*u,m=d-(d-u),g=u-m,E=p*g-(B-h*m-p*m-h*g),S=l*A,d=rn*l,h=d-(d-l),p=l-h,d=rn*A,m=d-(d-A),g=A-m,F=p*g-(S-h*m-p*m-h*g),w=E-F,c=E-w,wn[0]=E-(w+c)+(c-F),v=B+w,c=v-B,C=B-(v-c)+(w-c),w=C-S,c=C-w,wn[1]=C-(w+c)+(c-S),U=v+w,c=U-v,wn[2]=v-(U-c)+(w-c),wn[3]=U;const q=tg(Y,iC,4,wn,sC);return sC[q-1]}function pc(e,t,n,i,s,r){const o=(t-r)*(n-s),a=(e-s)*(i-r),l=o-a;if(o===0||a===0||o>0!=a>0)return l;const A=Math.abs(o+a);return Math.abs(l)>=s7*A?l:-a7(e,t,n,i,s,r,A)}const rC=Math.pow(2,-52),gc=new Uint32Array(512);class dh{static from(t,n=d7,i=h7){const s=t.length,r=new Float64Array(s*2);for(let o=0;o<s;o++){const a=t[o];r[2*o]=n(a),r[2*o+1]=i(a)}return new dh(r)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:i,_hullTri:s,_hullHash:r}=this,o=t.length>>1;let a=1/0,l=1/0,A=-1/0,u=-1/0;for(let k=0;k<o;k++){const L=t[2*k],R=t[2*k+1];L<a&&(a=L),R<l&&(l=R),L>A&&(A=L),R>u&&(u=R),this._ids[k]=k}const c=(a+A)/2,d=(l+u)/2;let h=1/0,p,m,g;for(let k=0;k<o;k++){const L=ng(c,d,t[2*k],t[2*k+1]);L<h&&(p=k,h=L)}const w=t[2*p],v=t[2*p+1];h=1/0;for(let k=0;k<o;k++){if(k===p)continue;const L=ng(w,v,t[2*k],t[2*k+1]);L<h&&L>0&&(m=k,h=L)}let C=t[2*m],B=t[2*m+1],E=1/0;for(let k=0;k<o;k++){if(k===p||k===m)continue;const L=u7(w,v,C,B,t[2*k],t[2*k+1]);L<E&&(g=k,E=L)}let S=t[2*g],F=t[2*g+1];if(E===1/0){for(let R=0;R<o;R++)this._dists[R]=t[2*R]-t[0]||t[2*R+1]-t[1];sa(this._ids,this._dists,0,o-1);const k=new Uint32Array(o);let L=0;for(let R=0,D=-1/0;R<o;R++){const z=this._ids[R];this._dists[z]>D&&(k[L++]=z,D=this._dists[z])}this.hull=k.subarray(0,L),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(pc(w,v,C,B,S,F)<0){const k=m,L=C,R=B;m=g,C=S,B=F,g=k,S=L,F=R}const U=c7(w,v,C,B,S,F);this._cx=U.x,this._cy=U.y;for(let k=0;k<o;k++)this._dists[k]=ng(t[2*k],t[2*k+1],U.x,U.y);sa(this._ids,this._dists,0,o-1),this._hullStart=p;let Q=3;i[p]=n[g]=m,i[m]=n[p]=g,i[g]=n[m]=p,s[p]=0,s[m]=1,s[g]=2,r.fill(-1),r[this._hashKey(w,v)]=p,r[this._hashKey(C,B)]=m,r[this._hashKey(S,F)]=g,this.trianglesLen=0,this._addTriangle(p,m,g,-1,-1,-1);for(let k=0,L,R;k<this._ids.length;k++){const D=this._ids[k],z=t[2*D],ce=t[2*D+1];if(k>0&&Math.abs(z-L)<=rC&&Math.abs(ce-R)<=rC||(L=z,R=ce,D===p||D===m||D===g))continue;let Y=0;for(let tt=0,We=this._hashKey(z,ce);tt<this._hashSize&&(Y=r[(We+tt)%this._hashSize],!(Y!==-1&&Y!==i[Y]));tt++);Y=n[Y];let q=Y,ae;for(;ae=i[q],pc(z,ce,t[2*q],t[2*q+1],t[2*ae],t[2*ae+1])>=0;)if(q=ae,q===Y){q=-1;break}if(q===-1)continue;let ve=this._addTriangle(q,D,i[q],-1,-1,s[q]);s[D]=this._legalize(ve+2),s[q]=ve,Q++;let Ne=i[q];for(;ae=i[Ne],pc(z,ce,t[2*Ne],t[2*Ne+1],t[2*ae],t[2*ae+1])<0;)ve=this._addTriangle(Ne,D,ae,s[D],-1,s[Ne]),s[D]=this._legalize(ve+2),i[Ne]=Ne,Q--,Ne=ae;if(q===Y)for(;ae=n[q],pc(z,ce,t[2*ae],t[2*ae+1],t[2*q],t[2*q+1])<0;)ve=this._addTriangle(ae,D,q,-1,s[q],s[ae]),this._legalize(ve+2),s[ae]=ve,i[q]=q,Q--,q=ae;this._hullStart=n[D]=q,i[q]=n[Ne]=D,i[D]=Ne,r[this._hashKey(z,ce)]=D,r[this._hashKey(t[2*q],t[2*q+1])]=q}this.hull=new Uint32Array(Q);for(let k=0,L=this._hullStart;k<Q;k++)this.hull[k]=L,L=i[L];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(l7(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:i,coords:s}=this;let r=0,o=0;for(;;){const a=i[t],l=t-t%3;if(o=l+(t+2)%3,a===-1){if(r===0)break;t=gc[--r];continue}const A=a-a%3,u=l+(t+1)%3,c=A+(a+2)%3,d=n[o],h=n[t],p=n[u],m=n[c];if(A7(s[2*d],s[2*d+1],s[2*h],s[2*h+1],s[2*p],s[2*p+1],s[2*m],s[2*m+1])){n[t]=m,n[a]=d;const w=i[c];if(w===-1){let C=this._hullStart;do{if(this._hullTri[C]===c){this._hullTri[C]=t;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(t,w),this._link(a,i[o]),this._link(o,c);const v=A+(a+1)%3;r<gc.length&&(gc[r++]=v)}else{if(r===0)break;t=gc[--r]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,i,s,r,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=i,this._link(a,s),this._link(a+1,r),this._link(a+2,o),this.trianglesLen+=3,a}}function l7(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function ng(e,t,n,i){const s=e-n,r=t-i;return s*s+r*r}function A7(e,t,n,i,s,r,o,a){const l=e-o,A=t-a,u=n-o,c=i-a,d=s-o,h=r-a,p=l*l+A*A,m=u*u+c*c,g=d*d+h*h;return l*(c*g-m*h)-A*(u*g-m*d)+p*(u*h-c*d)<0}function u7(e,t,n,i,s,r){const o=n-e,a=i-t,l=s-e,A=r-t,u=o*o+a*a,c=l*l+A*A,d=.5/(o*A-a*l),h=(A*u-a*c)*d,p=(o*c-l*u)*d;return h*h+p*p}function c7(e,t,n,i,s,r){const o=n-e,a=i-t,l=s-e,A=r-t,u=o*o+a*a,c=l*l+A*A,d=.5/(o*A-a*l),h=e+(A*u-a*c)*d,p=t+(o*c-l*u)*d;return{x:h,y:p}}function sa(e,t,n,i){if(i-n<=20)for(let s=n+1;s<=i;s++){const r=e[s],o=t[r];let a=s-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=r}else{const s=n+i>>1;let r=n+1,o=i;_l(e,s,r),t[e[n]]>t[e[i]]&&_l(e,n,i),t[e[r]]>t[e[i]]&&_l(e,r,i),t[e[n]]>t[e[r]]&&_l(e,n,r);const a=e[r],l=t[a];for(;;){do r++;while(t[e[r]]<l);do o--;while(t[e[o]]>l);if(o<r)break;_l(e,r,o)}e[n+1]=e[o],e[o]=a,i-r+1>=o-n?(sa(e,t,r,i),sa(e,t,n,o-1)):(sa(e,t,n,o-1),sa(e,t,r,i))}}function _l(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function d7(e){return e[0]}function h7(e){return e[1]}const oC=1e-6;class qr{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,i){t=+t,n=+n,i=+i;const s=t+i,r=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${s},${r}`:(Math.abs(this._x1-s)>oC||Math.abs(this._y1-r)>oC)&&(this._+="L"+s+","+r),i&&(this._+=`A${i},${i},0,1,1,${t-i},${n}A${i},${i},0,1,1,${this._x1=s},${this._y1=r}`)}rect(t,n,i,s){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+i}v${+s}h${-i}Z`}value(){return this._||null}}class qm{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class f7{constructor(t,[n,i,s,r]=[0,0,960,500]){if(!((s=+s)>=(n=+n))||!((r=+r)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=s,this.xmin=n,this.ymax=r,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:i},vectors:s}=this;let r,o;const a=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let m=0,g=0,w=i.length,v,C;m<w;m+=3,g+=2){const B=i[m]*2,E=i[m+1]*2,S=i[m+2]*2,F=t[B],U=t[B+1],Q=t[E],k=t[E+1],L=t[S],R=t[S+1],D=Q-F,z=k-U,ce=L-F,Y=R-U,q=(D*Y-z*ce)*2;if(Math.abs(q)<1e-9){if(r===void 0){r=o=0;for(const ve of n)r+=t[ve*2],o+=t[ve*2+1];r/=n.length,o/=n.length}const ae=1e9*Math.sign((r-F)*Y-(o-U)*ce);v=(F+L)/2-ae*Y,C=(U+R)/2+ae*ce}else{const ae=1/q,ve=D*D+z*z,Ne=ce*ce+Y*Y;v=F+(Y*ve-z*Ne)*ae,C=U+(D*Ne-ce*ve)*ae}a[g]=v,a[g+1]=C}let l=n[n.length-1],A,u=l*4,c,d=t[2*l],h,p=t[2*l+1];s.fill(0);for(let m=0;m<n.length;++m)l=n[m],A=u,c=d,h=p,u=l*4,d=t[2*l],p=t[2*l+1],s[A+2]=s[u]=h-p,s[A+3]=s[u+1]=d-c}render(t){const n=t==null?t=new qr:void 0,{delaunay:{halfedges:i,inedges:s,hull:r},circumcenters:o,vectors:a}=this;if(r.length<=1)return null;for(let u=0,c=i.length;u<c;++u){const d=i[u];if(d<u)continue;const h=Math.floor(u/3)*2,p=Math.floor(d/3)*2,m=o[h],g=o[h+1],w=o[p],v=o[p+1];this._renderSegment(m,g,w,v,t)}let l,A=r[r.length-1];for(let u=0;u<r.length;++u){l=A,A=r[u];const c=Math.floor(s[A]/3)*2,d=o[c],h=o[c+1],p=l*4,m=this._project(d,h,a[p+2],a[p+3]);m&&this._renderSegment(d,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new qr:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const i=n==null?n=new qr:void 0,s=this._clip(t);if(s===null||!s.length)return;n.moveTo(s[0],s[1]);let r=s.length;for(;s[0]===s[r-2]&&s[1]===s[r-1]&&r>1;)r-=2;for(let o=2;o<r;o+=2)(s[o]!==s[o-2]||s[o+1]!==s[o-1])&&n.lineTo(s[o],s[o+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,i=t.length/2;n<i;++n){const s=this.cellPolygon(n);s&&(s.index=n,yield s)}}cellPolygon(t){const n=new qm;return this.renderCell(t,n),n.value()}_renderSegment(t,n,i,s,r){let o;const a=this._regioncode(t,n),l=this._regioncode(i,s);a===0&&l===0?(r.moveTo(t,n),r.lineTo(i,s)):(o=this._clipSegment(t,n,i,s,a,l))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}contains(t,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(t,n,i)===t}*neighbors(t){const n=this._clip(t);if(n)for(const i of this.delaunay.neighbors(t)){const s=this._clip(i);if(s){e:for(let r=0,o=n.length;r<o;r+=2)for(let a=0,l=s.length;a<l;a+=2)if(n[r]===s[a]&&n[r+1]===s[a+1]&&n[(r+2)%o]===s[(a+l-2)%l]&&n[(r+3)%o]===s[(a+l-1)%l]){yield i;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:i,halfedges:s,triangles:r}}=this,o=i[t];if(o===-1)return null;const a=[];let l=o;do{const A=Math.floor(l/3);if(a.push(n[A*2],n[A*2+1]),l=l%3===2?l-2:l+1,r[l]!==t)break;l=s[l]}while(l!==o&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:i}=this,s=t*4;return this._simplify(i[s]||i[s+1]?this._clipInfinite(t,n,i[s],i[s+1],i[s+2],i[s+3]):this._clipFinite(t,n))}_clipFinite(t,n){const i=n.length;let s=null,r,o,a=n[i-2],l=n[i-1],A,u=this._regioncode(a,l),c,d=0;for(let h=0;h<i;h+=2)if(r=a,o=l,a=n[h],l=n[h+1],A=u,u=this._regioncode(a,l),A===0&&u===0)c=d,d=0,s?s.push(a,l):s=[a,l];else{let p,m,g,w,v;if(A===0){if((p=this._clipSegment(r,o,a,l,A,u))===null)continue;[m,g,w,v]=p}else{if((p=this._clipSegment(a,l,r,o,u,A))===null)continue;[w,v,m,g]=p,c=d,d=this._edgecode(m,g),c&&d&&this._edge(t,c,d,s,s.length),s?s.push(m,g):s=[m,g]}c=d,d=this._edgecode(w,v),c&&d&&this._edge(t,c,d,s,s.length),s?s.push(w,v):s=[w,v]}if(s)c=d,d=this._edgecode(s[0],s[1]),c&&d&&this._edge(t,c,d,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,i,s,r,o){const a=r<o;for(a&&([t,n,i,s,r,o]=[i,s,t,n,o,r]);;){if(r===0&&o===0)return a?[i,s,t,n]:[t,n,i,s];if(r&o)return null;let l,A,u=r||o;u&8?(l=t+(i-t)*(this.ymax-n)/(s-n),A=this.ymax):u&4?(l=t+(i-t)*(this.ymin-n)/(s-n),A=this.ymin):u&2?(A=n+(s-n)*(this.xmax-t)/(i-t),l=this.xmax):(A=n+(s-n)*(this.xmin-t)/(i-t),l=this.xmin),r?(t=l,n=A,r=this._regioncode(t,n)):(i=l,s=A,o=this._regioncode(i,s))}}_clipInfinite(t,n,i,s,r,o){let a=Array.from(n),l;if((l=this._project(a[0],a[1],i,s))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],r,o))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let A=0,u=a.length,c,d=this._edgecode(a[u-2],a[u-1]);A<u;A+=2)c=d,d=this._edgecode(a[A],a[A+1]),c&&d&&(A=this._edge(t,c,d,a,A),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,i,s,r){for(;n!==i;){let o,a;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,a=this.ymin;break}(s[r]!==o||s[r+1]!==a)&&this.contains(t,o,a)&&(s.splice(r,0,o,a),r+=2)}return r}_project(t,n,i,s){let r=1/0,o,a,l;if(s<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/s)<r&&(l=this.ymin,a=t+(r=o)*i)}else if(s>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/s)<r&&(l=this.ymax,a=t+(r=o)*i)}if(i>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/i)<r&&(a=this.xmax,l=n+(r=o)*s)}else if(i<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/i)<r&&(a=this.xmin,l=n+(r=o)*s)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const i=(n+2)%t.length,s=(n+4)%t.length;(t[n]===t[i]&&t[i]===t[s]||t[n+1]===t[i+1]&&t[i+1]===t[s+1])&&(t.splice(i,2),n-=2)}t.length||(t=null)}return t}}const p7=2*Math.PI,Po=Math.pow;function g7(e){return e[0]}function m7(e){return e[1]}function y7(e){const{triangles:t,coords:n}=e;for(let i=0;i<t.length;i+=3){const s=2*t[i],r=2*t[i+1],o=2*t[i+2];if((n[o]-n[s])*(n[r+1]-n[s+1])-(n[r]-n[s])*(n[o+1]-n[s+1])>1e-10)return!1}return!0}function v7(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Ww{static from(t,n=g7,i=m7,s){return new Ww("length"in t?w7(t,n,i,s):Float64Array.from(_7(t,n,i,s)))}constructor(t){this._delaunator=new dh(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&y7(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],A=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*A],n[2*A+1]],c=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let d=0,h=n.length/2;d<h;++d){const p=v7(n[2*d],n[2*d+1],c);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new dh(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,A=i.length;l<A;++l){const u=r[l%3===2?l-2:l+1];(i[l]===-1||o[u]===-1)&&(o[u]=l)}for(let l=0,A=s.length;l<A;++l)a[s[l]]=l;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],o[s[0]]=1,s.length===2&&(o[s[1]]=0,this.triangles[1]=s[1],this.triangles[2]=s[1]))}voronoi(t){return new f7(this,t)}*neighbors(t){const{inedges:n,hull:i,_hullIndex:s,halfedges:r,triangles:o,collinear:a}=this;if(a){const c=a.indexOf(t);c>0&&(yield a[c-1]),c<a.length-1&&(yield a[c+1]);return}const l=n[t];if(l===-1)return;let A=l,u=-1;do{if(yield u=o[A],A=A%3===2?A-2:A+1,o[A]!==t)return;if(A=r[A],A===-1){const c=i[(s[t]+1)%i.length];c!==u&&(yield c);return}}while(A!==l)}find(t,n,i=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const s=i;let r;for(;(r=this._step(i,t,n))>=0&&r!==i&&r!==s;)i=r;return r}_step(t,n,i){const{inedges:s,hull:r,_hullIndex:o,halfedges:a,triangles:l,points:A}=this;if(s[t]===-1||!A.length)return(t+1)%(A.length>>1);let u=t,c=Po(n-A[t*2],2)+Po(i-A[t*2+1],2);const d=s[t];let h=d;do{let p=l[h];const m=Po(n-A[p*2],2)+Po(i-A[p*2+1],2);if(m<c&&(c=m,u=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=r[(o[t]+1)%r.length],h!==p&&Po(n-A[h*2],2)+Po(i-A[h*2+1],2)<c)return h;break}}while(h!==d);return u}render(t){const n=t==null?t=new qr:void 0,{points:i,halfedges:s,triangles:r}=this;for(let o=0,a=s.length;o<a;++o){const l=s[o];if(l<o)continue;const A=r[o]*2,u=r[l]*2;t.moveTo(i[A],i[A+1]),t.lineTo(i[u],i[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const i=t==null?t=new qr:void 0,{points:s}=this;for(let r=0,o=s.length;r<o;r+=2){const a=s[r],l=s[r+1];t.moveTo(a+n,l),t.arc(a,l,n,0,p7)}return i&&i.value()}renderHull(t){const n=t==null?t=new qr:void 0,{hull:i,points:s}=this,r=i[0]*2,o=i.length;t.moveTo(s[r],s[r+1]);for(let a=1;a<o;++a){const l=2*i[a];t.lineTo(s[l],s[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new qm;return this.renderHull(t),t.value()}renderTriangle(t,n){const i=n==null?n=new qr:void 0,{points:s,triangles:r}=this,o=r[t*=3]*2,a=r[t+1]*2,l=r[t+2]*2;return n.moveTo(s[o],s[o+1]),n.lineTo(s[a],s[a+1]),n.lineTo(s[l],s[l+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,i=t.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new qm;return this.renderTriangle(t,n),n.value()}}function w7(e,t,n,i){const s=e.length,r=new Float64Array(s*2);for(let o=0;o<s;++o){const a=e[o];r[o*2]=t.call(i,a,o,e),r[o*2+1]=n.call(i,a,o,e)}return r}function*_7(e,t,n,i){let s=0;for(const r of e)yield t.call(i,r,s,e),yield n.call(i,r,s,e),++s}function b7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Pa(e){return e=hh(Math.abs(e)),e?e[1]:NaN}function B7(e,t){return function(n,i){for(var s=n.length,r=[],o=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),r.push(n.substring(s-=a,s+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return r.reverse().join(t)}}function C7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var x7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fh(e){if(!(t=x7.exec(e)))throw new Error("invalid format: "+e);var t;return new qw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fh.prototype=qw.prototype;function qw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E7(e){e:for(var t=e.length,n=1,i=-1,s;n<t;++n)switch(e[n]){case".":i=s=n;break;case"0":i===0&&(i=n),s=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var XT;function I7(e,t){var n=hh(e,t);if(!n)return e+"";var i=n[0],s=n[1],r=s-(XT=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=i.length;return r===o?i:r>o?i+new Array(r-o+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+hh(e,Math.max(0,t+r-1))[0]}function aC(e,t){var n=hh(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}var lC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:b7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aC(e*100,t),r:aC,s:I7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AC(e){return e}var uC=Array.prototype.map,cC=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function S7(e){var t=e.grouping===void 0||e.thousands===void 0?AC:B7(uC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?AC:C7(uC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function A(c){c=fh(c);var d=c.fill,h=c.align,p=c.sign,m=c.symbol,g=c.zero,w=c.width,v=c.comma,C=c.precision,B=c.trim,E=c.type;E==="n"?(v=!0,E="g"):lC[E]||(C===void 0&&(C=12),B=!0,E="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",F=m==="$"?i:/[%p]/.test(E)?o:"",U=lC[E],Q=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function k(L){var R=S,D=F,z,ce,Y;if(E==="c")D=U(L)+D,L="";else{L=+L;var q=L<0||1/L<0;if(L=isNaN(L)?l:U(Math.abs(L),C),B&&(L=E7(L)),q&&+L==0&&p!=="+"&&(q=!1),R=(q?p==="("?p:a:p==="-"||p==="("?"":p)+R,D=(E==="s"?cC[8+XT/3]:"")+D+(q&&p==="("?")":""),Q){for(z=-1,ce=L.length;++z<ce;)if(Y=L.charCodeAt(z),48>Y||Y>57){D=(Y===46?s+L.slice(z+1):L.slice(z))+D,L=L.slice(0,z);break}}}v&&!g&&(L=t(L,1/0));var ae=R.length+L.length+D.length,ve=ae<w?new Array(w-ae+1).join(d):"";switch(v&&g&&(L=t(ve+L,ve.length?w-D.length:1/0),ve=""),h){case"<":L=R+L+D+ve;break;case"=":L=R+ve+L+D;break;case"^":L=ve.slice(0,ae=ve.length>>1)+R+L+D+ve.slice(ae);break;default:L=ve+R+L+D;break}return r(L)}return k.toString=function(){return c+""},k}function u(c,d){var h=A((c=fh(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(Pa(d)/3)))*3,m=Math.pow(10,-p),g=cC[8+p/3];return function(w){return h(m*w)+g}}return{format:A,formatPrefix:u}}var mc,JT,YT;F7({thousands:",",grouping:[3],currency:["$",""]});function F7(e){return mc=S7(e),JT=mc.format,YT=mc.formatPrefix,mc}function U7(e){return Math.max(0,-Pa(Math.abs(e)))}function T7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pa(t)/3)))*3-Pa(Math.abs(e)))}function k7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pa(t)-Pa(e))+1}function Xw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Q7(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dC=Symbol("implicit");function ZT(){var e=new Dm,t=[],n=[],i=dC;function s(r){let o=e.get(r);if(o===void 0){if(i!==dC)return i;e.set(r,o=t.push(r)-1)}return n[o%n.length]}return s.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Dm;for(const o of r)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(r){return arguments.length?(n=Array.from(r),s):n.slice()},s.unknown=function(r){return arguments.length?(i=r,s):i},s.copy=function(){return ZT(t,n).unknown(i)},Xw.apply(s,arguments),s}function jA(){var e=ZT().unknown(void 0),t=e.domain,n=e.range,i=0,s=1,r,o,a=!1,l=0,A=0,u=.5;delete e.unknown;function c(){var d=t().length,h=s<i,p=h?s:i,m=h?i:s;r=(m-p)/Math.max(1,d-l+A*2),a&&(r=Math.floor(r)),p+=(m-p-r*(d-l))*u,o=r*(1-l),a&&(p=Math.round(p),o=Math.round(o));var g=Ij(d).map(function(w){return p+r*w});return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([i,s]=d,i=+i,s=+s,c()):[i,s]},e.rangeRound=function(d){return[i,s]=d,i=+i,s=+s,a=!0,c()},e.bandwidth=function(){return o},e.step=function(){return r},e.round=function(d){return arguments.length?(a=!!d,c()):a},e.padding=function(d){return arguments.length?(l=Math.min(1,A=+d),c()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),c()):l},e.paddingOuter=function(d){return arguments.length?(A=+d,c()):A},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.copy=function(){return jA(t(),[i,s]).round(a).paddingInner(l).paddingOuter(A).align(u)},Xw.apply(c(),arguments)}function L7(e){return function(){return e}}function O7(e){return+e}var hC=[0,1];function nr(e){return e}function Xm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:L7(isNaN(t)?NaN:.5)}function R7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function D7(e,t,n){var i=e[0],s=e[1],r=t[0],o=t[1];return s<i?(i=Xm(s,i),r=n(o,r)):(i=Xm(i,s),r=n(r,o)),function(a){return r(i(a))}}function M7(e,t,n){var i=Math.min(e.length,t.length)-1,s=new Array(i),r=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)s[o]=Xm(e[o],e[o+1]),r[o]=n(t[o],t[o+1]);return function(a){var l=gj(e,a,1,i)-1;return r[l](s[l](a))}}function P7(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H7(){var e=hC,t=hC,n=Wf,i,s,r,o=nr,a,l,A;function u(){var d=Math.min(e.length,t.length);return o!==nr&&(o=R7(e[0],e[d-1])),a=d>2?M7:D7,l=A=null,c}function c(d){return d==null||isNaN(d=+d)?r:(l||(l=a(e.map(i),t,n)))(i(o(d)))}return c.invert=function(d){return o(s((A||(A=a(t,e.map(i),pi)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,O7),u()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),n=DT,u()},c.clamp=function(d){return arguments.length?(o=d?!0:nr,u()):o!==nr},c.interpolate=function(d){return arguments.length?(n=d,u()):n},c.unknown=function(d){return arguments.length?(r=d,c):r},function(d,h){return i=d,s=h,u()}}function N7(){return H7()(nr,nr)}function K7(e,t,n,i){var s=xj(e,t,n),r;switch(i=fh(i==null?",f":i),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(r=T7(s,o))&&(i.precision=r),YT(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(r=k7(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=r-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(r=U7(s))&&(i.precision=r-(i.type==="%")*2);break}}return JT(i)}function ek(e){var t=e.domain;return e.ticks=function(n){var i=t();return Cj(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var s=t();return K7(s[0],s[s.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),s=0,r=i.length-1,o=i[s],a=i[r],l,A,u=10;for(a<o&&(A=o,o=a,a=A,A=s,s=r,r=A);u-- >0;){if(A=Mm(o,a,n),A===l)return i[s]=o,i[r]=a,t(i);if(A>0)o=Math.floor(o/A)*A,a=Math.ceil(a/A)*A;else if(A<0)o=Math.ceil(o*A)/A,a=Math.floor(a*A)/A;else break;l=A}return e},e}function ph(){var e=N7();return e.copy=function(){return P7(e,ph())},Xw.apply(e,arguments),ek(e)}function V7(){var e=0,t=1,n,i,s,r,o=nr,a=!1,l;function A(c){return c==null||isNaN(c=+c)?l:o(s===0?.5:(c=(r(c)-n)*s,a?Math.max(0,Math.min(1,c)):c))}A.domain=function(c){return arguments.length?([e,t]=c,n=r(e=+e),i=r(t=+t),s=n===i?0:1/(i-n),A):[e,t]},A.clamp=function(c){return arguments.length?(a=!!c,A):a},A.interpolator=function(c){return arguments.length?(o=c,A):o};function u(c){return function(d){var h,p;return arguments.length?([h,p]=d,o=c(h,p),A):[o(0),o(1)]}}return A.range=u(Wf),A.rangeRound=u(DT),A.unknown=function(c){return arguments.length?(l=c,A):l},function(c){return r=c,n=c(e),i=c(t),s=n===i?0:1/(i-n),A}}function $7(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dr(){var e=ek(V7()(nr));return e.copy=function(){return $7(e,dr())},Q7.apply(e,arguments)}function Jf(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}var Jw=NT(wr(-100,.75,.35),wr(80,1.5,.8));NT(wr(260,.75,.35),wr(80,1.5,.8));var yc=wr();function Yw(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return yc.h=360*e-100,yc.s=1.5-1.5*t,yc.l=.8-.9*t,yc+""}var vc=hs(),G7=Math.PI/3,z7=Math.PI*2/3;function WA(e){var t;return e=(.5-e)*Math.PI,vc.r=255*(t=Math.sin(e))*t,vc.g=255*(t=Math.sin(e+G7))*t,vc.b=255*(t=Math.sin(e+z7))*t,vc+""}function Yf(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Zw=Yf(Jf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Yf(Jf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));var fC=Yf(Jf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));Yf(Jf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ho(e){return function(){return e}}function j7(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new jw(t)}function W7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tk(e){this._context=e}tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q7(e){return new tk(e)}function X7(e){return e[0]}function J7(e){return e[1]}function pC(e,t){var n=Ho(!0),i=null,s=q7,r=null,o=j7(a);e=typeof e=="function"?e:e===void 0?X7:Ho(e),t=typeof t=="function"?t:t===void 0?J7:Ho(t);function a(l){var A,u=(l=W7(l)).length,c,d=!1,h;for(i==null&&(r=s(h=o())),A=0;A<=u;++A)!(A<u&&n(c=l[A],A,l))===d&&((d=!d)?r.lineStart():r.lineEnd()),d&&r.point(+e(c,A,l),+t(c,A,l));if(h)return r=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ho(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ho(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ho(!!l),a):n},a.curve=function(l){return arguments.length?(s=l,i!=null&&(r=s(i)),a):s},a.context=function(l){return arguments.length?(l==null?i=r=null:r=s(i=l),a):i},a}function gC(e){return e<0?-1:1}function mC(e,t,n){var i=e._x1-e._x0,s=t-e._x1,r=(e._y1-e._y0)/(i||s<0&&-0),o=(n-e._y1)/(s||i<0&&-0),a=(r*s+o*i)/(i+s);return(gC(r)+gC(o))*Math.min(Math.abs(r),Math.abs(o),.5*Math.abs(a))||0}function yC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ig(e,t,n){var i=e._x0,s=e._y0,r=e._x1,o=e._y1,a=(r-i)/3;e._context.bezierCurveTo(i+a,s+a*t,r-a,o-a*n,r,o)}function gh(e){this._context=e}gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ig(this,this._t0,yC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ig(this,yC(this,n=mC(this,e,t)),n);break;default:ig(this,this._t0,n=mC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(gh.prototype).point=function(e,t){gh.prototype.point.call(this,t,e)};function vC(e){return new gh(e)}function ra(e,t,n){this.k=e,this.x=t,this.y=n}ra.prototype={constructor:ra,scale:function(e){return e===1?this:new ra(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ra(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ra(1,0,0);ra.prototype;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jm=function(e,t){return Jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},Jm(e,t)};function Li(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ym=function(){return Ym=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)};function bn(e,t,n,i){function s(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{A(i.next(u))}catch(c){o(c)}}function l(u){try{A(i.throw(u))}catch(c){o(c)}}function A(u){u.done?r(u.value):s(u.value).then(a,l)}A((i=i.apply(e,t||[])).next())})}function on(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(A){return function(u){return l([A,u])}}function l(A){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,s&&(r=A[0]&2?s.return:A[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,A[1])).done)return r;switch(s=0,r&&(A=[A[0]&2,r.value]),A[0]){case 0:case 1:r=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,s=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!r||A[1]>r[0]&&A[1]<r[3])){n.label=A[1];break}if(A[0]===6&&n.label<r[1]){n.label=r[1],r=A;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(A);break}r[2]&&n.ops.pop(),n.trys.pop();continue}A=t.call(e,n)}catch(u){A=[6,u],s=0}finally{i=r=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function wc(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}var Us=function(){function e(t,n,i,s){this.left=t,this.top=n,this.width=i,this.height=s}return e.prototype.add=function(t,n,i,s){return new e(this.left+t,this.top+n,this.width+i,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var i=Array.from(n).find(function(s){return s.width!==0});return i?new e(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Zf=function(e,t){return Us.fromClientRect(e,t.getBoundingClientRect())},Y7=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Us(0,0,i,s)},ep=function(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var r=e.charCodeAt(n++);(r&64512)===56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},Et=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],s=-1,r="";++s<n;){var o=e[s];o<=65535?i.push(o):(o-=65536,i.push((o>>10)+55296,o%1024+56320)),(s+1===n||i.length>16384)&&(r+=String.fromCharCode.apply(String,i),i.length=0)}return r},wC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z7=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var _c=0;_c<wC.length;_c++)Z7[wC.charCodeAt(_c)]=_c;var _C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pl=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var bc=0;bc<_C.length;bc++)Pl[_C.charCodeAt(bc)]=bc;var eX=function(e){var t=e.length*.75,n=e.length,i,s=0,r,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(i=0;i<n;i+=4)r=Pl[e.charCodeAt(i)],o=Pl[e.charCodeAt(i+1)],a=Pl[e.charCodeAt(i+2)],l=Pl[e.charCodeAt(i+3)],u[s++]=r<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return A},tX=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},nX=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},ro=5,e_=6+5,sg=2,iX=e_-ro,nk=65536>>ro,sX=1<<ro,rg=sX-1,rX=1024>>ro,oX=nk+rX,aX=oX,lX=32,AX=aX+lX,uX=65536>>e_,cX=1<<iX,dX=cX-1,bC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},hX=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},fX=function(e,t){var n=eX(e),i=Array.isArray(n)?nX(n):new Uint32Array(n),s=Array.isArray(n)?tX(n):new Uint16Array(n),r=24,o=bC(s,r/2,i[4]/2),a=i[5]===2?bC(s,(r+i[4])/2):hX(i,Math.ceil((r+i[4])/4));return new pX(i[0],i[1],i[2],i[3],o,a)},pX=function(){function e(t,n,i,s,r,o){this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=s,this.index=r,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>ro],n=(n<<sg)+(t&rg),this.data[n];if(t<=65535)return n=this.index[nk+(t-55296>>ro)],n=(n<<sg)+(t&rg),this.data[n];if(t<this.highStart)return n=AX-uX+(t>>e_),n=this.index[n],n+=t>>ro&dX,n=this.index[n],n=(n<<sg)+(t&rg),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),BC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gX=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Bc=0;Bc<BC.length;Bc++)gX[BC.charCodeAt(Bc)]=Bc;var mX="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",CC=50,yX=1,ik=2,sk=3,vX=4,wX=5,xC=7,rk=8,EC=9,ir=10,Zm=11,IC=12,ey=13,_X=14,Hl=15,ty=16,Cc=17,bl=18,bX=19,SC=20,ny=21,Bl=22,og=23,No=24,Vn=25,Nl=26,Kl=27,Ko=28,BX=29,Mr=30,CX=31,xc=32,Ec=33,iy=34,sy=35,ry=36,qA=37,oy=38,fd=39,pd=40,ag=41,ok=42,xX=43,EX=[9001,65288],ak="!",Pe="\xD7",Ic="\xF7",ay=fX(mX),as=[Mr,ry],ly=[yX,ik,sk,wX],lk=[ir,rk],FC=[Kl,Nl],IX=ly.concat(lk),UC=[oy,fd,pd,iy,sy],SX=[Hl,ey],FX=function(e,t){t===void 0&&(t="strict");var n=[],i=[],s=[];return e.forEach(function(r,o){var a=ay.get(r);if(a>CC?(s.push(!0),a-=CC):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(r)!==-1)return i.push(o),n.push(ty);if(a===vX||a===Zm){if(o===0)return i.push(o),n.push(Mr);var l=n[o-1];return IX.indexOf(l)===-1?(i.push(i[o-1]),n.push(l)):(i.push(o),n.push(Mr))}if(i.push(o),a===CX)return n.push(t==="strict"?ny:qA);if(a===ok||a===BX)return n.push(Mr);if(a===xX)return r>=131072&&r<=196605||r>=196608&&r<=262141?n.push(qA):n.push(Mr);n.push(a)}),[i,n,s]},lg=function(e,t,n,i){var s=i[n];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var r=n;r<=i.length;){r++;var o=i[r];if(o===t)return!0;if(o!==ir)break}if(s===ir)for(var r=n;r>0;){r--;var a=i[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var l=n;l<=i.length;){l++;var o=i[l];if(o===t)return!0;if(o!==ir)break}if(a!==ir)break}return!1},TC=function(e,t){for(var n=e;n>=0;){var i=t[n];if(i===ir)n--;else return i}return 0},UX=function(e,t,n,i,s){if(n[i]===0)return Pe;var r=i-1;if(Array.isArray(s)&&s[r]===!0)return Pe;var o=r-1,a=r+1,l=t[r],A=o>=0?t[o]:0,u=t[a];if(l===ik&&u===sk)return Pe;if(ly.indexOf(l)!==-1)return ak;if(ly.indexOf(u)!==-1||lk.indexOf(u)!==-1)return Pe;if(TC(r,t)===rk)return Ic;if(ay.get(e[r])===Zm||(l===xc||l===Ec)&&ay.get(e[a])===Zm||l===xC||u===xC||l===EC||[ir,ey,Hl].indexOf(l)===-1&&u===EC||[Cc,bl,bX,No,Ko].indexOf(u)!==-1||TC(r,t)===Bl||lg(og,Bl,r,t)||lg([Cc,bl],ny,r,t)||lg(IC,IC,r,t))return Pe;if(l===ir)return Ic;if(l===og||u===og)return Pe;if(u===ty||l===ty)return Ic;if([ey,Hl,ny].indexOf(u)!==-1||l===_X||A===ry&&SX.indexOf(l)!==-1||l===Ko&&u===ry||u===SC||as.indexOf(u)!==-1&&l===Vn||as.indexOf(l)!==-1&&u===Vn||l===Kl&&[qA,xc,Ec].indexOf(u)!==-1||[qA,xc,Ec].indexOf(l)!==-1&&u===Nl||as.indexOf(l)!==-1&&FC.indexOf(u)!==-1||FC.indexOf(l)!==-1&&as.indexOf(u)!==-1||[Kl,Nl].indexOf(l)!==-1&&(u===Vn||[Bl,Hl].indexOf(u)!==-1&&t[a+1]===Vn)||[Bl,Hl].indexOf(l)!==-1&&u===Vn||l===Vn&&[Vn,Ko,No].indexOf(u)!==-1)return Pe;if([Vn,Ko,No,Cc,bl].indexOf(u)!==-1)for(var c=r;c>=0;){var d=t[c];if(d===Vn)return Pe;if([Ko,No].indexOf(d)!==-1)c--;else break}if([Kl,Nl].indexOf(u)!==-1)for(var c=[Cc,bl].indexOf(l)!==-1?o:r;c>=0;){var d=t[c];if(d===Vn)return Pe;if([Ko,No].indexOf(d)!==-1)c--;else break}if(oy===l&&[oy,fd,iy,sy].indexOf(u)!==-1||[fd,iy].indexOf(l)!==-1&&[fd,pd].indexOf(u)!==-1||[pd,sy].indexOf(l)!==-1&&u===pd||UC.indexOf(l)!==-1&&[SC,Nl].indexOf(u)!==-1||UC.indexOf(u)!==-1&&l===Kl||as.indexOf(l)!==-1&&as.indexOf(u)!==-1||l===No&&as.indexOf(u)!==-1||as.concat(Vn).indexOf(l)!==-1&&u===Bl&&EX.indexOf(e[a])===-1||as.concat(Vn).indexOf(u)!==-1&&l===bl)return Pe;if(l===ag&&u===ag){for(var h=n[r],p=1;h>0&&(h--,t[h]===ag);)p++;if(p%2!==0)return Pe}return l===xc&&u===Ec?Pe:Ic},TX=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=FX(e,t.lineBreak),i=n[0],s=n[1],r=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(a){return[Vn,Mr,ok].indexOf(a)!==-1?qA:a}));var o=t.wordBreak==="keep-all"?r.map(function(a,l){return a&&e[l]>=19968&&e[l]<=40959}):void 0;return[i,s,o]},kX=function(){function e(t,n,i,s){this.codePoints=t,this.required=n===ak,this.start=i,this.end=s}return e.prototype.slice=function(){return Et.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),QX=function(e,t){var n=ep(e),i=TX(n,t),s=i[0],r=i[1],o=i[2],a=n.length,l=0,A=0;return{next:function(){if(A>=a)return{done:!0,value:null};for(var u=Pe;A<a&&(u=UX(n,r,s,++A,o))===Pe;);if(u!==Pe||A===a){var c=new kX(n,u,l,A);return l=A,{value:c,done:!1}}return{done:!0,value:null}}}},LX=1<<0,OX=1<<1,Ou=1<<2,kC=1<<3,mh=10,QC=47,iA=92,RX=9,DX=32,Sc=34,Cl=61,MX=35,PX=36,HX=37,Fc=39,Uc=40,xl=41,NX=95,Sn=45,KX=33,VX=60,$X=62,GX=64,zX=91,jX=93,WX=61,qX=123,Tc=63,XX=125,LC=124,JX=126,YX=128,OC=65533,Ag=42,Xr=43,ZX=44,eJ=58,tJ=59,XA=46,nJ=0,iJ=8,sJ=11,rJ=14,oJ=31,aJ=127,Di=-1,Ak=48,uk=97,ck=101,lJ=102,AJ=117,uJ=122,dk=65,hk=69,fk=70,cJ=85,dJ=90,ln=function(e){return e>=Ak&&e<=57},hJ=function(e){return e>=55296&&e<=57343},Vo=function(e){return ln(e)||e>=dk&&e<=fk||e>=uk&&e<=lJ},fJ=function(e){return e>=uk&&e<=uJ},pJ=function(e){return e>=dk&&e<=dJ},gJ=function(e){return fJ(e)||pJ(e)},mJ=function(e){return e>=YX},kc=function(e){return e===mh||e===RX||e===DX},yh=function(e){return gJ(e)||mJ(e)||e===NX},RC=function(e){return yh(e)||ln(e)||e===Sn},yJ=function(e){return e>=nJ&&e<=iJ||e===sJ||e>=rJ&&e<=oJ||e===aJ},Gs=function(e,t){return e!==iA?!1:t!==mh},Qc=function(e,t,n){return e===Sn?yh(t)||Gs(t,n):yh(e)?!0:!!(e===iA&&Gs(e,t))},ug=function(e,t,n){return e===Xr||e===Sn?ln(t)?!0:t===XA&&ln(n):ln(e===XA?t:e)},vJ=function(e){var t=0,n=1;(e[t]===Xr||e[t]===Sn)&&(e[t]===Sn&&(n=-1),t++);for(var i=[];ln(e[t]);)i.push(e[t++]);var s=i.length?parseInt(Et.apply(void 0,i),10):0;e[t]===XA&&t++;for(var r=[];ln(e[t]);)r.push(e[t++]);var o=r.length,a=o?parseInt(Et.apply(void 0,r),10):0;(e[t]===hk||e[t]===ck)&&t++;var l=1;(e[t]===Xr||e[t]===Sn)&&(e[t]===Sn&&(l=-1),t++);for(var A=[];ln(e[t]);)A.push(e[t++]);var u=A.length?parseInt(Et.apply(void 0,A),10):0;return n*(s+a*Math.pow(10,-o))*Math.pow(10,l*u)},wJ={type:2},_J={type:3},bJ={type:4},BJ={type:13},CJ={type:8},xJ={type:21},EJ={type:9},IJ={type:10},SJ={type:11},FJ={type:12},UJ={type:14},Lc={type:23},TJ={type:1},kJ={type:25},QJ={type:24},LJ={type:26},OJ={type:27},RJ={type:28},DJ={type:29},MJ={type:31},Ay={type:32},pk=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(ep(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==Ay;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Sc:return this.consumeStringToken(Sc);case MX:var n=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(RC(n)||Gs(i,s)){var r=Qc(n,i,s)?OX:LX,o=this.consumeName();return{type:5,value:o,flags:r}}break;case PX:if(this.peekCodePoint(0)===Cl)return this.consumeCodePoint(),BJ;break;case Fc:return this.consumeStringToken(Fc);case Uc:return wJ;case xl:return _J;case Ag:if(this.peekCodePoint(0)===Cl)return this.consumeCodePoint(),UJ;break;case Xr:if(ug(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case ZX:return bJ;case Sn:var a=t,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(ug(a,l,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Qc(a,l,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Sn&&A===$X)return this.consumeCodePoint(),this.consumeCodePoint(),QJ;break;case XA:if(ug(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case QC:if(this.peekCodePoint(0)===Ag)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Ag&&(u=this.consumeCodePoint(),u===QC))return this.consumeToken();if(u===Di)return this.consumeToken()}break;case eJ:return LJ;case tJ:return OJ;case VX:if(this.peekCodePoint(0)===KX&&this.peekCodePoint(1)===Sn&&this.peekCodePoint(2)===Sn)return this.consumeCodePoint(),this.consumeCodePoint(),kJ;break;case GX:var c=this.peekCodePoint(0),d=this.peekCodePoint(1),h=this.peekCodePoint(2);if(Qc(c,d,h)){var o=this.consumeName();return{type:7,value:o}}break;case zX:return RJ;case iA:if(Gs(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case jX:return DJ;case WX:if(this.peekCodePoint(0)===Cl)return this.consumeCodePoint(),CJ;break;case qX:return SJ;case XX:return FJ;case AJ:case cJ:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===Xr&&(Vo(m)||m===Tc)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case LC:if(this.peekCodePoint(0)===Cl)return this.consumeCodePoint(),EJ;if(this.peekCodePoint(0)===LC)return this.consumeCodePoint(),xJ;break;case JX:if(this.peekCodePoint(0)===Cl)return this.consumeCodePoint(),IJ;break;case Di:return Ay}return kc(t)?(this.consumeWhiteSpace(),MJ):ln(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):yh(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Et(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t=="undefined"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Vo(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var i=!1;n===Tc&&t.length<6;)t.push(n),n=this.consumeCodePoint(),i=!0;if(i){var s=parseInt(Et.apply(void 0,t.map(function(l){return l===Tc?Ak:l})),16),r=parseInt(Et.apply(void 0,t.map(function(l){return l===Tc?fk:l})),16);return{type:30,start:s,end:r}}var o=parseInt(Et.apply(void 0,t),16);if(this.peekCodePoint(0)===Sn&&Vo(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Vo(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var r=parseInt(Et.apply(void 0,a),16);return{type:30,start:o,end:r}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Uc?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Uc?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Di)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Fc||n===Sc){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Di||this.peekCodePoint(0)===xl)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),Lc)}for(;;){var s=this.consumeCodePoint();if(s===Di||s===xl)return{type:22,value:Et.apply(void 0,t)};if(kc(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Di||this.peekCodePoint(0)===xl?(this.consumeCodePoint(),{type:22,value:Et.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Lc);if(s===Sc||s===Fc||s===Uc||yJ(s))return this.consumeBadUrlRemnants(),Lc;if(s===iA)if(Gs(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Lc;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;kc(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===xl||t===Di)return;Gs(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,i="";t>0;){var s=Math.min(n,t);i+=Et.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),i},e.prototype.consumeStringToken=function(t){var n="",i=0;do{var s=this._value[i];if(s===Di||s===void 0||s===t)return n+=this.consumeStringSlice(i),{type:0,value:n};if(s===mh)return this._value.splice(0,i),TJ;if(s===iA){var r=this._value[i+1];r!==Di&&r!==void 0&&(r===mh?(n+=this.consumeStringSlice(i),i=-1,this._value.shift()):Gs(s,r)&&(n+=this.consumeStringSlice(i),n+=Et(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=Ou,i=this.peekCodePoint(0);for((i===Xr||i===Sn)&&t.push(this.consumeCodePoint());ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(i===XA&&ln(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=kC;ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());i=this.peekCodePoint(0),s=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((i===hk||i===ck)&&((s===Xr||s===Sn)&&ln(r)||ln(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=kC;ln(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[vJ(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],i=t[1],s=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Qc(s,r,o)){var a=this.consumeName();return{type:15,number:n,flags:i,unit:a}}return s===HX?(this.consumeCodePoint(),{type:16,number:n,flags:i}):{type:17,number:n,flags:i}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Vo(t)){for(var n=Et(t);Vo(this.peekCodePoint(0))&&n.length<6;)n+=Et(this.consumeCodePoint());kc(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(n,16);return i===0||hJ(i)||i>1114111?OC:i}return t===Di?OC:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(RC(n))t+=Et(n);else if(Gs(n,this.peekCodePoint(0)))t+=Et(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e}(),gk=function(){function e(t){this._tokens=t}return e.create=function(t){var n=new pk;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},i=this.consumeToken();;){if(i.type===32||HJ(i,t))return n;this.reconsumeToken(i),n.values.push(this.consumeComponentValue()),i=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return n;this.reconsumeToken(i),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t=="undefined"?Ay:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Ru=function(e){return e.type===15},dl=function(e){return e.type===17},et=function(e){return e.type===20},PJ=function(e){return e.type===0},uy=function(e,t){return et(e)&&e.value===t},mk=function(e){return e.type!==31},Ha=function(e){return e.type!==31&&e.type!==4},is=function(e){var t=[],n=[];return e.forEach(function(i){if(i.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}i.type!==31&&n.push(i)}),n.length&&t.push(n),t},HJ=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},_r=function(e){return e.type===17||e.type===15},kt=function(e){return e.type===16||_r(e)},yk=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Yt={type:17,number:0,flags:Ou},t_={type:16,number:50,flags:Ou},sr={type:16,number:100,flags:Ou},Vl=function(e,t,n){var i=e[0],s=e[1];return[rt(i,t),rt(typeof s!="undefined"?s:i,n)]},rt=function(e,t){if(e.type===16)return e.number/100*t;if(Ru(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},vk="deg",wk="grad",_k="rad",bk="turn",tp={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case vk:return Math.PI*t.number/180;case wk:return Math.PI/200*t.number;case _k:return t.number;case bk:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Bk=function(e){return e.type===15&&(e.unit===vk||e.unit===wk||e.unit===_k||e.unit===bk)},Ck=function(e){var t=e.filter(et).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Yt,Yt];case"to top":case"bottom":return ii(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Yt,sr];case"to right":case"left":return ii(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sr,sr];case"to bottom":case"top":return ii(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sr,Yt];case"to left":case"right":return ii(270)}return 0},ii=function(e){return Math.PI*e/180},hr={name:"color",parse:function(e,t){if(t.type===18){var n=NJ[t.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var i=t.value.substring(0,1),s=t.value.substring(1,2),r=t.value.substring(2,3);return rr(parseInt(i+i,16),parseInt(s+s,16),parseInt(r+r,16),1)}if(t.value.length===4){var i=t.value.substring(0,1),s=t.value.substring(1,2),r=t.value.substring(2,3),o=t.value.substring(3,4);return rr(parseInt(i+i,16),parseInt(s+s,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(t.value.length===6){var i=t.value.substring(0,2),s=t.value.substring(2,4),r=t.value.substring(4,6);return rr(parseInt(i,16),parseInt(s,16),parseInt(r,16),1)}if(t.value.length===8){var i=t.value.substring(0,2),s=t.value.substring(2,4),r=t.value.substring(4,6),o=t.value.substring(6,8);return rr(parseInt(i,16),parseInt(s,16),parseInt(r,16),parseInt(o,16)/255)}}if(t.type===20){var a=_s[t.value.toUpperCase()];if(typeof a!="undefined")return a}return _s.TRANSPARENT}},fr=function(e){return(255&e)===0},Nt=function(e){var t=255&e,n=255&e>>8,i=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+i+","+n+","+t/255+")":"rgb("+s+","+i+","+n+")"},rr=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(i*255)<<0)>>>0},DC=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},MC=function(e,t){var n=t.filter(Ha);if(n.length===3){var i=n.map(DC),s=i[0],r=i[1],o=i[2];return rr(s,r,o,1)}if(n.length===4){var a=n.map(DC),s=a[0],r=a[1],o=a[2],l=a[3];return rr(s,r,o,l)}return 0};function cg(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var PC=function(e,t){var n=t.filter(Ha),i=n[0],s=n[1],r=n[2],o=n[3],a=(i.type===17?ii(i.number):tp.parse(e,i))/(Math.PI*2),l=kt(s)?s.number/100:0,A=kt(r)?r.number/100:0,u=typeof o!="undefined"&&kt(o)?rt(o,1):1;if(l===0)return rr(A*255,A*255,A*255,1);var c=A<=.5?A*(l+1):A+l-A*l,d=A*2-c,h=cg(d,c,a+1/3),p=cg(d,c,a),m=cg(d,c,a-1/3);return rr(h*255,p*255,m*255,u)},NJ={hsl:PC,hsla:PC,rgb:MC,rgba:MC},sA=function(e,t){return hr.parse(e,gk.create(t).parseComponentValue())},_s={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},KJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(et(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},VJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},np=function(e,t){var n=hr.parse(e,t[0]),i=t[1];return i&&kt(i)?{color:n,stop:i}:{color:n,stop:null}},HC=function(e,t){var n=e[0],i=e[e.length-1];n.stop===null&&(n.stop=Yt),i.stop===null&&(i.stop=sr);for(var s=[],r=0,o=0;o<e.length;o++){var a=e[o].stop;if(a!==null){var l=rt(a,t);l>r?s.push(l):s.push(r),r=l}else s.push(null)}for(var A=null,o=0;o<s.length;o++){var u=s[o];if(u===null)A===null&&(A=o);else if(A!==null){for(var c=o-A,d=s[A-1],h=(u-d)/(c+1),p=1;p<=c;p++)s[A+p-1]=h*p;A=null}}return e.map(function(m,g){var w=m.color;return{color:w,stop:Math.max(Math.min(1,s[g]/t),0)}})},$J=function(e,t,n){var i=t/2,s=n/2,r=rt(e[0],t)-i,o=s-rt(e[1],n);return(Math.atan2(o,r)+Math.PI*2)%(Math.PI*2)},GJ=function(e,t,n){var i=typeof e=="number"?e:$J(e,t,n),s=Math.abs(t*Math.sin(i))+Math.abs(n*Math.cos(i)),r=t/2,o=n/2,a=s/2,l=Math.sin(i-Math.PI/2)*a,A=Math.cos(i-Math.PI/2)*a;return[s,r-A,r+A,o-l,o+l]},hi=function(e,t){return Math.sqrt(e*e+t*t)},NC=function(e,t,n,i,s){var r=[[0,0],[0,t],[e,0],[e,t]];return r.reduce(function(o,a){var l=a[0],A=a[1],u=hi(n-l,i-A);return(s?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:a,optimumDistance:u}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},zJ=function(e,t,n,i,s){var r=0,o=0;switch(e.size){case 0:e.shape===0?r=o=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-s)):e.shape===1&&(r=Math.min(Math.abs(t),Math.abs(t-i)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(e.shape===0)r=o=Math.min(hi(t,n),hi(t,n-s),hi(t-i,n),hi(t-i,n-s));else if(e.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-i)),l=NC(i,s,t,n,!0),A=l[0],u=l[1];r=hi(A-t,(u-n)/a),o=a*r}break;case 1:e.shape===0?r=o=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-s)):e.shape===1&&(r=Math.max(Math.abs(t),Math.abs(t-i)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(e.shape===0)r=o=Math.max(hi(t,n),hi(t,n-s),hi(t-i,n),hi(t-i,n-s));else if(e.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-i)),c=NC(i,s,t,n,!1),A=c[0],u=c[1];r=hi(A-t,(u-n)/a),o=a*r}break}return Array.isArray(e.size)&&(r=rt(e.size[0],i),o=e.size.length===2?rt(e.size[1],s):r),[r,o]},jJ=function(e,t){var n=ii(180),i=[];return is(t).forEach(function(s,r){if(r===0){var o=s[0];if(o.type===20&&o.value==="to"){n=Ck(s);return}else if(Bk(o)){n=tp.parse(e,o);return}}var a=np(e,s);i.push(a)}),{angle:n,stops:i,type:1}},Oc=function(e,t){var n=ii(180),i=[];return is(t).forEach(function(s,r){if(r===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=Ck(s);return}else if(Bk(o)){n=(tp.parse(e,o)+ii(270))%ii(360);return}}var a=np(e,s);i.push(a)}),{angle:n,stops:i,type:1}},WJ=function(e,t){var n=ii(180),i=[],s=1,r=0,o=3,a=[];return is(t).forEach(function(l,A){var u=l[0];if(A===0){if(et(u)&&u.value==="linear"){s=1;return}else if(et(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var c=hr.parse(e,u.values[0]);i.push({stop:Yt,color:c})}else if(u.name==="to"){var c=hr.parse(e,u.values[0]);i.push({stop:sr,color:c})}else if(u.name==="color-stop"){var d=u.values.filter(Ha);if(d.length===2){var c=hr.parse(e,d[1]),h=d[0];dl(h)&&i.push({stop:{type:16,number:h.number*100,flags:h.flags},color:c})}}}}),s===1?{angle:(n+ii(180))%ii(360),stops:i,type:s}:{size:o,shape:r,stops:i,position:a,type:s}},xk="closest-side",Ek="farthest-side",Ik="closest-corner",Sk="farthest-corner",Fk="circle",Uk="ellipse",Tk="cover",kk="contain",qJ=function(e,t){var n=0,i=3,s=[],r=[];return is(t).forEach(function(o,a){var l=!0;if(a===0){var A=!1;l=o.reduce(function(c,d){if(A)if(et(d))switch(d.value){case"center":return r.push(t_),c;case"top":case"left":return r.push(Yt),c;case"right":case"bottom":return r.push(sr),c}else(kt(d)||_r(d))&&r.push(d);else if(et(d))switch(d.value){case Fk:return n=0,!1;case Uk:return n=1,!1;case"at":return A=!0,!1;case xk:return i=0,!1;case Tk:case Ek:return i=1,!1;case kk:case Ik:return i=2,!1;case Sk:return i=3,!1}else if(_r(d)||kt(d))return Array.isArray(i)||(i=[]),i.push(d),!1;return c},l)}if(l){var u=np(e,o);s.push(u)}}),{size:i,shape:n,stops:s,position:r,type:2}},Rc=function(e,t){var n=0,i=3,s=[],r=[];return is(t).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(u,c){if(et(c))switch(c.value){case"center":return r.push(t_),!1;case"top":case"left":return r.push(Yt),!1;case"right":case"bottom":return r.push(sr),!1}else if(kt(c)||_r(c))return r.push(c),!1;return u},l):a===1&&(l=o.reduce(function(u,c){if(et(c))switch(c.value){case Fk:return n=0,!1;case Uk:return n=1,!1;case kk:case xk:return i=0,!1;case Ek:return i=1,!1;case Ik:return i=2,!1;case Tk:case Sk:return i=3,!1}else if(_r(c)||kt(c))return Array.isArray(i)||(i=[]),i.push(c),!1;return u},l)),l){var A=np(e,o);s.push(A)}}),{size:i,shape:n,stops:s,position:r,type:2}},XJ=function(e){return e.type===1},JJ=function(e){return e.type===2},n_={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var i=Qk[t.name];if(typeof i=="undefined")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return i(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function YJ(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Qk[e.name])}var Qk={"linear-gradient":jJ,"-moz-linear-gradient":Oc,"-ms-linear-gradient":Oc,"-o-linear-gradient":Oc,"-webkit-linear-gradient":Oc,"radial-gradient":qJ,"-moz-radial-gradient":Rc,"-ms-radial-gradient":Rc,"-o-radial-gradient":Rc,"-webkit-radial-gradient":Rc,"-webkit-gradient":WJ},ZJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(i){return Ha(i)&&YJ(i)}).map(function(i){return n_.parse(e,i)})}},eY={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(et(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},tY={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return is(t).map(function(n){return n.filter(kt)}).map(yk)}},nY={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return is(t).map(function(n){return n.filter(et).map(function(i){return i.value}).join(" ")}).map(iY)}},iY=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},_a;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(_a||(_a={}));var sY={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return is(t).map(function(n){return n.filter(rY)})}},rY=function(e){return et(e)||kt(e)},ip=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oY=ip("top"),aY=ip("right"),lY=ip("bottom"),AY=ip("left"),sp=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return yk(n.filter(kt))}}},uY=sp("top-left"),cY=sp("top-right"),dY=sp("bottom-right"),hY=sp("bottom-left"),rp=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},fY=rp("top"),pY=rp("right"),gY=rp("bottom"),mY=rp("left"),op=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Ru(n)?n.number:0}}},yY=op("top"),vY=op("right"),wY=op("bottom"),_Y=op("left"),bY={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},BY={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},CY={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(et).reduce(function(n,i){return n|xY(i.value)},0)}},xY=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},EY={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},IY={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},vh;(function(e){e.NORMAL="normal",e.STRICT="strict"})(vh||(vh={}));var SY={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return vh.STRICT;case"normal":default:return vh.NORMAL}}},FY={name:"line-height",initialValue:"normal",prefix:!1,type:4},KC=function(e,t){return et(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:kt(e)?rt(e,t):t},UY={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:n_.parse(e,t)}},TY={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},cy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ap=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},kY=ap("top"),QY=ap("right"),LY=ap("bottom"),OY=ap("left"),RY={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(et).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},DY={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},lp=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},MY=lp("top"),PY=lp("right"),HY=lp("bottom"),NY=lp("left"),KY={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},VY={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},$Y={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&uy(t[0],"none")?[]:is(t).map(function(n){for(var i={color:_s.TRANSPARENT,offsetX:Yt,offsetY:Yt,blur:Yt},s=0,r=0;r<n.length;r++){var o=n[r];_r(o)?(s===0?i.offsetX=o:s===1?i.offsetY=o:i.blur=o,s++):i.color=hr.parse(e,o)}return i})}},GY={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zY={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=qY[t.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},jY=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},WY=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=t[0],i=t[1];t[2],t[3];var s=t[4],r=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],a=t[13];return t[14],t[15],t.length===16?[n,i,s,r,o,a]:null},qY={matrix:jY,matrix3d:WY},VC={type:16,number:50,flags:Ou},XY=[VC,VC],JY={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(kt);return n.length!==2?XY:[n[0],n[1]]}},YY={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},rA;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(rA||(rA={}));var ZY={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return rA.BREAK_ALL;case"keep-all":return rA.KEEP_ALL;case"normal":default:return rA.NORMAL}}},eZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(dl(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Lk={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},tZ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return dl(t)?t.number:1}},nZ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},iZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(et).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},sZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],i=[];return t.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:i.push(n.join(" ")),n.length=0;break}}),n.length&&i.push(n.join(" ")),i.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},rZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},oZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(dl(t))return t.number;if(et(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},aZ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(et).map(function(n){return n.value})}},lZ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Dt=function(e,t){return(e&t)!==0},AZ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},uZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var i=[],s=t.filter(mk),r=0;r<s.length;r++){var o=s[r],a=s[r+1];if(o.type===20){var l=a&&dl(a)?a.number:1;i.push({counter:o.value,increment:l})}}return i}},cZ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],i=t.filter(mk),s=0;s<i.length;s++){var r=i[s],o=i[s+1];if(et(r)&&r.value!=="none"){var a=o&&dl(o)?o.number:0;n.push({counter:r.value,reset:a})}}return n}},dZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ru).map(function(n){return Lk.parse(e,n)})}},hZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var i=[],s=t.filter(PJ);if(s.length%2!==0)return null;for(var r=0;r<s.length;r+=2){var o=s[r].value,a=s[r+1].value;i.push({open:o,close:a})}return i}},$C=function(e,t,n){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?n?i.open:i.close:""},fZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&uy(t[0],"none")?[]:is(t).map(function(n){for(var i={color:255,offsetX:Yt,offsetY:Yt,blur:Yt,spread:Yt,inset:!1},s=0,r=0;r<n.length;r++){var o=n[r];uy(o,"inset")?i.inset=!0:_r(o)?(s===0?i.offsetX=o:s===1?i.offsetY=o:s===2?i.blur=o:i.spread=o,s++):i.color=hr.parse(e,o)}return i})}},pZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],i=[];return t.filter(et).forEach(function(s){switch(s.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),n.forEach(function(s){i.indexOf(s)===-1&&i.push(s)}),i}},gZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},mZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ru(t)?t.number:0}},yZ=function(){function e(t,n){var i,s;this.animationDuration=de(t,dZ,n.animationDuration),this.backgroundClip=de(t,KJ,n.backgroundClip),this.backgroundColor=de(t,VJ,n.backgroundColor),this.backgroundImage=de(t,ZJ,n.backgroundImage),this.backgroundOrigin=de(t,eY,n.backgroundOrigin),this.backgroundPosition=de(t,tY,n.backgroundPosition),this.backgroundRepeat=de(t,nY,n.backgroundRepeat),this.backgroundSize=de(t,sY,n.backgroundSize),this.borderTopColor=de(t,oY,n.borderTopColor),this.borderRightColor=de(t,aY,n.borderRightColor),this.borderBottomColor=de(t,lY,n.borderBottomColor),this.borderLeftColor=de(t,AY,n.borderLeftColor),this.borderTopLeftRadius=de(t,uY,n.borderTopLeftRadius),this.borderTopRightRadius=de(t,cY,n.borderTopRightRadius),this.borderBottomRightRadius=de(t,dY,n.borderBottomRightRadius),this.borderBottomLeftRadius=de(t,hY,n.borderBottomLeftRadius),this.borderTopStyle=de(t,fY,n.borderTopStyle),this.borderRightStyle=de(t,pY,n.borderRightStyle),this.borderBottomStyle=de(t,gY,n.borderBottomStyle),this.borderLeftStyle=de(t,mY,n.borderLeftStyle),this.borderTopWidth=de(t,yY,n.borderTopWidth),this.borderRightWidth=de(t,vY,n.borderRightWidth),this.borderBottomWidth=de(t,wY,n.borderBottomWidth),this.borderLeftWidth=de(t,_Y,n.borderLeftWidth),this.boxShadow=de(t,fZ,n.boxShadow),this.color=de(t,bY,n.color),this.direction=de(t,BY,n.direction),this.display=de(t,CY,n.display),this.float=de(t,EY,n.cssFloat),this.fontFamily=de(t,sZ,n.fontFamily),this.fontSize=de(t,rZ,n.fontSize),this.fontStyle=de(t,lZ,n.fontStyle),this.fontVariant=de(t,aZ,n.fontVariant),this.fontWeight=de(t,oZ,n.fontWeight),this.letterSpacing=de(t,IY,n.letterSpacing),this.lineBreak=de(t,SY,n.lineBreak),this.lineHeight=de(t,FY,n.lineHeight),this.listStyleImage=de(t,UY,n.listStyleImage),this.listStylePosition=de(t,TY,n.listStylePosition),this.listStyleType=de(t,cy,n.listStyleType),this.marginTop=de(t,kY,n.marginTop),this.marginRight=de(t,QY,n.marginRight),this.marginBottom=de(t,LY,n.marginBottom),this.marginLeft=de(t,OY,n.marginLeft),this.opacity=de(t,tZ,n.opacity);var r=de(t,RY,n.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=de(t,DY,n.overflowWrap),this.paddingTop=de(t,MY,n.paddingTop),this.paddingRight=de(t,PY,n.paddingRight),this.paddingBottom=de(t,HY,n.paddingBottom),this.paddingLeft=de(t,NY,n.paddingLeft),this.paintOrder=de(t,pZ,n.paintOrder),this.position=de(t,VY,n.position),this.textAlign=de(t,KY,n.textAlign),this.textDecorationColor=de(t,nZ,(i=n.textDecorationColor)!==null&&i!==void 0?i:n.color),this.textDecorationLine=de(t,iZ,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=de(t,$Y,n.textShadow),this.textTransform=de(t,GY,n.textTransform),this.transform=de(t,zY,n.transform),this.transformOrigin=de(t,JY,n.transformOrigin),this.visibility=de(t,YY,n.visibility),this.webkitTextStrokeColor=de(t,gZ,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=de(t,mZ,n.webkitTextStrokeWidth),this.wordBreak=de(t,ZY,n.wordBreak),this.zIndex=de(t,eZ,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return fr(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Dt(this.display,4)||Dt(this.display,33554432)||Dt(this.display,268435456)||Dt(this.display,536870912)||Dt(this.display,67108864)||Dt(this.display,134217728)},e}(),vZ=function(){function e(t,n){this.content=de(t,AZ,n.content),this.quotes=de(t,hZ,n.quotes)}return e}(),GC=function(){function e(t,n){this.counterIncrement=de(t,uZ,n.counterIncrement),this.counterReset=de(t,cZ,n.counterReset)}return e}(),de=function(e,t,n){var i=new pk,s=n!==null&&typeof n!="undefined"?n.toString():t.initialValue;i.write(s);var r=new gk(i.read());switch(t.type){case 2:var o=r.parseComponentValue();return t.parse(e,et(o)?o.value:t.initialValue);case 0:return t.parse(e,r.parseComponentValue());case 1:return t.parse(e,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(t.format){case"angle":return tp.parse(e,r.parseComponentValue());case"color":return hr.parse(e,r.parseComponentValue());case"image":return n_.parse(e,r.parseComponentValue());case"length":var a=r.parseComponentValue();return _r(a)?a:Yt;case"length-percentage":var l=r.parseComponentValue();return kt(l)?l:Yt;case"time":return Lk.parse(e,r.parseComponentValue())}break}},wZ="data-html2canvas-debug",_Z=function(e){var t=e.getAttribute(wZ);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},dy=function(e,t){var n=_Z(e);return n===1||t===n},ss=function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,dy(n,3))debugger;this.styles=new yZ(t,window.getComputedStyle(n,null)),py(n)&&(this.styles.animationDuration.some(function(i){return i>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Zf(this.context,n),dy(n,4)&&(this.flags|=16)}return e}(),bZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",zC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$l=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Dc=0;Dc<zC.length;Dc++)$l[zC.charCodeAt(Dc)]=Dc;var BZ=function(e){var t=e.length*.75,n=e.length,i,s=0,r,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(i=0;i<n;i+=4)r=$l[e.charCodeAt(i)],o=$l[e.charCodeAt(i+1)],a=$l[e.charCodeAt(i+2)],l=$l[e.charCodeAt(i+3)],u[s++]=r<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return A},CZ=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},xZ=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n},oo=5,i_=6+5,dg=2,EZ=i_-oo,Ok=65536>>oo,IZ=1<<oo,hg=IZ-1,SZ=1024>>oo,FZ=Ok+SZ,UZ=FZ,TZ=32,kZ=UZ+TZ,QZ=65536>>i_,LZ=1<<EZ,OZ=LZ-1,jC=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},RZ=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},DZ=function(e,t){var n=BZ(e),i=Array.isArray(n)?xZ(n):new Uint32Array(n),s=Array.isArray(n)?CZ(n):new Uint16Array(n),r=24,o=jC(s,r/2,i[4]/2),a=i[5]===2?jC(s,(r+i[4])/2):RZ(i,Math.ceil((r+i[4])/4));return new MZ(i[0],i[1],i[2],i[3],o,a)},MZ=function(){function e(t,n,i,s,r,o){this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=s,this.index=r,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>oo],n=(n<<dg)+(t&hg),this.data[n];if(t<=65535)return n=this.index[Ok+(t-55296>>oo)],n=(n<<dg)+(t&hg),this.data[n];if(t<this.highStart)return n=kZ-QZ+(t>>i_),n=this.index[n],n+=t>>oo&OZ,n=this.index[n],n=(n<<dg)+(t&hg),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),WC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",PZ=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Mc=0;Mc<WC.length;Mc++)PZ[WC.charCodeAt(Mc)]=Mc;var HZ=1,fg=2,pg=3,qC=4,XC=5,NZ=7,JC=8,gg=9,mg=10,YC=11,ZC=12,ex=13,tx=14,yg=15,KZ=function(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var r=e.charCodeAt(n++);(r&64512)===56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t},VZ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],s=-1,r="";++s<n;){var o=e[s];o<=65535?i.push(o):(o-=65536,i.push((o>>10)+55296,o%1024+56320)),(s+1===n||i.length>16384)&&(r+=String.fromCharCode.apply(String,i),i.length=0)}return r},$Z=DZ(bZ),ei="\xD7",vg="\xF7",GZ=function(e){return $Z.get(e)},zZ=function(e,t,n){var i=n-2,s=t[i],r=t[n-1],o=t[n];if(r===fg&&o===pg)return ei;if(r===fg||r===pg||r===qC||o===fg||o===pg||o===qC)return vg;if(r===JC&&[JC,gg,YC,ZC].indexOf(o)!==-1||(r===YC||r===gg)&&(o===gg||o===mg)||(r===ZC||r===mg)&&o===mg||o===ex||o===XC||o===NZ||r===HZ)return ei;if(r===ex&&o===tx){for(;s===XC;)s=t[--i];if(s===tx)return ei}if(r===yg&&o===yg){for(var a=0;s===yg;)a++,s=t[--i];if(a%2===0)return ei}return vg},jZ=function(e){var t=KZ(e),n=t.length,i=0,s=0,r=t.map(GZ);return{next:function(){if(i>=n)return{done:!0,value:null};for(var o=ei;i<n&&(o=zZ(t,r,++i))===ei;);if(o!==ei||i===n){var a=VZ.apply(null,t.slice(s,i));return s=i,{value:a,done:!1}}return{done:!0,value:null}}}},WZ=function(e){for(var t=jZ(e),n=[],i;!(i=t.next()).done;)i.value&&n.push(i.value.slice());return n},qZ=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var i=e.createElement("boundtest");i.style.height=t+"px",i.style.display="block",e.body.appendChild(i),n.selectNode(i);var s=n.getBoundingClientRect(),r=Math.round(s.height);if(e.body.removeChild(i),r===t)return!0}}return!1},XZ=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=t.firstChild,s=ep(i.data).map(function(l){return Et(l)}),r=0,o={},a=s.every(function(l,A){n.setStart(i,r),n.setEnd(i,r+l.length);var u=n.getBoundingClientRect();r+=l.length;var c=u.x>o.x||u.y>o.y;return o=u,A===0?!0:c});return e.body.removeChild(t),a},JZ=function(){return typeof new Image().crossOrigin!="undefined"},YZ=function(){return typeof new XMLHttpRequest().responseType=="string"},ZZ=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},nx=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},eee=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var i=t.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,n,n);var s=new Image,r=t.toDataURL();s.src=r;var o=hy(n,n,0,0,s);return i.fillStyle="red",i.fillRect(0,0,n,n),ix(o).then(function(a){i.drawImage(a,0,0);var l=i.getImageData(0,0,n,n).data;i.fillStyle="red",i.fillRect(0,0,n,n);var A=e.createElement("div");return A.style.backgroundImage="url("+r+")",A.style.height=n+"px",nx(l)?ix(hy(n,n,0,0,A)):Promise.reject(!1)}).then(function(a){return i.drawImage(a,0,0),nx(i.getImageData(0,0,n,n).data)}).catch(function(){return!1})},hy=function(e,t,n,i,s){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",i.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(s),o},ix=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},qt={get SUPPORT_RANGE_BOUNDS(){var e=qZ(document);return Object.defineProperty(qt,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=qt.SUPPORT_RANGE_BOUNDS&&XZ(document);return Object.defineProperty(qt,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ZZ(document);return Object.defineProperty(qt,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?eee(document):Promise.resolve(!1);return Object.defineProperty(qt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=JZ();return Object.defineProperty(qt,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=YZ();return Object.defineProperty(qt,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(qt,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(qt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},oA=function(){function e(t,n){this.text=t,this.bounds=n}return e}(),tee=function(e,t,n,i){var s=see(t,n),r=[],o=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(qt.SUPPORT_RANGE_BOUNDS){var l=sx(i,o,a.length).getClientRects();if(l.length>1){var A=s_(a),u=0;A.forEach(function(d){r.push(new oA(d,Us.fromDOMRectList(e,sx(i,u+o,d.length).getClientRects()))),u+=d.length})}else r.push(new oA(a,Us.fromDOMRectList(e,l)))}else{var c=i.splitText(a.length);r.push(new oA(a,nee(e,i))),i=c}else qt.SUPPORT_RANGE_BOUNDS||(i=i.splitText(a.length));o+=a.length}),r},nee=function(e,t){var n=t.ownerDocument;if(n){var i=n.createElement("html2canvaswrapper");i.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(i,t);var r=Zf(e,i);return i.firstChild&&s.replaceChild(i.firstChild,i),r}}return Us.EMPTY},sx=function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var s=i.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},s_=function(e){if(qt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return WZ(e)},iee=function(e,t){if(qt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(i){return i.segment})}return oee(e,t)},see=function(e,t){return t.letterSpacing!==0?s_(e):iee(e,t)},ree=[32,160,4961,65792,65793,4153,4241],oee=function(e,t){for(var n=QX(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),i=[],s,r=function(){if(s.value){var o=s.value.slice(),a=ep(o),l="";a.forEach(function(A){ree.indexOf(A)===-1?l+=Et(A):(l.length&&i.push(l),i.push(Et(A)),l="")}),l.length&&i.push(l)}};!(s=n.next()).done;)r();return i},aee=function(){function e(t,n,i){this.text=lee(n.data,i.textTransform),this.textBounds=tee(t,this.text,i,n)}return e}(),lee=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Aee,uee);case 2:return e.toUpperCase();default:return e}},Aee=/(^|\s|:|-|\(|\))([a-z])/g,uee=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Rk=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s.src=i.currentSrc||i.src,s.intrinsicWidth=i.naturalWidth,s.intrinsicHeight=i.naturalHeight,s.context.cache.addImage(s.src),s}return t}(ss),Dk=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s.canvas=i,s.intrinsicWidth=i.width,s.intrinsicHeight=i.height,s}return t}(ss),Mk=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this,r=new XMLSerializer,o=Zf(n,i);return i.setAttribute("width",o.width+"px"),i.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(i)),s.intrinsicWidth=i.width.baseVal.value,s.intrinsicHeight=i.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(ss),Pk=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s.value=i.value,s}return t}(ss),fy=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s.start=i.start,s.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,s}return t}(ss),cee=[{type:15,flags:0,unit:"px",number:3}],dee=[{type:16,flags:0,number:50}],hee=function(e){return e.width>e.height?new Us(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Us(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},fee=function(e){var t=e.type===pee?new Array(e.value.length+1).join("\u2022"):e.value;return t.length===0?e.placeholder||"":t},wh="checkbox",_h="radio",pee="password",rx=707406591,r_=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;switch(s.type=i.type.toLowerCase(),s.checked=i.checked,s.value=fee(i),(s.type===wh||s.type===_h)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=hee(s.bounds)),s.type){case wh:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=cee;break;case _h:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=dee;break}return s}return t}(ss),Hk=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this,r=i.options[i.selectedIndex||0];return s.value=r&&r.text||"",s}return t}(ss),Nk=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s.value=i.value,s}return t}(ss),Kk=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;s.src=i.src,s.width=parseInt(i.width,10)||0,s.height=parseInt(i.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){s.tree=$k(n,i.contentWindow.document.documentElement);var r=i.contentWindow.document.documentElement?sA(n,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):_s.TRANSPARENT,o=i.contentWindow.document.body?sA(n,getComputedStyle(i.contentWindow.document.body).backgroundColor):_s.TRANSPARENT;s.backgroundColor=fr(r)?fr(o)?s.styles.backgroundColor:o:r}}catch{}return s}return t}(ss),gee=["OL","UL","MENU"],gd=function(e,t,n,i){for(var s=t.firstChild,r=void 0;s;s=r)if(r=s.nextSibling,Gk(s)&&s.data.trim().length>0)n.textNodes.push(new aee(e,s,n.styles));else if(oa(s))if(qk(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return gd(e,a,n,i)});else{var o=Vk(e,s);o.styles.isVisible()&&(mee(s,o,i)?o.flags|=4:yee(o.styles)&&(o.flags|=2),gee.indexOf(s.tagName)!==-1&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?gd(e,s.shadowRoot,o,i):!bh(s)&&!zk(s)&&!Bh(s)&&gd(e,s,o,i))}},Vk=function(e,t){return gy(t)?new Rk(e,t):jk(t)?new Dk(e,t):zk(t)?new Mk(e,t):vee(t)?new Pk(e,t):wee(t)?new fy(e,t):_ee(t)?new r_(e,t):Bh(t)?new Hk(e,t):bh(t)?new Nk(e,t):Wk(t)?new Kk(e,t):new ss(e,t)},$k=function(e,t){var n=Vk(e,t);return n.flags|=4,gd(e,t,n,n),n},mee=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||o_(e)&&n.styles.isTransparent()},yee=function(e){return e.isPositioned()||e.isFloating()},Gk=function(e){return e.nodeType===Node.TEXT_NODE},oa=function(e){return e.nodeType===Node.ELEMENT_NODE},py=function(e){return oa(e)&&typeof e.style!="undefined"&&!md(e)},md=function(e){return typeof e.className=="object"},vee=function(e){return e.tagName==="LI"},wee=function(e){return e.tagName==="OL"},_ee=function(e){return e.tagName==="INPUT"},bee=function(e){return e.tagName==="HTML"},zk=function(e){return e.tagName==="svg"},o_=function(e){return e.tagName==="BODY"},jk=function(e){return e.tagName==="CANVAS"},ox=function(e){return e.tagName==="VIDEO"},gy=function(e){return e.tagName==="IMG"},Wk=function(e){return e.tagName==="IFRAME"},ax=function(e){return e.tagName==="STYLE"},Bee=function(e){return e.tagName==="SCRIPT"},bh=function(e){return e.tagName==="TEXTAREA"},Bh=function(e){return e.tagName==="SELECT"},qk=function(e){return e.tagName==="SLOT"},lx=function(e){return e.tagName.indexOf("-")>0},Cee=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(i){return n.counters[i].pop()})},e.prototype.parse=function(t){var n=this,i=t.counterIncrement,s=t.counterReset,r=!0;i!==null&&i.forEach(function(a){var l=n.counters[a.counter];l&&a.increment!==0&&(r=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return r&&s.forEach(function(a){var l=n.counters[a.counter];o.push(a.counter),l||(l=n.counters[a.counter]=[]),l.push(a.reset)}),o},e}(),Ax={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ux={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},xee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},Eee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},$o=function(e,t,n,i,s,r){return e<t||e>n?JA(e,s,r.length>0):i.integers.reduce(function(o,a,l){for(;e>=a;)e-=a,o+=i.values[l];return o},"")+r},Xk=function(e,t,n,i){var s="";do n||e--,s=i(e)+s,e/=t;while(e*t>=t);return s},xt=function(e,t,n,i,s){var r=n-t+1;return(e<0?"-":"")+(Xk(Math.abs(e),r,i,function(o){return Et(Math.floor(o%r)+t)})+s)},kr=function(e,t,n){n===void 0&&(n=". ");var i=t.length;return Xk(Math.abs(e),i,!1,function(s){return t[Math.floor(s%i)]})+n},Zo=1<<0,Ns=1<<1,Ks=1<<2,Gl=1<<3,ls=function(e,t,n,i,s,r){if(e<-9999||e>9999)return JA(e,4,s.length>0);var o=Math.abs(e),a=s;if(o===0)return t[0]+a;for(var l=0;o>0&&l<=4;l++){var A=o%10;A===0&&Dt(r,Zo)&&a!==""?a=t[A]+a:A>1||A===1&&l===0||A===1&&l===1&&Dt(r,Ns)||A===1&&l===1&&Dt(r,Ks)&&e>100||A===1&&l>1&&Dt(r,Gl)?a=t[A]+(l>0?n[l-1]:"")+a:A===1&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(e<0?i:"")+a},cx="\u5341\u767E\u5343\u842C",dx="\u62FE\u4F70\u4EDF\u842C",hx="\u30DE\u30A4\u30CA\u30B9",wg="\uB9C8\uC774\uB108\uC2A4",JA=function(e,t,n){var i=n?". ":"",s=n?"\u3001":"",r=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25E6"+o;case 2:return"\u25FE"+o;case 5:var a=xt(e,48,57,!0,i);return a.length<4?"0"+a:a;case 4:return kr(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",s);case 6:return $o(e,1,3999,Ax,3,i).toLowerCase();case 7:return $o(e,1,3999,Ax,3,i);case 8:return xt(e,945,969,!1,i);case 9:return xt(e,97,122,!1,i);case 10:return xt(e,65,90,!1,i);case 11:return xt(e,1632,1641,!0,i);case 12:case 49:return $o(e,1,9999,ux,3,i);case 35:return $o(e,1,9999,ux,3,i).toLowerCase();case 13:return xt(e,2534,2543,!0,i);case 14:case 30:return xt(e,6112,6121,!0,i);case 15:return kr(e,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",s);case 16:return kr(e,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",s);case 17:case 48:return ls(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",cx,"\u8CA0",s,Ns|Ks|Gl);case 47:return ls(e,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",dx,"\u8CA0",s,Zo|Ns|Ks|Gl);case 42:return ls(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",cx,"\u8D1F",s,Ns|Ks|Gl);case 41:return ls(e,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",dx,"\u8D1F",s,Zo|Ns|Ks|Gl);case 26:return ls(e,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",hx,s,0);case 25:return ls(e,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",hx,s,Zo|Ns|Ks);case 31:return ls(e,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",wg,r,Zo|Ns|Ks);case 33:return ls(e,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",wg,r,0);case 32:return ls(e,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",wg,r,Zo|Ns|Ks);case 18:return xt(e,2406,2415,!0,i);case 20:return $o(e,1,19999,Eee,3,i);case 21:return xt(e,2790,2799,!0,i);case 22:return xt(e,2662,2671,!0,i);case 22:return $o(e,1,10999,xee,3,i);case 23:return kr(e,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return kr(e,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return xt(e,3302,3311,!0,i);case 28:return kr(e,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",s);case 29:return kr(e,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",s);case 34:return xt(e,3792,3801,!0,i);case 37:return xt(e,6160,6169,!0,i);case 38:return xt(e,4160,4169,!0,i);case 39:return xt(e,2918,2927,!0,i);case 40:return xt(e,1776,1785,!0,i);case 43:return xt(e,3046,3055,!0,i);case 44:return xt(e,3174,3183,!0,i);case 45:return xt(e,3664,3673,!0,i);case 46:return xt(e,3872,3881,!0,i);case 3:default:return xt(e,48,57,!0,i)}},Jk="data-html2canvas-ignore",fx=function(){function e(t,n,i){if(this.context=t,this.options=i,this.scrolledElements=[],this.referenceElement=n,this.counters=new Cee,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var i=this,s=Iee(t,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var r=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,a=s.contentWindow,l=a.document,A=Uee(s).then(function(){return bn(i,void 0,void 0,function(){var u,c;return on(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(Lee),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,c=this.clonedReferenceElement,typeof c=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Fee(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,c)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(kee(document.doctype)+"<html></html>"),Qee(this.referenceElement.ownerDocument,r,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},e.prototype.createElementClone=function(t){if(dy(t,2))debugger;if(jk(t))return this.createCanvasClone(t);if(ox(t))return this.createVideoClone(t);if(ax(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return gy(n)&&(gy(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),lx(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return _g(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var i=[].slice.call(n.cssRules,0).reduce(function(r,o){return o&&typeof o.cssText=="string"?r+o.cssText:r},""),s=t.cloneNode(!1);return s.textContent=i,s}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),r.name!=="SecurityError")throw r}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var i=t.ownerDocument.createElement("img");try{return i.src=t.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var r=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&r)o.putImageData(r.getImageData(0,0,t.width,t.height),0,0);else{var a=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var i=n.getContext("2d");try{return i&&(i.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||i.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,n,i){(!oa(n)||!Bee(n)&&!n.hasAttribute(Jk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!oa(n)||!ax(n))&&t.appendChild(this.cloneNode(n,i))},e.prototype.cloneChildNodes=function(t,n,i){for(var s=this,r=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;r;r=r.nextSibling)if(oa(r)&&qk(r)&&typeof r.assignedNodes=="function"){var o=r.assignedNodes();o.length&&o.forEach(function(a){return s.appendChildNode(n,a,i)})}else this.appendChildNode(n,r,i)},e.prototype.cloneNode=function(t,n){if(Gk(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var i=t.ownerDocument.defaultView;if(i&&oa(t)&&(py(t)||md(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var r=i.getComputedStyle(t),o=i.getComputedStyle(t,":before"),a=i.getComputedStyle(t,":after");this.referenceElement===t&&py(s)&&(this.clonedReferenceElement=s),o_(s)&&Dee(s);var l=this.counters.parse(new GC(this.context,r)),A=this.resolvePseudoContent(t,s,o,aA.BEFORE);lx(t)&&(n=!0),ox(t)||this.cloneChildNodes(t,s,n),A&&s.insertBefore(A,s.firstChild);var u=this.resolvePseudoContent(t,s,a,aA.AFTER);return u&&s.appendChild(u),this.counters.pop(l),(r&&(this.options.copyStyles||md(t))&&!Wk(t)||n)&&_g(r,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(bh(t)||Bh(t))&&(bh(s)||Bh(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,i,s){var r=this;if(!!i){var o=i.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||i.display==="none")){this.counters.parse(new GC(this.context,i));var l=new vZ(this.context,i),A=a.createElement("html2canvaspseudoelement");_g(i,A),l.content.forEach(function(c){if(c.type===0)A.appendChild(a.createTextNode(c.value));else if(c.type===22){var d=a.createElement("img");d.src=c.value,d.style.opacity="1",A.appendChild(d)}else if(c.type===18){if(c.name==="attr"){var h=c.values.filter(et);h.length&&A.appendChild(a.createTextNode(t.getAttribute(h[0].value)||""))}else if(c.name==="counter"){var p=c.values.filter(Ha),m=p[0],g=p[1];if(m&&et(m)){var w=r.counters.getCounterValue(m.value),v=g&&et(g)?cy.parse(r.context,g.value):3;A.appendChild(a.createTextNode(JA(w,v,!1)))}}else if(c.name==="counters"){var C=c.values.filter(Ha),m=C[0],B=C[1],g=C[2];if(m&&et(m)){var E=r.counters.getCounterValues(m.value),S=g&&et(g)?cy.parse(r.context,g.value):3,F=B&&B.type===0?B.value:"",U=E.map(function(L){return JA(L,S,!1)}).join(F);A.appendChild(a.createTextNode(U))}}}else if(c.type===20)switch(c.value){case"open-quote":A.appendChild(a.createTextNode($C(l.quotes,r.quoteDepth++,!0)));break;case"close-quote":A.appendChild(a.createTextNode($C(l.quotes,--r.quoteDepth,!1)));break;default:A.appendChild(a.createTextNode(c.value))}}),A.className=my+" "+yy;var u=s===aA.BEFORE?" "+my:" "+yy;return md(n)?n.className.baseValue+=u:n.className+=u,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),aA;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(aA||(aA={}));var Iee=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Jk,"true"),e.body.appendChild(n),n},See=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Fee=function(e){return Promise.all([].slice.call(e.images,0).map(See))},Uee=function(e){return new Promise(function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var s=i.document;i.onload=e.onload=function(){i.onload=e.onload=null;var r=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(r),t(e))},50)}})},Tee=["all","d","content"],_g=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e.item(n);Tee.indexOf(i)===-1&&t.style.setProperty(i,e.getPropertyValue(i))}return t},kee=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Qee=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Lee=function(e){var t=e[0],n=e[1],i=e[2];t.scrollLeft=n,t.scrollTop=i},Oee=":before",Ree=":after",my="___html2canvas___pseudoelement_before",yy="___html2canvas___pseudoelement_after",px=`{
    content: "" !important;
    display: none !important;
}`,Dee=function(e){Mee(e,"."+my+Oee+px+`
         .`+yy+Ree+px)},Mee=function(e,t){var n=e.ownerDocument;if(n){var i=n.createElement("style");i.textContent=t,e.appendChild(i)}},Yk=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Pee=function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Bg(t)||Vee(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return bn(this,void 0,void 0,function(){var n,i,s,r,o=this;return on(this,function(a){switch(a.label){case 0:return n=Yk.isSameOrigin(t),i=!bg(t)&&this._options.useCORS===!0&&qt.SUPPORT_CORS_IMAGES&&!n,s=!bg(t)&&!n&&!Bg(t)&&typeof this._options.proxy=="string"&&qt.SUPPORT_CORS_XHR&&!i,!n&&this._options.allowTaint===!1&&!bg(t)&&!Bg(t)&&!s&&!i?[2]:(r=t,s?[4,this.proxy(r)]:[3,2]);case 1:r=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,A){var u=new Image;u.onload=function(){return l(u)},u.onerror=A,($ee(r)||i)&&(u.crossOrigin="anonymous"),u.src=r,u.complete===!0&&setTimeout(function(){return l(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]!="undefined"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(r,o){var a=qt.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")r(l.response);else{var c=new FileReader;c.addEventListener("load",function(){return r(c.result)},!1),c.addEventListener("error",function(d){return o(d)},!1),c.readAsDataURL(l.response)}else o("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=o;var A=i.indexOf("?")>-1?"&":"?";if(l.open("GET",""+i+A+"url="+encodeURIComponent(t)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+s)}}l.send()})},e}(),Hee=/^data:image\/svg\+xml/i,Nee=/^data:image\/.*;base64,/i,Kee=/^data:image\/.*/i,Vee=function(e){return qt.SUPPORT_SVG_DRAWING||!Gee(e)},bg=function(e){return Kee.test(e)},$ee=function(e){return Nee.test(e)},Bg=function(e){return e.substr(0,4)==="blob"},Gee=function(e){return e.substr(-3).toLowerCase()==="svg"||Hee.test(e)},Ae=function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Go=function(e,t,n){return new Ae(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Pc=function(){function e(t,n,i,s){this.type=1,this.start=t,this.startControl=n,this.endControl=i,this.end=s}return e.prototype.subdivide=function(t,n){var i=Go(this.start,this.startControl,t),s=Go(this.startControl,this.endControl,t),r=Go(this.endControl,this.end,t),o=Go(i,s,t),a=Go(s,r,t),l=Go(o,a,t);return n?new e(this.start,i,o,l):new e(l,a,r,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ni=function(e){return e.type===1},zee=function(){function e(t){var n=t.styles,i=t.bounds,s=Vl(n.borderTopLeftRadius,i.width,i.height),r=s[0],o=s[1],a=Vl(n.borderTopRightRadius,i.width,i.height),l=a[0],A=a[1],u=Vl(n.borderBottomRightRadius,i.width,i.height),c=u[0],d=u[1],h=Vl(n.borderBottomLeftRadius,i.width,i.height),p=h[0],m=h[1],g=[];g.push((r+l)/i.width),g.push((p+c)/i.width),g.push((o+m)/i.height),g.push((A+d)/i.height);var w=Math.max.apply(Math,g);w>1&&(r/=w,o/=w,l/=w,A/=w,c/=w,d/=w,p/=w,m/=w);var v=i.width-l,C=i.height-d,B=i.width-c,E=i.height-m,S=n.borderTopWidth,F=n.borderRightWidth,U=n.borderBottomWidth,Q=n.borderLeftWidth,k=rt(n.paddingTop,t.bounds.width),L=rt(n.paddingRight,t.bounds.width),R=rt(n.paddingBottom,t.bounds.width),D=rt(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||o>0?dt(i.left+Q/3,i.top+S/3,r-Q/3,o-S/3,qe.TOP_LEFT):new Ae(i.left+Q/3,i.top+S/3),this.topRightBorderDoubleOuterBox=r>0||o>0?dt(i.left+v,i.top+S/3,l-F/3,A-S/3,qe.TOP_RIGHT):new Ae(i.left+i.width-F/3,i.top+S/3),this.bottomRightBorderDoubleOuterBox=c>0||d>0?dt(i.left+B,i.top+C,c-F/3,d-U/3,qe.BOTTOM_RIGHT):new Ae(i.left+i.width-F/3,i.top+i.height-U/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?dt(i.left+Q/3,i.top+E,p-Q/3,m-U/3,qe.BOTTOM_LEFT):new Ae(i.left+Q/3,i.top+i.height-U/3),this.topLeftBorderDoubleInnerBox=r>0||o>0?dt(i.left+Q*2/3,i.top+S*2/3,r-Q*2/3,o-S*2/3,qe.TOP_LEFT):new Ae(i.left+Q*2/3,i.top+S*2/3),this.topRightBorderDoubleInnerBox=r>0||o>0?dt(i.left+v,i.top+S*2/3,l-F*2/3,A-S*2/3,qe.TOP_RIGHT):new Ae(i.left+i.width-F*2/3,i.top+S*2/3),this.bottomRightBorderDoubleInnerBox=c>0||d>0?dt(i.left+B,i.top+C,c-F*2/3,d-U*2/3,qe.BOTTOM_RIGHT):new Ae(i.left+i.width-F*2/3,i.top+i.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?dt(i.left+Q*2/3,i.top+E,p-Q*2/3,m-U*2/3,qe.BOTTOM_LEFT):new Ae(i.left+Q*2/3,i.top+i.height-U*2/3),this.topLeftBorderStroke=r>0||o>0?dt(i.left+Q/2,i.top+S/2,r-Q/2,o-S/2,qe.TOP_LEFT):new Ae(i.left+Q/2,i.top+S/2),this.topRightBorderStroke=r>0||o>0?dt(i.left+v,i.top+S/2,l-F/2,A-S/2,qe.TOP_RIGHT):new Ae(i.left+i.width-F/2,i.top+S/2),this.bottomRightBorderStroke=c>0||d>0?dt(i.left+B,i.top+C,c-F/2,d-U/2,qe.BOTTOM_RIGHT):new Ae(i.left+i.width-F/2,i.top+i.height-U/2),this.bottomLeftBorderStroke=p>0||m>0?dt(i.left+Q/2,i.top+E,p-Q/2,m-U/2,qe.BOTTOM_LEFT):new Ae(i.left+Q/2,i.top+i.height-U/2),this.topLeftBorderBox=r>0||o>0?dt(i.left,i.top,r,o,qe.TOP_LEFT):new Ae(i.left,i.top),this.topRightBorderBox=l>0||A>0?dt(i.left+v,i.top,l,A,qe.TOP_RIGHT):new Ae(i.left+i.width,i.top),this.bottomRightBorderBox=c>0||d>0?dt(i.left+B,i.top+C,c,d,qe.BOTTOM_RIGHT):new Ae(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=p>0||m>0?dt(i.left,i.top+E,p,m,qe.BOTTOM_LEFT):new Ae(i.left,i.top+i.height),this.topLeftPaddingBox=r>0||o>0?dt(i.left+Q,i.top+S,Math.max(0,r-Q),Math.max(0,o-S),qe.TOP_LEFT):new Ae(i.left+Q,i.top+S),this.topRightPaddingBox=l>0||A>0?dt(i.left+Math.min(v,i.width-F),i.top+S,v>i.width+F?0:Math.max(0,l-F),Math.max(0,A-S),qe.TOP_RIGHT):new Ae(i.left+i.width-F,i.top+S),this.bottomRightPaddingBox=c>0||d>0?dt(i.left+Math.min(B,i.width-Q),i.top+Math.min(C,i.height-U),Math.max(0,c-F),Math.max(0,d-U),qe.BOTTOM_RIGHT):new Ae(i.left+i.width-F,i.top+i.height-U),this.bottomLeftPaddingBox=p>0||m>0?dt(i.left+Q,i.top+Math.min(E,i.height-U),Math.max(0,p-Q),Math.max(0,m-U),qe.BOTTOM_LEFT):new Ae(i.left+Q,i.top+i.height-U),this.topLeftContentBox=r>0||o>0?dt(i.left+Q+D,i.top+S+k,Math.max(0,r-(Q+D)),Math.max(0,o-(S+k)),qe.TOP_LEFT):new Ae(i.left+Q+D,i.top+S+k),this.topRightContentBox=l>0||A>0?dt(i.left+Math.min(v,i.width+Q+D),i.top+S+k,v>i.width+Q+D?0:l-Q+D,A-(S+k),qe.TOP_RIGHT):new Ae(i.left+i.width-(F+L),i.top+S+k),this.bottomRightContentBox=c>0||d>0?dt(i.left+Math.min(B,i.width-(Q+D)),i.top+Math.min(C,i.height+S+k),Math.max(0,c-(F+L)),d-(U+R),qe.BOTTOM_RIGHT):new Ae(i.left+i.width-(F+L),i.top+i.height-(U+R)),this.bottomLeftContentBox=p>0||m>0?dt(i.left+Q+D,i.top+E,Math.max(0,p-(Q+D)),m-(U+R),qe.BOTTOM_LEFT):new Ae(i.left+Q+D,i.top+i.height-(U+R))}return e}(),qe;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(qe||(qe={}));var dt=function(e,t,n,i,s){var r=4*((Math.sqrt(2)-1)/3),o=n*r,a=i*r,l=e+n,A=t+i;switch(s){case qe.TOP_LEFT:return new Pc(new Ae(e,A),new Ae(e,A-a),new Ae(l-o,t),new Ae(l,t));case qe.TOP_RIGHT:return new Pc(new Ae(e,t),new Ae(e+o,t),new Ae(l,A-a),new Ae(l,A));case qe.BOTTOM_RIGHT:return new Pc(new Ae(l,t),new Ae(l,t+a),new Ae(e+o,A),new Ae(e,A));case qe.BOTTOM_LEFT:default:return new Pc(new Ae(l,A),new Ae(l-o,A),new Ae(e,t+a),new Ae(e,t))}},Ch=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},jee=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},xh=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Wee=function(){function e(t,n,i){this.offsetX=t,this.offsetY=n,this.matrix=i,this.type=0,this.target=6}return e}(),Hc=function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e}(),qee=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Xee=function(e){return e.type===0},Zk=function(e){return e.type===1},Jee=function(e){return e.type===2},gx=function(e,t){return e.length===t.length?e.some(function(n,i){return n===t[i]}):!1},Yee=function(e,t,n,i,s){return e.map(function(r,o){switch(o){case 0:return r.add(t,n);case 1:return r.add(t+i,n);case 2:return r.add(t+i,n+s);case 3:return r.add(t,n+s)}return r})},eQ=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),tQ=function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new zee(this.container),this.container.styles.opacity<1&&this.effects.push(new qee(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new Wee(i,s,r))}if(this.container.styles.overflowX!==0){var o=Ch(this.curves),a=xh(this.curves);gx(o,a)?this.effects.push(new Hc(o,6)):(this.effects.push(new Hc(o,2)),this.effects.push(new Hc(a,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,s=this.effects.slice(0);i;){var r=i.effects.filter(function(l){return!Zk(l)});if(n||i.container.styles.position!==0||!i.parent){if(s.unshift.apply(s,r),n=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var o=Ch(i.curves),a=xh(i.curves);gx(o,a)||s.unshift(new Hc(a,6))}}else s.unshift.apply(s,r);i=i.parent}return s.filter(function(l){return Dt(l.target,t)})},e}(),vy=function(e,t,n,i){e.container.elements.forEach(function(s){var r=Dt(s.flags,4),o=Dt(s.flags,2),a=new tQ(s,e);Dt(s.styles.display,2048)&&i.push(a);var l=Dt(s.flags,8)?[]:i;if(r||o){var A=r||s.styles.isPositioned()?n:t,u=new eQ(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var c=s.styles.zIndex.order;if(c<0){var d=0;A.negativeZIndex.some(function(p,m){return c>p.element.container.styles.zIndex.order?(d=m,!1):d>0}),A.negativeZIndex.splice(d,0,u)}else if(c>0){var h=0;A.positiveZIndex.some(function(p,m){return c>=p.element.container.styles.zIndex.order?(h=m+1,!1):h>0}),A.positiveZIndex.splice(h,0,u)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?A.nonPositionedFloats.push(u):A.nonPositionedInlineLevel.push(u);vy(a,u,r?u:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),vy(a,t,n,l);Dt(s.flags,8)&&nQ(s,l)})},nQ=function(e,t){for(var n=e instanceof fy?e.start:1,i=e instanceof fy?e.reversed:!1,s=0;s<t.length;s++){var r=t[s];r.container instanceof Pk&&typeof r.container.value=="number"&&r.container.value!==0&&(n=r.container.value),r.listValue=JA(n,r.container.styles.listStyleType,!0),n+=i?-1:1}},Zee=function(e){var t=new tQ(e,null),n=new eQ(t),i=[];return vy(t,n,n,i),nQ(t.container,i),n},mx=function(e,t){switch(t){case 0:return si(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return si(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return si(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return si(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ete=function(e,t){switch(t){case 0:return si(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return si(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return si(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return si(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},tte=function(e,t){switch(t){case 0:return si(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return si(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return si(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return si(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},nte=function(e,t){switch(t){case 0:return Nc(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Nc(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Nc(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Nc(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Nc=function(e,t){var n=[];return ni(e)?n.push(e.subdivide(.5,!1)):n.push(e),ni(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},si=function(e,t,n,i){var s=[];return ni(e)?s.push(e.subdivide(.5,!1)):s.push(e),ni(n)?s.push(n.subdivide(.5,!0)):s.push(n),ni(i)?s.push(i.subdivide(.5,!0).reverse()):s.push(i),ni(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},iQ=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Eh=function(e){var t=e.styles,n=e.bounds,i=rt(t.paddingLeft,n.width),s=rt(t.paddingRight,n.width),r=rt(t.paddingTop,n.width),o=rt(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,r+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+s),-(t.borderTopWidth+t.borderBottomWidth+r+o))},ite=function(e,t){return e===0?t.bounds:e===2?Eh(t):iQ(t)},ste=function(e,t){return e===0?t.bounds:e===2?Eh(t):iQ(t)},Cg=function(e,t,n){var i=ite(ea(e.styles.backgroundOrigin,t),e),s=ste(ea(e.styles.backgroundClip,t),e),r=rte(ea(e.styles.backgroundSize,t),n,i),o=r[0],a=r[1],l=Vl(ea(e.styles.backgroundPosition,t),i.width-o,i.height-a),A=ote(ea(e.styles.backgroundRepeat,t),l,r,i,s),u=Math.round(i.left+l[0]),c=Math.round(i.top+l[1]);return[A,u,c,o,a]},zo=function(e){return et(e)&&e.value===_a.AUTO},Kc=function(e){return typeof e=="number"},rte=function(e,t,n){var i=t[0],s=t[1],r=t[2],o=e[0],a=e[1];if(!o)return[0,0];if(kt(o)&&a&&kt(a))return[rt(o,n.width),rt(a,n.height)];var l=Kc(r);if(et(o)&&(o.value===_a.CONTAIN||o.value===_a.COVER)){if(Kc(r)){var A=n.width/n.height;return A<r!=(o.value===_a.COVER)?[n.width,n.width/r]:[n.height*r,n.height]}return[n.width,n.height]}var u=Kc(i),c=Kc(s),d=u||c;if(zo(o)&&(!a||zo(a))){if(u&&c)return[i,s];if(!l&&!d)return[n.width,n.height];if(d&&l){var h=u?i:s*r,p=c?s:i/r;return[h,p]}var m=u?i:n.width,g=c?s:n.height;return[m,g]}if(l){var w=0,v=0;return kt(o)?w=rt(o,n.width):kt(a)&&(v=rt(a,n.height)),zo(o)?w=v*r:(!a||zo(a))&&(v=w/r),[w,v]}var C=null,B=null;if(kt(o)?C=rt(o,n.width):a&&kt(a)&&(B=rt(a,n.height)),C!==null&&(!a||zo(a))&&(B=u&&c?C/i*s:n.height),B!==null&&zo(o)&&(C=u&&c?B/s*i:n.width),C!==null&&B!==null)return[C,B];throw new Error("Unable to calculate background-size for element")},ea=function(e,t){var n=e[t];return typeof n=="undefined"?e[0]:n},ote=function(e,t,n,i,s){var r=t[0],o=t[1],a=n[0],l=n[1];switch(e){case 2:return[new Ae(Math.round(i.left),Math.round(i.top+o)),new Ae(Math.round(i.left+i.width),Math.round(i.top+o)),new Ae(Math.round(i.left+i.width),Math.round(l+i.top+o)),new Ae(Math.round(i.left),Math.round(l+i.top+o))];case 3:return[new Ae(Math.round(i.left+r),Math.round(i.top)),new Ae(Math.round(i.left+r+a),Math.round(i.top)),new Ae(Math.round(i.left+r+a),Math.round(i.height+i.top)),new Ae(Math.round(i.left+r),Math.round(i.height+i.top))];case 1:return[new Ae(Math.round(i.left+r),Math.round(i.top+o)),new Ae(Math.round(i.left+r+a),Math.round(i.top+o)),new Ae(Math.round(i.left+r+a),Math.round(i.top+o+l)),new Ae(Math.round(i.left+r),Math.round(i.top+o+l))];default:return[new Ae(Math.round(s.left),Math.round(s.top)),new Ae(Math.round(s.left+s.width),Math.round(s.top)),new Ae(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ae(Math.round(s.left),Math.round(s.height+s.top))]}},ate="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",yx="Hidden Text",lte=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var i=this._document.createElement("div"),s=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;i.style.visibility="hidden",i.style.fontFamily=t,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",o.appendChild(i),s.src=ate,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(yx)),i.appendChild(r),i.appendChild(s);var a=s.offsetTop-r.offsetTop+2;i.removeChild(r),i.appendChild(this._document.createTextNode(yx)),i.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-i.offsetTop+2;return o.removeChild(i),{baseline:a,middle:l}},e.prototype.getMetrics=function(t,n){var i=t+" "+n;return typeof this._data[i]=="undefined"&&(this._data[i]=this.parseMetrics(t,n)),this._data[i]},e}(),sQ=function(){function e(t,n){this.context=t,this.options=n}return e}(),Ate=1e4,ute=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s._activeEffects=[],s.canvas=i.canvas?i.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),i.canvas||(s.canvas.width=Math.floor(i.width*i.scale),s.canvas.height=Math.floor(i.height*i.scale),s.canvas.style.width=i.width+"px",s.canvas.style.height=i.height+"px"),s.fontMetrics=new lte(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-i.x,-i.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),s}return t.prototype.applyEffects=function(n){for(var i=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return i.applyEffect(s)})},t.prototype.applyEffect=function(n){this.ctx.save(),Jee(n)&&(this.ctx.globalAlpha=n.opacity),Xee(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),Zk(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return bn(this,void 0,void 0,function(){var i;return on(this,function(s){switch(s.label){case 0:return i=n.element.container.styles,i.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return bn(this,void 0,void 0,function(){return on(this,function(i){switch(i.label){case 0:if(Dt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(n)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,i,s){var r=this;if(i===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var o=s_(n.text);o.reduce(function(a,l){return r.ctx.fillText(l,a,n.bounds.top+s),a+r.ctx.measureText(l).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var i=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=pte(n.fontFamily).join(", "),r=Ru(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,i,n.fontWeight,r,s].join(" "),s,r]},t.prototype.renderTextNode=function(n,i){return bn(this,void 0,void 0,function(){var s,r,o,a,l,A,u,c,d=this;return on(this,function(h){return s=this.createFontStyle(i),r=s[0],o=s[1],a=s[2],this.ctx.font=r,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),A=l.baseline,u=l.middle,c=i.paintOrder,n.textBounds.forEach(function(p){c.forEach(function(m){switch(m){case 0:d.ctx.fillStyle=Nt(i.color),d.renderTextWithLetterSpacing(p,i.letterSpacing,A);var g=i.textShadow;g.length&&p.text.trim().length&&(g.slice(0).reverse().forEach(function(w){d.ctx.shadowColor=Nt(w.color),d.ctx.shadowOffsetX=w.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=w.offsetY.number*d.options.scale,d.ctx.shadowBlur=w.blur.number,d.renderTextWithLetterSpacing(p,i.letterSpacing,A)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),i.textDecorationLine.length&&(d.ctx.fillStyle=Nt(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(w){switch(w){case 1:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+A),p.bounds.width,1);break;case 2:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:d.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&p.text.trim().length&&(d.ctx.strokeStyle=Nt(i.webkitTextStrokeColor),d.ctx.lineWidth=i.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+A)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,i,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var r=Eh(n),o=xh(i);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return bn(this,void 0,void 0,function(){var i,s,r,o,a,l,v,v,A,u,c,d,B,h,p,E,m,g,w,v,C,B,E;return on(this,function(S){switch(S.label){case 0:this.applyEffects(n.getEffects(4)),i=n.container,s=n.curves,r=i.styles,o=0,a=i.textNodes,S.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,r)]):[3,4];case 2:S.sent(),S.label=3;case 3:return o++,[3,1];case 4:if(!(i instanceof Rk))return[3,8];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return v=S.sent(),this.renderReplacedElement(i,s,v),[3,8];case 7:return S.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof Dk&&this.renderReplacedElement(i,s,i.canvas),!(i instanceof Mk))return[3,12];S.label=9;case 9:return S.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return v=S.sent(),this.renderReplacedElement(i,s,v),[3,12];case 11:return S.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof Kk&&i.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,A.render(i.tree)]):[3,14];case 13:u=S.sent(),i.width&&i.height&&this.ctx.drawImage(u,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),S.label=14;case 14:if(i instanceof r_&&(c=Math.min(i.bounds.width,i.bounds.height),i.type===wh?i.checked&&(this.ctx.save(),this.path([new Ae(i.bounds.left+c*.39363,i.bounds.top+c*.79),new Ae(i.bounds.left+c*.16,i.bounds.top+c*.5549),new Ae(i.bounds.left+c*.27347,i.bounds.top+c*.44071),new Ae(i.bounds.left+c*.39694,i.bounds.top+c*.5649),new Ae(i.bounds.left+c*.72983,i.bounds.top+c*.23),new Ae(i.bounds.left+c*.84,i.bounds.top+c*.34085),new Ae(i.bounds.left+c*.39363,i.bounds.top+c*.79)]),this.ctx.fillStyle=Nt(rx),this.ctx.fill(),this.ctx.restore()):i.type===_h&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+c/2,i.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=Nt(rx),this.ctx.fill(),this.ctx.restore())),cte(i)&&i.value.length){switch(d=this.createFontStyle(r),B=d[0],h=d[1],p=this.fontMetrics.getMetrics(B,h).baseline,this.ctx.font=B,this.ctx.fillStyle=Nt(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hte(i.styles.textAlign),E=Eh(i),m=0,i.styles.textAlign){case 1:m+=E.width/2;break;case 2:m+=E.width;break}g=E.add(m,0,0,-E.height/2+1),this.ctx.save(),this.path([new Ae(E.left,E.top),new Ae(E.left+E.width,E.top),new Ae(E.left+E.width,E.top+E.height),new Ae(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new oA(i.value,g),r.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Dt(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(w=i.styles.listStyleImage,w.type!==0)return[3,18];v=void 0,C=w.url,S.label=15;case 15:return S.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return v=S.sent(),this.ctx.drawImage(v,i.bounds.left-(v.width+10),i.bounds.top),[3,18];case 17:return S.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:n.listValue&&i.styles.listStyleType!==-1&&(B=this.createFontStyle(r)[0],this.ctx.font=B,this.ctx.fillStyle=Nt(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new Us(i.bounds.left,i.bounds.top+rt(i.styles.paddingTop,i.bounds.width),i.bounds.width,KC(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new oA(n.listValue,E),r.letterSpacing,KC(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),S.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return bn(this,void 0,void 0,function(){var i,s,w,r,o,w,a,l,w,A,u,w,c,d,w,h,p,w,m,g,w;return on(this,function(v){switch(v.label){case 0:if(Dt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),i=0,s=n.negativeZIndex,v.label=2;case 2:return i<s.length?(w=s[i],[4,this.renderStack(w)]):[3,5];case 3:v.sent(),v.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),r=0,o=n.nonInlineLevel,v.label=7;case 7:return r<o.length?(w=o[r],[4,this.renderNode(w)]):[3,10];case 8:v.sent(),v.label=9;case 9:return r++,[3,7];case 10:a=0,l=n.nonPositionedFloats,v.label=11;case 11:return a<l.length?(w=l[a],[4,this.renderStack(w)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:A=0,u=n.nonPositionedInlineLevel,v.label=15;case 15:return A<u.length?(w=u[A],[4,this.renderStack(w)]):[3,18];case 16:v.sent(),v.label=17;case 17:return A++,[3,15];case 18:c=0,d=n.inlineLevel,v.label=19;case 19:return c<d.length?(w=d[c],[4,this.renderNode(w)]):[3,22];case 20:v.sent(),v.label=21;case 21:return c++,[3,19];case 22:h=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return h<p.length?(w=p[h],[4,this.renderStack(w)]):[3,26];case 24:v.sent(),v.label=25;case 25:return h++,[3,23];case 26:m=0,g=n.positiveZIndex,v.label=27;case 27:return m<g.length?(w=g[m],[4,this.renderStack(w)]):[3,30];case 28:v.sent(),v.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var i=this;n.forEach(function(s,r){var o=ni(s)?s.start:s;r===0?i.ctx.moveTo(o.x,o.y):i.ctx.lineTo(o.x,o.y),ni(s)&&i.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(n,i,s,r){this.path(n),this.ctx.fillStyle=i,this.ctx.translate(s,r),this.ctx.fill(),this.ctx.translate(-s,-r)},t.prototype.resizeImage=function(n,i,s){var r;if(n.width===i&&n.height===s)return n;var o=(r=this.canvas.ownerDocument)!==null&&r!==void 0?r:document,a=o.createElement("canvas");a.width=Math.max(1,i),a.height=Math.max(1,s);var l=a.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,i,s),a},t.prototype.renderBackgroundImage=function(n){return bn(this,void 0,void 0,function(){var i,s,r,o,a,l;return on(this,function(A){switch(A.label){case 0:i=n.styles.backgroundImage.length-1,s=function(u){var c,d,h,k,Y,q,D,z,U,p,k,Y,q,D,z,m,g,w,v,C,B,E,S,F,U,Q,k,L,R,D,z,ce,Y,q,ae,ve,Ne,tt,We,Ct,Ot,V;return on(this,function(oe){switch(oe.label){case 0:if(u.type!==0)return[3,5];c=void 0,d=u.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,r.context.cache.match(d)];case 2:return c=oe.sent(),[3,4];case 3:return oe.sent(),r.context.logger.error("Error loading background-image "+d),[3,4];case 4:return c&&(h=Cg(n,i,[c.width,c.height,c.width/c.height]),k=h[0],Y=h[1],q=h[2],D=h[3],z=h[4],U=r.ctx.createPattern(r.resizeImage(c,D,z),"repeat"),r.renderRepeat(k,U,Y,q)),[3,6];case 5:XJ(u)?(p=Cg(n,i,[null,null,null]),k=p[0],Y=p[1],q=p[2],D=p[3],z=p[4],m=GJ(u.angle,D,z),g=m[0],w=m[1],v=m[2],C=m[3],B=m[4],E=document.createElement("canvas"),E.width=D,E.height=z,S=E.getContext("2d"),F=S.createLinearGradient(w,C,v,B),HC(u.stops,g).forEach(function(se){return F.addColorStop(se.stop,Nt(se.color))}),S.fillStyle=F,S.fillRect(0,0,D,z),D>0&&z>0&&(U=r.ctx.createPattern(E,"repeat"),r.renderRepeat(k,U,Y,q))):JJ(u)&&(Q=Cg(n,i,[null,null,null]),k=Q[0],L=Q[1],R=Q[2],D=Q[3],z=Q[4],ce=u.position.length===0?[t_]:u.position,Y=rt(ce[0],D),q=rt(ce[ce.length-1],z),ae=zJ(u,Y,q,D,z),ve=ae[0],Ne=ae[1],ve>0&&Ne>0&&(tt=r.ctx.createRadialGradient(L+Y,R+q,0,L+Y,R+q,ve),HC(u.stops,ve*2).forEach(function(se){return tt.addColorStop(se.stop,Nt(se.color))}),r.path(k),r.ctx.fillStyle=tt,ve!==Ne?(We=n.bounds.left+.5*n.bounds.width,Ct=n.bounds.top+.5*n.bounds.height,Ot=Ne/ve,V=1/Ot,r.ctx.save(),r.ctx.translate(We,Ct),r.ctx.transform(1,0,0,Ot,0,0),r.ctx.translate(-We,-Ct),r.ctx.fillRect(L,V*(R-Ct)+Ct,D,z*V),r.ctx.restore()):r.ctx.fill())),oe.label=6;case 6:return i--,[2]}})},r=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<a.length?(l=a[o],[5,s(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,i,s){return bn(this,void 0,void 0,function(){return on(this,function(r){return this.path(mx(s,i)),this.ctx.fillStyle=Nt(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,i,s,r){return bn(this,void 0,void 0,function(){var o,a;return on(this,function(l){switch(l.label){case 0:return i<3?[4,this.renderSolidBorder(n,s,r)]:[3,2];case 1:return l.sent(),[2];case 2:return o=ete(r,s),this.path(o),this.ctx.fillStyle=Nt(n),this.ctx.fill(),a=tte(r,s),this.path(a),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return bn(this,void 0,void 0,function(){var i,s,r,o,a,l,A,u,c=this;return on(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),i=n.container.styles,s=!fr(i.backgroundColor)||i.backgroundImage.length,r=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],o=dte(ea(i.backgroundClip,0),n.curves),s||i.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),fr(i.backgroundColor)||(this.ctx.fillStyle=Nt(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(h){c.ctx.save();var p=Ch(n.curves),m=h.inset?0:Ate,g=Yee(p,-m+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(c.path(p),c.ctx.clip(),c.mask(g)):(c.mask(p),c.ctx.clip(),c.path(g)),c.ctx.shadowOffsetX=h.offsetX.number+m,c.ctx.shadowOffsetY=h.offsetY.number,c.ctx.shadowColor=Nt(h.color),c.ctx.shadowBlur=h.blur.number,c.ctx.fillStyle=h.inset?Nt(h.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),d.label=2;case 2:a=0,l=0,A=r,d.label=3;case 3:return l<A.length?(u=A[l],u.style!==0&&!fr(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:d.sent(),d.label=11;case 11:a++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,i,s,r,o){return bn(this,void 0,void 0,function(){var a,l,A,u,c,d,h,p,m,g,w,v,C,B,E,S,E,S;return on(this,function(F){return this.ctx.save(),a=nte(r,s),l=mx(r,s),o===2&&(this.path(l),this.ctx.clip()),ni(l[0])?(A=l[0].start.x,u=l[0].start.y):(A=l[0].x,u=l[0].y),ni(l[1])?(c=l[1].end.x,d=l[1].end.y):(c=l[1].x,d=l[1].y),s===0||s===2?h=Math.abs(A-c):h=Math.abs(u-d),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),p=i<3?i*3:i*2,m=i<3?i*2:i,o===3&&(p=i,m=i),g=!0,h<=p*2?g=!1:h<=p*2+m?(w=h/(2*p+m),p*=w,m*=w):(v=Math.floor((h+m)/(p+m)),C=(h-v*p)/(v-1),B=(h-(v+1)*p)/v,m=B<=0||Math.abs(m-C)<Math.abs(m-B)?C:B),g&&(o===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=Nt(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ni(l[0])&&(E=l[3],S=l[0],this.ctx.beginPath(),this.formatPath([new Ae(E.end.x,E.end.y),new Ae(S.start.x,S.start.y)]),this.ctx.stroke()),ni(l[1])&&(E=l[1],S=l[2],this.ctx.beginPath(),this.formatPath([new Ae(E.end.x,E.end.y),new Ae(S.start.x,S.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return bn(this,void 0,void 0,function(){var i;return on(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Nt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=Zee(n),[4,this.renderStack(i)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(sQ),cte=function(e){return e instanceof Nk||e instanceof Hk?!0:e instanceof r_&&e.type!==_h&&e.type!==wh},dte=function(e,t){switch(e){case 0:return Ch(t);case 2:return jee(t);case 1:default:return xh(t)}},hte=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},fte=["-apple-system","system-ui"],pte=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return fte.indexOf(t)===-1}):e},gte=function(e){Li(t,e);function t(n,i){var s=e.call(this,n,i)||this;return s.canvas=i.canvas?i.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=i,s.canvas.width=Math.floor(i.width*i.scale),s.canvas.height=Math.floor(i.height*i.scale),s.canvas.style.width=i.width+"px",s.canvas.style.height=i.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-i.x,-i.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),s}return t.prototype.render=function(n){return bn(this,void 0,void 0,function(){var i,s;return on(this,function(r){switch(r.label){case 0:return i=hy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,mte(i)];case 1:return s=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Nt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(sQ),mte=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},yte=function(){function e(t){var n=t.id,i=t.enabled;this.id=n,this.enabled=i,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,wc([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,wc([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,wc([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,wc([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),vte=function(){function e(t,n){var i;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yte({id:this.instanceName,enabled:t.logging}),this.cache=(i=t.cache)!==null&&i!==void 0?i:new Pee(this,t)}return e.instanceCount=1,e}(),a_=function(e,t){return t===void 0&&(t={}),wte(e,t)};typeof window!="undefined"&&Yk.setContext(window);var wte=function(e,t){return bn(void 0,void 0,void 0,function(){var n,i,s,r,o,a,l,A,u,c,d,h,p,m,g,w,v,C,B,E,F,S,F,U,Q,k,L,R,D,z,ce,Y,q,ae,ve,Ne,tt,We,Ct,Ot;return on(this,function(V){switch(V.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(i=n.defaultView,!i)throw new Error("Document is not attached to a Window");return s={allowTaint:(U=t.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(Q=t.imageTimeout)!==null&&Q!==void 0?Q:15e3,proxy:t.proxy,useCORS:(k=t.useCORS)!==null&&k!==void 0?k:!1},r=Ym({logging:(L=t.logging)!==null&&L!==void 0?L:!0,cache:t.cache},s),o={windowWidth:(R=t.windowWidth)!==null&&R!==void 0?R:i.innerWidth,windowHeight:(D=t.windowHeight)!==null&&D!==void 0?D:i.innerHeight,scrollX:(z=t.scrollX)!==null&&z!==void 0?z:i.pageXOffset,scrollY:(ce=t.scrollY)!==null&&ce!==void 0?ce:i.pageYOffset},a=new Us(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new vte(r,a),A=(Y=t.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,u={allowTaint:(q=t.allowTaint)!==null&&q!==void 0?q:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),c=new fx(l,e,u),d=c.clonedReferenceElement,d?[4,c.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=V.sent(),p=o_(d)||bee(d)?Y7(d.ownerDocument):Zf(l,d),m=p.width,g=p.height,w=p.left,v=p.top,C=_te(l,d,t.backgroundColor),B={canvas:t.canvas,backgroundColor:C,scale:(ve=(ae=t.scale)!==null&&ae!==void 0?ae:i.devicePixelRatio)!==null&&ve!==void 0?ve:1,x:((Ne=t.x)!==null&&Ne!==void 0?Ne:0)+w,y:((tt=t.y)!==null&&tt!==void 0?tt:0)+v,width:(We=t.width)!==null&&We!==void 0?We:Math.ceil(m),height:(Ct=t.height)!==null&&Ct!==void 0?Ct:Math.ceil(g)},A?(l.logger.debug("Document cloned, using foreign object rendering"),F=new gte(l,B),[4,F.render(d)]):[3,3];case 2:return E=V.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+w+","+v+" with size "+m+"x"+g+" using computed rendering"),l.logger.debug("Starting DOM parsing"),S=$k(l,d),C===S.styles.backgroundColor&&(S.styles.backgroundColor=_s.TRANSPARENT),l.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),F=new ute(l,B),[4,F.render(S)];case 4:E=V.sent(),V.label=5;case 5:return(!((Ot=t.removeContainer)!==null&&Ot!==void 0)||Ot)&&(fx.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,E]}})})},_te=function(e,t,n){var i=t.ownerDocument,s=i.documentElement?sA(e,getComputedStyle(i.documentElement).backgroundColor):_s.TRANSPARENT,r=i.body?sA(e,getComputedStyle(i.body).backgroundColor):_s.TRANSPARENT,o=typeof n=="string"?sA(e,n):n===null?_s.TRANSPARENT:4294967295;return t===i.documentElement?fr(s)?fr(r)?o:r:s:o},l_={name:"SelectButton",emits:["update:modelValue","focus","blur","change"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,unselectable:{type:Boolean,default:!1},disabled:Boolean,dataKey:null,"aria-labelledby":{type:String,default:null}},data(){return{focusedIndex:0}},mounted(){this.defaultTabIndexes()},methods:{defaultTabIndexes(){let e=I.find(this.$refs.container,".p-button"),t=I.findSingle(this.$refs.container,".p-highlight");for(let n=0;n<e.length;n++)(I.hasClass(e[n],"p-highlight")&&$.equals(e[n],t)||t===null&&n==0)&&(this.focusedIndex=n)},getOptionLabel(e){return this.optionLabel?$.resolveFieldData(e,this.optionLabel):e},getOptionValue(e){return this.optionValue?$.resolveFieldData(e,this.optionValue):e},getOptionRenderKey(e){return this.dataKey?$.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},isOptionDisabled(e){return this.optionDisabled?$.resolveFieldData(e,this.optionDisabled):!1},onOptionSelect(e,t,n){if(this.disabled||this.isOptionDisabled(t))return;let i=this.isSelected(t);if(i&&this.unselectable)return;let s=this.getOptionValue(t),r;this.multiple?i?r=this.modelValue.filter(o=>!$.equals(o,s,this.equalityKey)):r=this.modelValue?[...this.modelValue,s]:[s]:r=i?null:s,this.focusedIndex=n,this.$emit("update:modelValue",r),this.$emit("change",{event:e,value:r})},isSelected(e){let t=!1,n=this.getOptionValue(e);if(this.multiple){if(this.modelValue){for(let i of this.modelValue)if($.equals(i,n,this.equalityKey)){t=!0;break}}}else t=$.equals(this.modelValue,n,this.equalityKey);return t},onKeydown(e,t,n){switch(e.code){case"Space":{this.onOptionSelect(e,t,n),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}}},changeTabIndexes(e,t){let n,i;for(let s=0;s<=this.$refs.container.children.length-1;s++)this.$refs.container.children[s].getAttribute("tabindex")==="0"&&(n={elem:this.$refs.container.children[s],index:s});t==="prev"?n.index===0?i=this.$refs.container.children.length-1:i=n.index-1:n.index===this.$refs.container.children.length-1?i=0:i=n.index+1,this.focusedIndex=i,this.$refs.container.children[i].focus()},onFocus(e){this.$emit("focus",e)},onBlur(e,t){e.target&&e.relatedTarget&&e.target.parentElement!==e.relatedTarget.parentElement&&this.defaultTabIndexes(),this.$emit("blur",e,t)},getButtonClass(e){return["p-button p-component",{"p-highlight":this.isSelected(e),"p-disabled":this.isOptionDisabled(e)}]}},computed:{containerClass(){return["p-selectbutton p-buttonset p-component",{"p-disabled":this.disabled}]},equalityKey(){return this.optionValue?null:this.dataKey}},directives:{ripple:bt}};const bte=["aria-labelledby"],Bte=["tabindex","aria-label","role","aria-checked","aria-disabled","onClick","onKeydown","onBlur"],Cte={class:"p-button-label"};function xte(e,t,n,i,s,r){const o=pt("ripple");return y(),_("div",{ref:"container",class:P(r.containerClass),role:"group","aria-labelledby":e.ariaLabelledby},[(y(!0),_(J,null,be(n.options,(a,l)=>re((y(),_("div",{key:r.getOptionRenderKey(a),tabindex:l===s.focusedIndex?"0":"-1","aria-label":r.getOptionLabel(a),role:n.multiple?"checkbox":"radio","aria-checked":r.isSelected(a),"aria-disabled":n.optionDisabled,class:P(r.getButtonClass(a,l)),onClick:A=>r.onOptionSelect(A,a,l),onKeydown:A=>r.onKeydown(A,a,l),onFocus:t[0]||(t[0]=A=>r.onFocus(A)),onBlur:A=>r.onBlur(A,a)},[ue(e.$slots,"option",{option:a,index:l},()=>[f("span",Cte,M(r.getOptionLabel(a)),1)])],42,Bte)),[[o]])),128))],10,bte)}l_.render=xte;var Du={name:"InputSwitch",emits:["click","update:modelValue","change","input","focus","blur"],props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(e){if(!this.disabled){const t=this.checked?this.falseValue:this.trueValue;this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}e.preventDefault()},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.$emit("blur",e)}},computed:{containerClass(){return["p-inputswitch p-component",{"p-inputswitch-checked":this.checked,"p-disabled":this.disabled,"p-focus":this.focused}]},checked(){return this.modelValue===this.trueValue}}};const Ete={class:"p-hidden-accessible"},Ite=["id","checked","disabled","aria-checked","aria-labelledby","aria-label"],Ste=f("span",{class:"p-inputswitch-slider"},null,-1);function Fte(e,t,n,i,s,r){return y(),_("div",{class:P(r.containerClass),onClick:t[2]||(t[2]=o=>r.onClick(o))},[f("div",Ete,[f("input",Ue({ref:"input",id:n.inputId,type:"checkbox",role:"switch",class:n.inputClass,style:n.inputStyle,checked:r.checked,disabled:n.disabled,"aria-checked":r.checked,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=o=>r.onFocus(o)),onBlur:t[1]||(t[1]=o=>r.onBlur(o))},n.inputProps),null,16,Ite)]),Ste],2)}function Ute(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Tte=`
.p-inputswitch {
    position: relative;
    display: inline-block;
}
.p-inputswitch-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 1px solid transparent;
}
.p-inputswitch-slider:before {
    position: absolute;
    content: '';
    top: 50%;
}
`;Ute(Tte);Du.render=Fte;var rQ={name:"Menuitem",inheritAttrs:!1,emits:["item-click"],props:{item:null,template:null,exact:null,id:null,focusedOptionId:null},methods:{getItemProp(e,t){return e&&e.item?$.getItemValue(e.item[t]):void 0},onItemActionClick(e,t){t&&t(e)},onItemClick(e){const t=this.getItemProp(this.item,"command");t&&t({originalEvent:e,item:this.item.item}),this.$emit("item-click",{originalEvent:e,item:this.item,id:this.id})},containerClass(){return["p-menuitem",this.item.class,{"p-focus":this.id===this.focusedOptionId,"p-disabled":this.disabled()}]},linkClass(e){return["p-menuitem-link",{"router-link-active":e&&e.isActive,"router-link-active-exact":this.exact&&e&&e.isExactActive}]},visible(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label(){return typeof this.item.label=="function"?this.item.label():this.item.label}},directives:{ripple:bt}};const kte=["id","aria-label","aria-disabled"],Qte=["href","onClick"],Lte={class:"p-menuitem-text"},Ote=["href","target"],Rte={class:"p-menuitem-text"};function Dte(e,t,n,i,s,r){const o=N("router-link"),a=pt("ripple");return r.visible()?(y(),_("li",{key:0,id:n.id,class:P(r.containerClass()),role:"menuitem",style:Re(n.item.style),"aria-label":r.label(),"aria-disabled":r.disabled()},[f("div",{class:"p-menuitem-content",onClick:t[0]||(t[0]=l=>r.onItemClick(l))},[n.template?(y(),ee(ht(n.template),{key:1,item:n.item},null,8,["item"])):(y(),_(J,{key:0},[n.item.to&&!r.disabled()?(y(),ee(o,{key:0,to:n.item.to,custom:""},{default:O(({navigate:l,href:A,isActive:u,isExactActive:c})=>[re((y(),_("a",{href:A,class:P(r.linkClass({isActive:u,isExactActive:c})),tabindex:"-1","aria-hidden":"true",onClick:d=>r.onItemActionClick(d,l)},[n.item.icon?(y(),_("span",{key:0,class:P(["p-menuitem-icon",n.item.icon])},null,2)):H("",!0),f("span",Lte,M(r.label()),1)],10,Qte)),[[a]])]),_:1},8,["to"])):re((y(),_("a",{key:1,href:n.item.url,class:P(r.linkClass()),target:n.item.target,tabindex:"-1","aria-hidden":"true"},[n.item.icon?(y(),_("span",{key:0,class:P(["p-menuitem-icon",n.item.icon])},null,2)):H("",!0),f("span",Rte,M(r.label()),1)],10,Ote)),[[a]])],64))])],14,kte)):H("",!0)}rQ.render=Dte;var Ap={name:"Menu",inheritAttrs:!1,emits:["show","hide","focus","blur"],props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:String,default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},exact:{type:Boolean,default:!0},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},data(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(e){this.id=e||_t()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted(){this.id=this.id||_t(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&st.clear(this.container),this.container=null},methods:{itemClick(e){const t=e.item;this.disabled(t)||(t.command&&t.command(e),t.to&&e.navigate&&e.navigate(e.originalEvent),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==e.id&&(this.focusedOptionIndex=e.id))},onListFocus(e){this.focused=!0,this.popup||(this.selectedOptionIndex!==-1?(this.changeFocusedOptionIndex(this.selectedOptionIndex),this.selectedOptionIndex=-1):this.changeFocusedOptionIndex(0)),this.$emit("focus",e)},onListBlur(e){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e)},onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":this.popup&&(I.focus(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey(e){const t=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()},onArrowUpKey(e){if(e.altKey&&this.popup)I.focus(this.target),this.hide(),e.preventDefault();else{const t=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(t),e.preventDefault()}},onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()},onEndKey(e){this.changeFocusedOptionIndex(I.find(this.container,"li.p-menuitem:not(.p-disabled)").length-1),e.preventDefault()},onEnterKey(e){const t=I.findSingle(this.list,`li[id="${`${this.focusedOptionIndex}`}"]`),n=t&&I.findSingle(t,".p-menuitem-link");this.popup&&I.focus(this.target),n?n.click():t&&t.click(),e.preventDefault()},onSpaceKey(e){this.onEnterKey(e)},findNextOptionIndex(e){const n=[...I.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(i=>i.id===e);return n>-1?n+1:0},findPrevOptionIndex(e){const n=[...I.find(this.container,"li.p-menuitem:not(.p-disabled)")].findIndex(i=>i.id===e);return n>-1?n-1:0},changeFocusedOptionIndex(e){const t=I.find(this.container,"li.p-menuitem:not(.p-disabled)");let n=e>=t.length?t.length-1:e<0?0:e;n>-1&&(this.focusedOptionIndex=t[n].getAttribute("id"))},toggle(e){this.overlayVisible?this.hide():this.show(e)},show(e){this.overlayVisible=!0,this.target=e.currentTarget},hide(){this.overlayVisible=!1,this.target=null},onEnter(e){this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&st.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&(I.focus(this.list),this.changeFocusedOptionIndex(0)),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave(e){this.autoZIndex&&st.clear(e)},alignOverlay(){I.absolutePosition(this.container,this.target),this.container.style.minWidth=I.getOuterWidth(this.target)+"px"},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{const t=this.container&&!this.container.contains(e.target),n=!(this.target&&(this.target===e.target||this.target.contains(e.target)));this.overlayVisible&&t&&n?this.hide():!this.popup&&t&&n&&(this.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Io(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!I.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label(e){return typeof e.label=="function"?e.label():e.label},separatorClass(e){return["p-menuitem-separator",e.class]},onOverlayClick(e){hn.emit("overlay-click",{originalEvent:e,target:this.target})},containerRef(e){this.container=e},listRef(e){this.list=e}},computed:{containerClass(){return["p-menu p-component",{"p-menu-overlay":this.popup,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},focusedOptionId(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:rQ,Portal:es}};const Mte=["id"],Pte={key:0,class:"p-menu-start"},Hte=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],Nte=["id"],Kte={key:1,class:"p-menu-end"};function Vte(e,t,n,i,s,r){const o=N("PVMenuitem"),a=N("Portal");return y(),ee(a,{appendTo:n.appendTo,disabled:!n.popup},{default:O(()=>[b(Dn,{name:"p-connected-overlay",onEnter:r.onEnter,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave},{default:O(()=>[!n.popup||s.overlayVisible?(y(),_("div",Ue({key:0,ref:r.containerRef,id:s.id,class:r.containerClass},e.$attrs,{onClick:t[3]||(t[3]=(...l)=>r.onOverlayClick&&r.onOverlayClick(...l))}),[e.$slots.start?(y(),_("div",Pte,[ue(e.$slots,"start")])):H("",!0),f("ul",{ref:r.listRef,id:s.id+"_list",class:"p-menu-list p-reset",role:"menu",tabindex:n.tabindex,"aria-activedescendant":s.focused?r.focusedOptionId:void 0,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,onFocus:t[0]||(t[0]=(...l)=>r.onListFocus&&r.onListFocus(...l)),onBlur:t[1]||(t[1]=(...l)=>r.onListBlur&&r.onListBlur(...l)),onKeydown:t[2]||(t[2]=(...l)=>r.onListKeyDown&&r.onListKeyDown(...l))},[(y(!0),_(J,null,be(n.model,(l,A)=>(y(),_(J,{key:r.label(l)+A.toString()},[l.items&&r.visible(l)&&!l.separator?(y(),_(J,{key:0},[l.items?(y(),_("li",{key:0,id:s.id+"_"+A,class:"p-submenu-header",role:"none"},[ue(e.$slots,"item",{item:l},()=>[he(M(r.label(l)),1)])],8,Nte)):H("",!0),(y(!0),_(J,null,be(l.items,(u,c)=>(y(),_(J,{key:u.label+A+"_"+c},[r.visible(u)&&!u.separator?(y(),ee(o,{key:0,id:s.id+"_"+A+"_"+c,item:u,template:e.$slots.item,exact:n.exact,focusedOptionId:r.focusedOptionId,onItemClick:r.itemClick},null,8,["id","item","template","exact","focusedOptionId","onItemClick"])):r.visible(u)&&u.separator?(y(),_("li",{key:"separator"+A+c,class:P(r.separatorClass(l)),style:Re(u.style),role:"separator"},null,6)):H("",!0)],64))),128))],64)):r.visible(l)&&l.separator?(y(),_("li",{key:"separator"+A.toString(),class:P(r.separatorClass(l)),style:Re(l.style),role:"separator"},null,6)):(y(),ee(o,{key:r.label(l)+A.toString(),id:s.id+"_"+A,item:l,template:e.$slots.item,exact:n.exact,focusedOptionId:r.focusedOptionId,onItemClick:r.itemClick},null,8,["id","item","template","exact","focusedOptionId","onItemClick"]))],64))),128))],40,Hte),e.$slots.end?(y(),_("div",Kte,[ue(e.$slots,"end")])):H("",!0)],16,Mte)):H("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo","disabled"])}function $te(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Gte=`
.p-menu-overlay {
    position: absolute;
    top: 0;
    left: 0;
}
.p-menu ul {
    margin: 0;
    padding: 0;
    list-style: none;
}
.p-menu .p-menuitem-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
.p-menu .p-menuitem-text {
    line-height: 1;
}
`;$te(Gte);Ap.render=Vte;var oQ={name:"TreeNode",emits:["node-toggle","node-click","checkbox-change"],props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null},level:{type:Number,default:null},index:{type:Number,default:null}},nodeTouched:!1,mounted(){this.$refs.currentNode.closest(".p-treeselect-items-wrapper")&&this.setAllNodesTabIndexes()},methods:{toggle(){this.$emit("node-toggle",this.node)},label(e){return typeof e.label=="function"?e.label():e.label},onChildNodeToggle(e){this.$emit("node-toggle",e)},onClick(e){I.hasClass(e.target,"p-tree-toggler")||I.hasClass(e.target.parentElement,"p-tree-toggler")||(this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:e,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1)},onChildNodeClick(e){this.$emit("node-click",e)},onTouchEnd(){this.nodeTouched=!0},onKeyDown(e){if(!!this.isSameNode(e))switch(e.code){case"Tab":this.onTabKey(e);break;case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"Space":this.onEnterKey(e);break}},onArrowDown(e){const t=e.target,n=t.children[1];if(n)this.focusRowChange(t,n.children[0]);else if(t.nextElementSibling)this.focusRowChange(t,t.nextElementSibling);else{let i=this.findNextSiblingOfAncestor(t);i&&this.focusRowChange(t,i)}e.preventDefault()},onArrowUp(e){const t=e.target;if(t.previousElementSibling)this.focusRowChange(t,t.previousElementSibling,this.findLastVisibleDescendant(t.previousElementSibling));else{let n=this.getParentNodeElement(t);n&&this.focusRowChange(t,n)}e.preventDefault()},onArrowRight(e){this.leaf||this.expanded||(e.currentTarget.tabIndex=-1,this.$emit("node-toggle",this.node),this.$nextTick(()=>{this.onArrowDown(e)}))},onArrowLeft(e){const t=I.findSingle(e.currentTarget,".p-tree-toggler");if(this.level===0&&!this.expanded)return!1;if(this.expanded&&!this.leaf)return t.click(),!1;const n=this.findBeforeClickableNode(e.currentTarget);n&&this.focusRowChange(e.currentTarget,n)},onEnterKey(e){this.setTabIndexForSelectionMode(e,this.nodeTouched),this.onClick(e),e.preventDefault()},onTabKey(){this.setAllNodesTabIndexes()},setAllNodesTabIndexes(){const e=I.find(this.$refs.currentNode.closest(".p-tree-container"),".p-treenode"),t=[...e].some(n=>n.getAttribute("aria-selected")==="true"||n.getAttribute("aria-checked")==="true");if([...e].forEach(n=>{n.tabIndex=-1}),t){const n=[...e].filter(i=>i.getAttribute("aria-selected")==="true"||i.getAttribute("aria-checked")==="true");n[0].tabIndex=0;return}[...e][0].tabIndex=0},setTabIndexForSelectionMode(e,t){if(this.selectionMode!==null){const n=[...I.find(this.$refs.currentNode.parentElement,".p-treenode")];e.currentTarget.tabIndex=t===!1?-1:0,n.every(i=>i.tabIndex===-1)&&(n[0].tabIndex=0)}},focusRowChange(e,t,n){e.tabIndex="-1",t.tabIndex="0",this.focusNode(n||t)},findBeforeClickableNode(e){const t=e.closest("ul").closest("li");if(t){const n=I.findSingle(t,"button");return n&&n.style.visibility!=="hidden"?t:this.findBeforeClickableNode(e.previousElementSibling)}return null},toggleCheckbox(){let e=this.selectionKeys?{...this.selectionKeys}:{};const t=!this.checked;this.propagateDown(this.node,t,e),this.$emit("checkbox-change",{node:this.node,check:t,selectionKeys:e})},propagateDown(e,t,n){if(t?n[e.key]={checked:!0,partialChecked:!1}:delete n[e.key],e.children&&e.children.length)for(let i of e.children)this.propagateDown(i,t,n)},propagateUp(e){let t=e.check,n={...e.selectionKeys},i=0,s=!1;for(let r of this.node.children)n[r.key]&&n[r.key].checked?i++:n[r.key]&&n[r.key].partialChecked&&(s=!0);t&&i===this.node.children.length?n[this.node.key]={checked:!0,partialChecked:!1}:(t||delete n[this.node.key],s||i>0&&i!==this.node.children.length?n[this.node.key]={checked:!1,partialChecked:!0}:delete n[this.node.key]),this.$emit("checkbox-change",{node:e.node,check:e.check,selectionKeys:n})},onChildCheckboxChange(e){this.$emit("checkbox-change",e)},findNextSiblingOfAncestor(e){let t=this.getParentNodeElement(e);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null},findLastVisibleDescendant(e){const t=e.children[1];if(t){const n=t.children[t.children.length-1];return this.findLastVisibleDescendant(n)}else return e},getParentNodeElement(e){const t=e.parentElement.parentElement;return I.hasClass(t,"p-treenode")?t:null},focusNode(e){e.focus()},isCheckboxSelectionMode(){return this.selectionMode==="checkbox"},isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest(".p-treenode")))}},computed:{hasChildren(){return this.node.children&&this.node.children.length>0},expanded(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selectable(){return this.node.selectable===!1?!1:this.selectionMode!=null},selected(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},containerClass(){return["p-treenode",{"p-treenode-leaf":this.leaf}]},contentClass(){return["p-treenode-content",this.node.styleClass,{"p-treenode-selectable":this.selectable,"p-highlight":this.checkboxMode?this.checked:this.selected}]},icon(){return["p-treenode-icon",this.node.icon]},toggleIcon(){return["p-tree-toggler-icon pi pi-fw",this.expanded?this.node.expandedIcon||"pi-chevron-down":this.node.collapsedIcon||"pi-chevron-right"]},checkboxClass(){return["p-checkbox-box",{"p-highlight":this.checked,"p-indeterminate":this.partialChecked}]},checkboxIcon(){return["p-checkbox-icon",{"pi pi-check":this.checked,"pi pi-minus":this.partialChecked}]},checkboxMode(){return this.selectionMode==="checkbox"&&this.node.selectable!==!1},checked(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1},ariaChecked(){return this.selectionMode==="single"||this.selectionMode==="multiple"?this.selected:void 0},ariaSelected(){return this.checkboxMode?this.checked:void 0}},directives:{ripple:bt}};const zte=["aria-label","aria-selected","aria-expanded","aria-setsize","aria-posinset","aria-level","aria-checked","tabindex"],jte={key:0,class:"p-checkbox p-component","aria-hidden":"true"},Wte={class:"p-treenode-label"},qte={key:0,class:"p-treenode-children",role:"group"};function Xte(e,t,n,i,s,r){const o=N("TreeNode",!0),a=pt("ripple");return y(),_("li",{ref:"currentNode",class:P(r.containerClass),role:"treeitem","aria-label":r.label(n.node),"aria-selected":r.ariaSelected,"aria-expanded":r.expanded,"aria-setsize":n.node.children?n.node.children.length:0,"aria-posinset":n.index+1,"aria-level":n.level,"aria-checked":r.ariaChecked,tabindex:n.index===0?0:-1,onKeydown:t[3]||(t[3]=(...l)=>r.onKeyDown&&r.onKeyDown(...l))},[f("div",{class:P(r.contentClass),onClick:t[1]||(t[1]=(...l)=>r.onClick&&r.onClick(...l)),onTouchend:t[2]||(t[2]=(...l)=>r.onTouchEnd&&r.onTouchEnd(...l)),style:Re(n.node.style)},[re((y(),_("button",{type:"button",class:"p-tree-toggler p-link",onClick:t[0]||(t[0]=(...l)=>r.toggle&&r.toggle(...l)),tabindex:"-1","aria-hidden":"true"},[f("span",{class:P(r.toggleIcon)},null,2)])),[[a]]),r.checkboxMode?(y(),_("div",jte,[f("div",{class:P(r.checkboxClass),role:"checkbox"},[f("span",{class:P(r.checkboxIcon)},null,2)],2)])):H("",!0),f("span",{class:P(r.icon)},null,2),f("span",Wte,[n.templates[n.node.type]||n.templates.default?(y(),ee(ht(n.templates[n.node.type]||n.templates.default),{key:0,node:n.node},null,8,["node"])):(y(),_(J,{key:1},[he(M(r.label(n.node)),1)],64))])],38),r.hasChildren&&r.expanded?(y(),_("ul",qte,[(y(!0),_(J,null,be(n.node.children,l=>(y(),ee(o,{key:l.key,node:l,templates:n.templates,level:n.level+1,expandedKeys:n.expandedKeys,onNodeToggle:r.onChildNodeToggle,onNodeClick:r.onChildNodeClick,selectionMode:n.selectionMode,selectionKeys:n.selectionKeys,onCheckboxChange:r.propagateUp},null,8,["node","templates","level","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange"]))),128))])):H("",!0)],42,zte)}oQ.render=Xte;var A_={name:"Tree",emits:["node-expand","node-collapse","update:expandedKeys","update:selectionKeys","node-select","node-unselect"],props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner"},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0},scrollHeight:{type:String,default:null},level:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys(e){this.d_expandedKeys=e}},methods:{onNodeToggle(e){const t=e.key;this.d_expandedKeys[t]?(delete this.d_expandedKeys[t],this.$emit("node-collapse",e)):(this.d_expandedKeys[t]=!0,this.$emit("node-expand",e)),this.d_expandedKeys={...this.d_expandedKeys},this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick(e){if(this.selectionMode!=null&&e.node.selectable!==!1){const n=(e.nodeTouched?!1:this.metaKeySelection)?this.handleSelectionWithMetaKey(e):this.handleSelectionWithoutMetaKey(e);this.$emit("update:selectionKeys",n)}},onCheckboxChange(e){this.$emit("update:selectionKeys",e.selectionKeys),e.check?this.$emit("node-select",e.node):this.$emit("node-unselect",e.node)},handleSelectionWithMetaKey(e){const t=e.originalEvent,n=e.node,i=t.metaKey||t.ctrlKey,s=this.isNodeSelected(n);let r;return s&&i?(this.isSingleSelectionMode()?r={}:(r={...this.selectionKeys},delete r[n.key]),this.$emit("node-unselect",n)):(this.isSingleSelectionMode()?r={}:this.isMultipleSelectionMode()&&(r=i?this.selectionKeys?{...this.selectionKeys}:{}:{}),r[n.key]=!0,this.$emit("node-select",n)),r},handleSelectionWithoutMetaKey(e){const t=e.node,n=this.isNodeSelected(t);let i;return this.isSingleSelectionMode()?n?(i={},this.$emit("node-unselect",t)):(i={},i[t.key]=!0,this.$emit("node-select",t)):n?(i={...this.selectionKeys},delete i[t.key],this.$emit("node-unselect",t)):(i=this.selectionKeys?{...this.selectionKeys}:{},i[t.key]=!0,this.$emit("node-select",t)),i},isSingleSelectionMode(){return this.selectionMode==="single"},isMultipleSelectionMode(){return this.selectionMode==="multiple"},isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[e.key]===!0:!1},isChecked(e){return this.selectionKeys?this.selectionKeys[e.key]&&this.selectionKeys[e.key].checked:!1},isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)},onFilterKeydown(e){e.which===13&&e.preventDefault()},findFilteredNodes(e,t){if(e){let n=!1;if(e.children){let i=[...e.children];e.children=[];for(let s of i){let r={...s};this.isFilterMatched(r,t)&&(n=!0,e.children.push(r))}}if(n)return!0}},isFilterMatched(e,{searchFields:t,filterText:n,strict:i}){let s=!1;for(let r of t)String($.resolveFieldData(e,r)).toLocaleLowerCase(this.filterLocale).indexOf(n)>-1&&(s=!0);return(!s||i&&!this.isNodeLeaf(e))&&(s=this.findFilteredNodes(e,{searchFields:t,filterText:n,strict:i})||s),s}},computed:{containerClass(){return["p-tree p-component",{"p-tree-selectable":this.selectionMode!=null,"p-tree-loading":this.loading,"p-tree-flex-scrollable":this.scrollHeight==="flex"}]},loadingIconClass(){return["p-tree-loading-icon pi-spin",this.loadingIcon]},filteredValue(){let e=[];const t=this.filterBy.split(","),n=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),i=this.filterMode==="strict";for(let s of this.value){let r={...s},o={searchFields:t,filterText:n,strict:i};(i&&(this.findFilteredNodes(r,o)||this.isFilterMatched(r,o))||!i&&(this.isFilterMatched(r,o)||this.findFilteredNodes(r,o)))&&e.push(r)}return e},valueToRender(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:oQ}};const Jte={key:0,class:"p-tree-loading-overlay p-component-overlay"},Yte={key:1,class:"p-tree-filter-container"},Zte=["placeholder"],ene=f("span",{class:"p-tree-filter-icon pi pi-search"},null,-1),tne=["aria-labelledby","aria-label"];function nne(e,t,n,i,s,r){const o=N("TreeNode");return y(),_("div",{class:P(r.containerClass)},[n.loading?(y(),_("div",Jte,[f("i",{class:P(r.loadingIconClass)},null,2)])):H("",!0),n.filter?(y(),_("div",Yte,[re(f("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.filterValue=a),type:"text",autocomplete:"off",class:"p-tree-filter p-inputtext p-component",placeholder:n.filterPlaceholder,onKeydown:t[1]||(t[1]=(...a)=>r.onFilterKeydown&&r.onFilterKeydown(...a))},null,40,Zte),[[NR,s.filterValue]]),ene])):H("",!0),f("div",{class:"p-tree-wrapper",style:Re({maxHeight:n.scrollHeight})},[f("ul",{class:"p-tree-container",role:"tree","aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},[(y(!0),_(J,null,be(r.valueToRender,(a,l)=>(y(),ee(o,{key:a.key,node:a,templates:e.$slots,level:n.level+1,index:l,expandedKeys:s.d_expandedKeys,onNodeToggle:r.onNodeToggle,onNodeClick:r.onNodeClick,selectionMode:n.selectionMode,selectionKeys:n.selectionKeys,onCheckboxChange:r.onCheckboxChange},null,8,["node","templates","level","index","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange"]))),128))],8,tne)],4)],2)}function ine(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var sne=`
.p-tree-container {
    margin: 0;
    padding: 0;
    list-style-type: none;
    overflow: auto;
}
.p-treenode-children {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-tree-wrapper {
    overflow: auto;
}
.p-treenode-selectable {
    cursor: pointer;
    user-select: none;
}
.p-tree-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    flex-shrink: 0;
}
.p-treenode-leaf > .p-treenode-content .p-tree-toggler {
    visibility: hidden;
}
.p-treenode-content {
    display: flex;
    align-items: center;
}
.p-tree-filter {
    width: 100%;
}
.p-tree-filter-container {
    position: relative;
    display: block;
    width: 100%;
}
.p-tree-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-tree-loading {
    position: relative;
    min-height: 4rem;
}
.p-tree .p-tree-loading-overlay {
    position: absolute;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-tree-flex-scrollable {
    display: flex;
    flex: 1;
    height: 100%;
    flex-direction: column;
}
.p-tree-flex-scrollable .p-tree-wrapper {
    flex: 1;
}
`;ine(sne);A_.render=nne;const rne={name:"Table",components:{DataTable:ts,Column:Os,Button:Lt},props:{dataset:Array}},one=e=>(Fi("data-v-2f905626"),e=e(),Ui(),e),ane=one(()=>f("div",{class:"font-semibold"},"Filtered Dataset",-1));function lne(e,t,n,i,s,r){const o=N("Column"),a=N("Button"),l=N("DataTable");return y(),_("div",null,[ane,b(l,{value:n.dataset,scrollable:!0,scrollDirection:"both",class:"p-datatable-sm",paginator:!0,rows:10,paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",rowsPerPageOptions:[10,20,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",style:{"font-size":"10px"}},{paginatorstart:O(()=>[b(a,{type:"button",icon:"pi pi-refresh",class:"p-button-text"})]),default:O(()=>[b(o,{field:"gene_id",header:"Gene ID",style:{width:"10rem"}}),b(o,{field:"gene_expression",header:"Gene Expression",style:{width:"7rem"}},{body:O(A=>[he(M(Math.round(A.data.gene_expression*1e3)/1e3),1)]),_:1}),b(o,{field:"data_type",header:"Data Type",style:{width:"8rem"}}),b(o,{field:"sample_name",header:"Sample Name",style:{width:"10rem"}}),b(o,{field:"time_point",header:"Time Point (ZT)",style:{width:"7rem"}}),b(o,{field:"condition",header:"Condition",style:{width:"7rem"}}),b(o,{field:"species",header:"Species",style:{width:"8rem"}}),b(o,{field:"tissue",header:"Tissue",style:{width:"8rem"}}),b(o,{field:"age_months",header:"Age (months)",style:{width:"8rem"}}),b(o,{field:"gender",header:"Gender",style:{width:"6rem"}}),b(o,{field:"replicate",header:"Replicate",style:{width:"8rem"}}),b(o,{field:"number_of_replicates",header:"Number of Replicates",style:{width:"8rem"}}),b(o,{field:"experiment",header:"Experiment",style:{width:"8rem"}}),b(o,{field:"institution",header:"Institution",style:{width:"8rem"}}),b(o,{field:"year",header:"Year",style:{width:"4rem"}})]),_:1},8,["value"])])}var u_=Bt(rne,[["render",lne],["__scopeId","data-v-2f905626"]]);const Ane={name:"BarPlot",components:{ProgressSpinner:Su,SelectButton:l_,InputSwitch:Du,Menu:Ap,Button:Lt,DataTable:ts,Column:Os,Table:u_,Tree:A_},props:{genes:Array,datasets:Object},data(){return{genes_str_arr:null,gene_expression_data_tables:[],gene_metadata:[],sample_metadata_tables:[],selected_metadata:null,expression_merged:[],expression_averaged:[],expression_normalized:[],expression_normalized_averaged:[],expression_normalized_flattened:[],groups:[],subgroups:[],group_visibility:null,subgroup_visibility:null,time_visibility:null,gene_visibility:null,nodes:null,expandedKeys:{},margin:null,width:null,height:null,drawable_width_scale:null,drawable_height_scale:null,legendX:null,x:null,xAxis:null,xSubgroup:null,y:null,yAxis:null,svg:null,animationInterval:250,color:null,complete:!1,showReplicatePoints:!1,showErrorBars:!0,chart_type:"Grouped",chart_type_options:["Grouped","Stacked"],grouped_by:"Time",grouped_by_options:["Gene","Time"],time_points_options:null,time_points_selected:null,windowHeight:window.innerHeight,windowWidth:window.innerWidth,download_items:[{label:"Download as PNG",icon:"pi pi-image",command:()=>this.downloadChart("png")},{label:"Download as CSV",icon:"pi pi-table",command:()=>this.downloadCSV()}],color_items:[{label:"Rainbow",command:()=>this.change_color(Yw)},{label:"Sinebow",command:()=>this.change_color(WA)},{label:"Viridis",command:()=>this.change_color(Zw)},{label:"Warm",command:()=>this.change_color(Jw)}]}},async mounted(){console.log("BarPlot mounting");const e=Date.now();this.grouped_by="Time",this.time_points_options=[{name:"0",value:0},{name:"2",value:2},{name:"4",value:4},{name:"6",value:6},{name:"8",value:8},{name:"10",value:10},{name:"12",value:12},{name:"14",value:14},{name:"16",value:16},{name:"18",value:18},{name:"20",value:20},{name:"22",value:22}],this.time_points_selected=this.time_points_options,this.initialize_bar_plot(),this.datasets&&this.update_datasets(),document.getElementById("plot-svg").addEventListener("load",this.legend()),this.$nextTick(()=>{window.addEventListener("resize",this.onResize)});const n=Date.now()-e;console.log("BarPlot mounted, time elapsed: ",n)},beforeUnmount(){console.log("beforeUnmount"),document.getElementById("plot-svg").remove()},beforeDestroy(){console.log("beforeDestroy"),window.removeEventListener("resize",this.onResize)},watch:{datasets(){console.log("%%%%%%%%%%%%%%%%"),console.log("watch: datasets"),this.update_datasets(),console.log("%%%%%%%%%%%%%%%%")}},computed:{getNodeColor(){return e=>this.getHSLprefix(e)}},methods:{toggle(e,t){this.$refs[e].toggle(t)},getIconText(e){return{"material-icon-genetics":"genetics","material-icon-science":"lab_profile","material-icon-tissue":"labs","material-icon-male":"male","material-icon-female":"female","material-icon-group":""}[e]||""},async downloadChart(e){console.log("downloadChart");const t=document.getElementById("plot-area-legend");a_(t).then(n=>{const i=document.createElement("a");i.download="expression_hist_plot.png",i.href=n.toDataURL(),i.click()})},downloadCSV(){console.log("downloadCSV"),console.log(this.expression_merged);let e=this.expression_merged.map(o=>({gene_id:o.gene_id,gene_expression:o.gene_expression,data_type:o.data_type,sample_name:o.sample_name,time_point:o.time_point,condition:o.condition,species:o.species,tissue:o.tissue,age_months:o.age_months,gender:o.gender,replicate:o.replicate,number_of_replicates:o.number_of_replicates,experiment:o.experiment,institution:o.institution,year:o.year}));const n=[Object.keys(e[0])].concat(e).map(o=>Object.values(o).toString()).join(`
`);var i=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){var r=URL.createObjectURL(i);s.setAttribute("href",r),s.setAttribute("download","filtered_data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},change_color(e){this.color=dr(e),this.update_grouped_bar_plot(),this.legend()},onResize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth},axisLinebreaks(){this.grouped_by=="Gene"&&this.svg.selectAll(".myXaxis .tick text").call(function(e){e.each(function(t){const n=Ut(this);let i=n.text();i==""&&(i=n._groups[0][0])})})},updateGroupedBy(e){this.update_grouped_bar_plot()},updateTimePointsSelected(e){console.log("updateTimePointsSelected");for(const t of Object.keys(this.time_visibility))this.time_visibility[t]=0;this.time_points_selected.forEach(t=>this.time_visibility[t.name]=1),this.update_grouped_bar_plot()},update_datasets(){console.log("update_datasets");const e=Date.now();if(this.genes_str_arr=this.genes.map(i=>i.name),this.datasets){this.expression_merged=[],this.gene_expression_data_tables=JSON.parse(JSON.stringify(this.datasets.gene_expression_data_tables)),this.gene_metadata=JSON.parse(JSON.stringify(this.datasets.gene_metadata)),this.sample_metadata_tables=JSON.parse(JSON.stringify(this.datasets.sample_metadata_tables)),this.selected_metadata=JSON.parse(JSON.stringify(this.datasets.selected_metadata)),this.gene_expression_data_tables.forEach(u=>{const c=u.table_name,d=c.split("_");u.owner=d.at(-1);const h=this.selected_metadata.find(U=>U.gene_expression_data_table_name==c);u.experiment=h.experiment,u.year=h.year,u.institution=h.institution;let p=c.replace("expression","sample"),m=u.data,g=this.sample_metadata_tables.find(U=>U.table_name==p).data;var w=new Intl.Collator([],{numeric:!0});const v=m.map(U=>({...g.find(Q=>Q.sample_name==U.sample_name&&Q),...U})).sort((U,Q)=>w.compare(U.time_point,Q.time_point));u.data=v,u.data.forEach(U=>{U.table=c,U.experiment=h.experiment,U.institution=h.institution,U.year=h.year});const C=[...new Set(u.data.map(U=>U.species))];C.length>1&&console.error("WARNING: More than 1 species in ",c),u.species=C[0],u.experiment_year_species=u.experiment+" "+u.species;const B=[...new Set(u.data.map(U=>U.age_months))];B.length>1&&console.error("WARNING: More than 1 age in ",c),u.age_months=B.join(",");const E=[...new Set(u.data.map(U=>U.data_type))];E.length>1&&console.error("WARNING: More than 1 data type in ",c),u.data_type=E[0];const S=[...new Set(u.data.map(U=>U.gender))];S.length>2&&console.error("WARNING: More than 2 gender in ",c),u.gender=S.join(",");const F=[...new Set(u.data.map(U=>U.tissue))];F.length>1&&console.error("WARNING: More than 1 tissue in ",c),u.tissue=F[0],this.expression_merged=this.expression_merged.concat(u.data)}),this.expression_merged.forEach(u=>{u.time_point=parseInt(u.time_point.split("ZT")[1]),u.sample_name.includes("-")?u.replicate=u.sample_name.split("-").at(-1):u.replicate=u.sample_name.split("_").at(-1),u.identifier=`${u.species}_${u.experiment}_${u.tissue}_${u.gene_id}_${u.gender}_${u.group_name}`,u.identifier=u.identifier.replaceAll(" ","-")});const i=(u,c)=>u.sample_name.toString().localeCompare(c.sample_name,"en",{numeric:!0});this.expression_merged.sort(i);const s=Se.groupBy(this.expression_merged,u=>`${u.species}_${u.experiment}`),l=Object.keys(s).map(u=>[u,Se.groupBy(s[u],c=>`${c.tissue}`)]).map(u=>[u[0],Object.keys(u[1]).map(c=>[c,Se.groupBy(u[1][c],d=>`${d.gene_id}`)])]).map(u=>[u[0],u[1].map(c=>[c[0],Object.keys(c[1]).map(d=>[d,Se.groupBy(c[1][d],h=>`${h.gender}`)])])]).map(u=>[u[0].replaceAll(" ","-"),u[1].map(c=>[c[0].replaceAll(" ","-"),c[1].map(d=>[d[0].replaceAll(" ","-"),Object.keys(d[1]).map(h=>{const p=Se.groupBy(d[1][h],g=>`${g.group_name}`),m=Object.keys(p).sort();for(let g=0;g<m.length;g++){const w=m[g],v=Math.max.apply(Math,p[w].map(function(E){return E.gene_expression})),C=Math.min.apply(Math,p[w].map(function(E){return E.gene_expression})),B=Se.reduce(p[w],function(E,S){return E+S.gene_expression},0)/p[w].length;p[w].forEach(E=>{E.gene_expression_norm=(E.gene_expression-C)/(v-C),E.group_index=g,E.min=C,E.max=v,E.amplitude=v-C,E.mean=B})}return[h,p]})])])]);this.expression_normalized=l,this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized.map(u=>u[1]));for(let u=0;u<2;u++)this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized_flattened.map(c=>c[1]));this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized_flattened.map(u=>[].concat.apply([],Object.values(u[1]))));const A=Se.groupBy(this.expression_merged,u=>`${u.species}_${u.experiment}_${u.tissue}_${u.gene_id}_${u.gender}_${u.group_name}_ZT${u.time_point}`);this.expression_normalized_averaged=Se.mapObject(A,function(u,c){let d=JSON.parse(JSON.stringify(u[0]));return d.gene_expression_avg=Se.reduce(u,function(h,p){return h+p.gene_expression},0)/u.length,d.gene_expression_norm_avg=Se.reduce(u,function(h,p){return h+p.gene_expression_norm},0)/u.length,d.gene_expression_norm=d.gene_expression_norm_avg,d.std_dev=Math.sqrt(Se.reduce(u,function(h,p){return h+Math.pow(p.gene_expression_norm-d.gene_expression_norm_avg,2)},0)/u.length),d.std_err=d.std_dev/Math.sqrt(u.length),d}),console.log("this.expression_normalized_averaged"),console.log(this.expression_normalized_averaged),this.expression_normalized_averaged=Object.entries(this.expression_normalized_averaged).map(u=>u[1]),this.avgPoints=[...this.expression_normalized_averaged],this.avgPoints.forEach(u=>u.visible=1),this.errorBarsData=[...this.expression_normalized_averaged],this.errorBarsData.forEach(u=>u.visible=this.showErrorBars?1:0),this.replicatePoints=this.expression_normalized_flattened,this.replicatePoints.forEach(u=>u.visible=this.showReplicatePoints?1:0),this.allPoints=this.avgPoints.concat(this.replicatePoints),console.log("this.expression_normalized_averaged"),console.log(this.expression_normalized_averaged),this.sumstat=Ow(this.expression_normalized_averaged,u=>`${u.species}_${u.experiment}_${u.tissue}_${u.gene_id}_${u.gender}_${u.group_name}`.replaceAll(" ","-")),this.sumstat_visibility=Object.fromEntries(new Map([...this.sumstat.keys()].map(u=>[u,1]))),this.gene_visibility=Object.fromEntries(new Map([...this.sumstat.keys()].map(u=>[u,1]))),this.time_points=[...new Set(this.expression_normalized_averaged.map(u=>u.time_point))].map(u=>u.toString());var t=new Intl.Collator([],{numeric:!0});this.time_points.sort((u,c)=>t.compare(u,c)),this.time_points_selected=this.time_points_options,this.time_visibility=Object.fromEntries(new Map([...this.time_points].map(u=>[u,1]))),this.categories=[...new Set([...this.sumstat.keys()].map(u=>u.split("_").slice(0,-1).join("_")))],this.cat_map=new Map(this.categories.map((u,c)=>[u,c/this.categories.length])),oh("subgroup-rect").transition_attributes("fill-opacity",1),oh("bar-group").transition_attributes("opacity",1),this.update_grouped_bar_plot()}const n=Date.now()-e;console.log("update_datasets time elapsed",n)},initialize_bar_plot(){this.margin={top:5,right:0,bottom:5,left:70},this.width=this.windowWidth*.7-this.margin.left-this.margin.right,this.height=this.windowHeight*.7-this.margin.top-this.margin.bottom,this.drawable_width_scale=.95,this.drawable_height_scale=.9,this.svg=Ut("#plot-area").append("svg").attr("id","plot-svg").attr("viewBox",`0 0 ${this.width+this.margin.left+this.margin.right} ${this.height+this.margin.top+this.margin.bottom}`).attr("preserveAspectRatio","xMinYMid").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("style","font-family:sans-serif").append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),this.x=jA().range([0,this.width*this.drawable_width_scale]),this.xAxis=Dw().scale(this.x),this.svg.append("g").attr("transform",`translate(0, ${this.height*this.drawable_height_scale})`).attr("class","myXaxis").attr("id","myXaxis"),this.svg.append("text").attr("class","x-label").attr("text-anchor","middle").attr("x",this.width*this.drawable_width_scale/2).attr("y",this.height*this.drawable_height_scale+40).text("Time Point (ZT)"),this.y=ph().range([this.height*this.drawable_height_scale,0]),this.yAxis=yT().scale(this.y),this.svg.append("g").attr("class","myYaxis"),this.svg.append("text").attr("class","y-label").attr("text-anchor","middle").attr("y",-45).attr("x",-this.height*this.drawable_height_scale/2).attr("transform","rotate(-90)").text("Gene Expression"),this.svg.append("g").attr("id","bars"),this.legendX=this.width*this.drawable_width_scale+5,this.legendY=this.height*this.drawable_height_scale+60,this.legendY_spacing=10,this.color=dr(WA)},update_grouped_bar_plot(){console.log("==================="),console.log("update_grouped_bar_plot");const e=Date.now();let t,n,i;if(this.grouped_by=="Gene"){this.svg.select(".x-label").text(""),i=[...this.time_points].filter(A=>this.time_visibility[A]);const l=Se.groupBy(this.expression_normalized_averaged,A=>`${A.identifier}`);this.group_visibility=this.gene_visibility,console.log("group_visibility"),console.log(this.group_visibility),this.subgroup_visibility=this.time_visibility,console.log("subgroup_visibility"),console.log(this.subgroup_visibility),t=Object.keys(l).map(A=>[A,l[A]]),n=[...Object.keys(l)].filter(A=>this.gene_visibility[A]),t.forEach(A=>{A[1]=A[1].map(u=>({key:u.time_point.toString(),value:u}))}),t.forEach(A=>{A[1]=A[1].filter(u=>this.time_visibility[u.key])})}else if(this.grouped_by=="Time"){console.log("Time"),this.svg.select(".x-label").text("Time Point (ZT)"),n=[...this.time_points].filter(A=>this.time_visibility[A]),this.group_visibility=this.time_visibility,this.subgroup_visibility=this.gene_visibility;const l=Se.groupBy(this.expression_normalized_averaged,A=>`${A.time_point}`);t=Object.keys(l).map(A=>{const u=Se.groupBy(l[A],c=>`${c.identifier}`);return[A,u]}),console.log("data"),console.log(t),i=[...new Set(...t.map(A=>Object.keys(A[1])))].filter(A=>this.gene_visibility[A]),console.log("subgroups"),console.log(i),t.forEach(A=>{A[1]=Object.keys(A[1]).map(u=>({key:u,value:A[1][u][0]}))}),t=t.filter(A=>this.time_visibility[A[0]]),console.log("data"),console.log(t)}function s(l){var A=l.split("_"),u=A.slice(0,1)+" "+A.slice(4).join(" "),c=A.slice(2,3).join(" ").replaceAll("-"," ")+" - "+A.slice(3,4);return[A.slice(1,2).join(" ").replaceAll("-"," "),c,u.replaceAll("-"," ")]}this.x.domain(n).padding([.1]);var r=this.x;this.svg.selectAll(".myXaxis").transition().duration(this.animationInterval).call(this.xAxis).end().then(()=>{this.grouped_by=="Gene"&&(this.svg.selectAll(".myXaxis .tick text").call(function(l){l.each(function(A){var u=Ut(this);u.text("");for(var c=s(A),d=0;d<c.length;d++)u.append("tspan").text(c[d]).attr("x",0).attr("dy",d?"1.2em":0)})}),this.svg.selectAll(".myXaxis .tick line").attr("stroke","none"))}),this.xSubgroup=jA().domain(i).range([0,r.bandwidth()]).padding([.05]),this.y.domain([0,1]);var o=this.y;this.svg.selectAll(".myYaxis").transition().duration(this.animationInterval).call(this.yAxis),this.svg.select("#bars").selectAll(".bar-group").data(t).join(l=>{l.append("g").attr("transform",u=>`translate(${r(u[0])}, 0)`).attr("class","bar-group").attr("id",u=>`group_${u[0]}`).selectAll(".subgroup-rect").data(u=>u[1]).join(u=>{u.append("rect").attr("class","subgroup-rect").attr("id",c=>`subgroup_${c.key}`).attr("x",c=>this.xSubgroup(c.key)).attr("y",c=>o(c.value.gene_expression_norm_avg)).attr("width",this.xSubgroup.bandwidth()).attr("height",c=>this.height*this.drawable_height_scale-o(c.value.gene_expression_norm_avg)).attr("fill",c=>this.getHSL(c.value)).on("mouseover",(c,d)=>{this.svg.append("g").attr("class","tooltip").call(this.popover,d)}).on("mouseout",()=>this.svg.selectAll(".tooltip").remove())},u=>{u.attr("id",c=>`subgroup_${c.key}`).attr("x",c=>this.xSubgroup(c.key)).attr("y",c=>o(c.value.gene_expression_norm_avg)).attr("width",this.xSubgroup.bandwidth()).attr("height",c=>this.height*this.drawable_height_scale-o(c.value.gene_expression_norm_avg)).attr("fill",c=>this.getHSL(c.value)).on("mouseover",(c,d)=>{this.svg.append("g").attr("class","tooltip").call(this.popover,d)}).on("mouseout",()=>this.svg.selectAll(".tooltip").remove())},u=>{u.transition_attributes("fill-opacity",0).remove()})},l=>{l.attr("transform",A=>`translate(${r(A[0])}, 0)`).attr("id",A=>`group_${A[0]}`).selectAll(".subgroup-rect").data(A=>A[1]).join(A=>{A.append("rect").attr("class","subgroup-rect").attr("id",u=>`subgroup_${u.key}`).attr("x",u=>this.xSubgroup(u.key)).attr("y",u=>o(u.value.gene_expression_norm_avg)).attr("width",this.xSubgroup.bandwidth()).attr("height",u=>this.height*this.drawable_height_scale-o(u.value.gene_expression_norm_avg)).attr("fill",u=>this.getHSL(u.value)).on("mouseover",(u,c)=>{this.svg.append("g").attr("class","tooltip").call(this.popover,c)}).on("mouseout",()=>this.svg.selectAll(".tooltip").remove())},A=>{A.attr("id",u=>`subgroup_${u.key}`).attr("x",u=>this.xSubgroup(u.key)).attr("y",u=>this.y(u.value.gene_expression_norm_avg)).attr("width",this.xSubgroup.bandwidth()).attr("height",u=>this.height*this.drawable_height_scale-o(u.value.gene_expression_norm_avg)).attr("fill",u=>this.getHSL(u.value)).on("mouseover",(u,c)=>{this.svg.append("g").attr("class","tooltip").call(this.popover,c)}).on("mouseout",()=>this.svg.selectAll(".tooltip").remove())},A=>A.transition_attributes("fill-opacity",0).remove())},l=>l.transition_attributes("opacity",0).remove());const a=Date.now()-e;console.log("update_grouped_bar_plot time elapsed: ",a),this.getTreeNodes(this.expression_normalized),console.log("===================")},getTreeNodes(e){const t=(n,i="",s="",r=0)=>n.flatMap((o,a)=>{const l=`${i}${a}`;let A,u;if(Array.isArray(o)&&typeof o[0]=="string")[A,u]=o;else return[];const c=`${s?s+"_":""}${A}`,d={key:l,visible:1,originalLabel:c,label:A.replaceAll("-"," ").replaceAll("_"," - ")},h=["material-icon-science","material-icon-tissue","material-icon-genetics"];return d.icon=h[r]||(A==="Male"?"material-icon-male":A==="Female"?"material-icon-female":void 0),r===3?d.children=Object.keys(u).map((p,m)=>({key:`${l}-${m}`,label:p,visible:1,originalLabel:c+"_"+p})):d.children=Array.isArray(u)?t(u,`${l}-`,c,r+1):void 0,d});this.nodes=t(e),this.expandTreeNodes(),this.complete=!0},expandTreeNodes(){for(let e of this.nodes)this.expandNode(e);this.expandedKeys={...this.expandedKeys}},expandNode(e){if(e.children&&e.children.length){this.expandedKeys[e.key]=!0;for(let t of e.children)this.expandNode(t)}},collapseTreeNodes(){this.expandedKeys={}},nodeToggled(e){console.log("nodeToggled"),console.log(e)},toggleDatasetVisibility(e){console.log("toggleDatasetVisibility"),console.log(e);const t=this.computePrefixForNode(e);console.log("prefix"),console.log(t);const n=e.visible===1?0:1;console.log("newOpacity",n),e.visible=n,this.toggleVisibility(n,t),this.setNodeVisibilityRecursive(e,n)},setNodeVisibilityRecursive(e,t){e.visible=t,e.children&&e.children.length&&e.children.forEach(n=>{this.setNodeVisibilityRecursive(n,t)})},computePrefixForNode(e){return e.originalLabel},getHSL(e,t=!1){let i,s;typeof e=="object"?(i=e.identifier,s=e.group_index):(i=e,s=0,t=!0);const r=i.split("_");let o;r.length>5?o=r.slice(0,5).join("_"):console.error("getHSL: unexpected name length");let a=$A(this.color(this.cat_map.get(o)));if(!t){const l=1+((s===0)-.5)/3;a.l*=l}return a},getHSLprefix(e){console.log("getHSLprefix"),console.log(e);let t=e.originalLabel,n=parseInt(e.key.split("-").slice(-1)[0],10);console.log("group_index "+n);const i="#000000",s=3,r=t.split("_"),o=r.length;if(console.log(t),console.log(o),o<5)return i;let a=!1;o===5?a=!0:o===6?(a=!1,t=r.slice(0,5).join("_"),console.log("new prefix: "+t)):console.error("Unexpected number of prefix elements. Defaulting gender to false.");let l=$A(this.color(this.cat_map.get(t)));if(!a){const A=1+((n===0)-.5)/s;l.l*=A}return console.log(l.toString()),l.toString()},change_color(e){this.color=dr(e),this.update_line_plot(),this.legend()},popover_text(e){let t=`Data Point Details
      Gene: ${e.gene_id}
      Group: ${e.group_name}
      Tissue: ${e.tissue}
      Age: ${e.age_months} months
      Species: ${e.species}
      Time: ZT${e.time_point}`;return"gene_expression_avg"in e?t+=`
 Expr Avg: ${Math.round(e.gene_expression*1e3)/1e3}`:t+=`
 Expr: ${Math.round(e.gene_expression*1e3)/1e3}`,"gene_expression_norm_avg"in e?t+=`
 Expr Norm Avg: ${Math.round(e.gene_expression_norm_avg*1e3)/1e3}`:"gene_expression_norm"in e&&(t+=`
 Expr Norm: ${Math.round(e.gene_expression_norm*1e3)/1e3}`),"std_err"in e&&(t+=`
 Std Err: ${Math.round(e.std_err*1e3)/1e3}`),t},popover(e,t){const n=this.popover_text(t.value);if(!n)return e.style("display","none");const i=t.value.time_point;if(!this.time_visibility[i])return e.style("display","none");const s=t.value.identifier;if(!this.gene_visibility[s])return e.style("display","none");e.style("display","flex").style("pointer-events","none").style("font","10px sans-serif");const r=e.selectAll("path").data([null]).join("path").attr("fill","white").attr("opacity",1).attr("stroke",this.getHSL(t.value)),o=e.selectAll("text").data([null]).join("text").call(p=>p.selectAll("tspan").data((n+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(m,g)=>`${g*1.1}em`).style("text-align","center").style("font-weight",(m,g)=>g?null:"bold").text(m=>m));let a;this.grouped_by=="Time"?a=t.value.time_point.toString():this.grouped_by=="Gene"&&(a=t.value.identifier);const{x:l,y:A,width:u,height:c}=o.node().getBBox();o.attr("transform",`translate(${-u/2},${15-A})`);const d=this.x(a)+this.xSubgroup(t.key)+this.xSubgroup.bandwidth()/2,h=Math.max(this.y(t.value.gene_expression_norm_avg)-c-25,-this.margin.top);e.attr("transform",`translate(${d},${h})`),r.attr("d",`M${-u/2-10},5 H${u/2+10},H ${u/2+10} v ${c+20} h ${-u/2-5} l-5,5 l-5,-5 h${-u/2-5} z`)},toggleVisibility(e,t){let n,i;this.grouped_by=="Time"?(n=Object.keys(this.subgroup_visibility).filter(s=>s.includes(t)),n.forEach(s=>this.subgroup_visibility[s]=e),i=Ut("#bars").selectAll(`[id^='subgroup_${t}']`)):this.grouped_by=="Gene"&&(n=Object.keys(this.group_visibility).filter(s=>s.includes(t)),n.forEach(s=>this.group_visibility[s]=e),i=Ut("#bars").selectAll(`[id^='group_${t}']`).selectAll(".subgroup-rect")),i.transition_attributes("fill-opacity",e)}}},Mu=e=>(Fi("data-v-a53b2b0a"),e=e(),Ui(),e),une={id:"bar",class:"mx-auto"},cne={id:"spinner",class:"mt-10 mx-auto"},dne={id:"plot-container"},hne={id:"plot-options",class:"w-3/4 mx-auto mt-1 flex flex-row"},fne={id:"group-by",class:"flex flex-col align-items-center mx-2"},pne=Mu(()=>f("div",{class:"font-semibold pb-2"},"Group by:",-1)),gne={id:"time-selection",class:"flex flex-col align-items-center mx-2"},mne=Mu(()=>f("div",{class:"font-semibold pb-2"},"Time Points (ZT)",-1)),yne={id:"menu-options",class:"flex grow justify-end"},vne={class:"flex flex-col items-center"},wne=Mu(()=>f("div",{class:"font-semibold pb-2"},"Download",-1)),_ne={class:"flex flex-col items-center ml-2"},bne=Mu(()=>f("div",{class:"font-semibold pb-2"},"Colors",-1)),Bne={id:"plot-area-legend",class:"flex space-x-4 mt-3 p-2"},Cne=Mu(()=>f("div",{id:"plot-area",class:"flex-grow"},null,-1)),xne={id:"legend-area",class:"flex-none"},Ene={key:0,class:"material-symbols-outlined custom-icon"},Ine={id:"table-area",class:"mt-1"};function Sne(e,t,n,i,s,r){const o=N("ProgressSpinner"),a=N("SelectButton"),l=N("Button"),A=N("Menu"),u=N("Tree"),c=N("Table");return y(),_("div",une,[re(f("div",cne,[b(o,{class:"w-full mt-10"})],512),[[xe,!this.complete]]),f("div",dne,[re(f("div",hne,[f("div",fne,[pne,b(a,{modelValue:s.grouped_by,"onUpdate:modelValue":t[0]||(t[0]=d=>s.grouped_by=d),options:s.grouped_by_options,onChange:r.updateGroupedBy},null,8,["modelValue","options","onChange"])]),re(f("div",gne,[mne,b(a,{modelValue:s.time_points_selected,"onUpdate:modelValue":t[1]||(t[1]=d=>s.time_points_selected=d),options:s.time_points_options,optionLabel:"name",multiple:"",onChange:r.updateTimePointsSelected},null,8,["modelValue","options","onChange"])],512),[[xe,s.grouped_by==="Time"]]),f("div",yne,[f("div",vne,[wne,b(l,{type:"button",label:"",icon:"pi pi-download",onClick:t[2]||(t[2]=d=>r.toggle("download_menu",d)),"aria-haspopup":"true","aria-controls":"download_menu"}),b(A,{id:"download_menu",ref:"download_menu",model:s.download_items,popup:!0},null,8,["model"])]),f("div",_ne,[bne,b(l,{type:"button",label:"",icon:"pi pi-palette",onClick:t[3]||(t[3]=d=>r.toggle("color_menu",d)),"aria-haspopup":"true","aria-controls":"color_menu"}),b(A,{id:"color_menu",ref:"color_menu",model:s.color_items,popup:!0},null,8,["model"])])])],512),[[xe,this.complete]]),f("div",Bne,[Cne,f("div",xne,[b(u,{value:this.nodes,class:"custom-tree",expandedKeys:s.expandedKeys,"onUpdate:expandedKeys":t[4]||(t[4]=d=>s.expandedKeys=d),selectionMode:"single",onNodeSelect:r.toggleDatasetVisibility},{default:O(d=>[f("div",{class:P(["icon-label",{"disabled-node":!d.node.visible}]),style:Re({color:r.getNodeColor(d.node)})},[d.node.icon?(y(),_("span",Ene,M(r.getIconText(d.node.icon)),1)):H("",!0),f("span",null,M(d.node.label),1)],6)]),_:1},8,["value","expandedKeys","onNodeSelect"])])])]),f("div",Ine,[b(c,{dataset:this.expression_merged},null,8,["dataset"])])])}var Fne=Bt(Ane,[["render",Sne],["__scopeId","data-v-a53b2b0a"]]),Pu={name:"ToggleButton",emits:["update:modelValue","change","click","focus","blur"],props:{modelValue:Boolean,onIcon:String,offIcon:String,onLabel:{type:String,default:"Yes"},offLabel:{type:String,default:"No"},iconPos:{type:String,default:"left"},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},outsideClickListener:null,data(){return{focused:!1}},mounted(){this.bindOutsideClickListener()},beforeUnmount(){this.unbindOutsideClickListener()},methods:{onClick(e){this.disabled||(this.$emit("update:modelValue",!this.modelValue),this.$emit("change",e),this.$emit("click",e),this.focused=!0)},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.$emit("blur",e)},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.focused&&!this.$refs.container.contains(e.target)&&(this.focused=!1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}},computed:{buttonClass(){return["p-button p-togglebutton p-component",{"p-focus":this.focused,"p-button-icon-only":this.hasIcon&&!this.hasLabel,"p-disabled":this.disabled,"p-highlight":this.modelValue===!0}]},iconClass(){return[this.modelValue?this.onIcon:this.offIcon,"p-button-icon",{"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label}]},hasLabel(){return this.onLabel&&this.onLabel.length>0&&this.offLabel&&this.offLabel.length>0},hasIcon(){return this.onIcon&&this.onIcon.length>0&&this.offIcon&&this.offIcon.length>0},label(){return this.hasLabel?this.modelValue?this.onLabel:this.offLabel:"&nbsp;"}},directives:{ripple:bt}};const Une={class:"p-hidden-accessible"},Tne=["id","checked","value","aria-labelledby","aria-label"],kne={class:"p-button-label"};function Qne(e,t,n,i,s,r){const o=pt("ripple");return re((y(),_("div",{ref:"container",class:P(r.buttonClass),onClick:t[2]||(t[2]=a=>r.onClick(a))},[f("span",Une,[f("input",Ue({id:n.inputId,type:"checkbox",role:"switch",class:n.inputClass,style:n.inputStyle,checked:n.modelValue,value:n.modelValue,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=a=>r.onFocus(a)),onBlur:t[1]||(t[1]=a=>r.onBlur(a))},n.inputProps),null,16,Tne)]),r.hasIcon?(y(),_("span",{key:0,class:P(r.iconClass)},null,2)):H("",!0),f("span",kne,M(r.label),1)],2)),[[o]])}Pu.render=Qne;Er.prototype.transition_attributes=function(e,t,n=animationInterval){return this.transition().attr(e,t)};const Lne={name:"LinePlot",components:{ProgressSpinner:Su,InputSwitch:Du,Menu:Ap,Button:Lt,ToggleButton:Pu,DataTable:ts,Column:Os,Table:u_,Tree:A_},props:{genes:Array,datasets:Object},data(){return{genes_str_arr:null,gene_expression_data_tables:[],gene_metadata:[],sample_metadata_tables:[],expression_merged:[],expression_averaged:[],expression_normalized:[],expression_normalized_averaged:[],expression_normalized_flattened:[],legend_group_data:[],nodes:null,expandedKeys:{},sumstat:null,sumstat_dots:null,categories:null,cat_map:null,replicatePoints:[],allPoints:[],voronoi:null,margin:null,width:null,height:null,drawable_width_scale:null,drawable_height_scale:null,legendX:null,x:null,xAxis:null,y:null,yAxis:null,svg:null,animationInterval:250,color:null,complete:!1,showReplicatePoints:!1,showErrorBars:!0,windowHeight:window.innerHeight,windowWidth:window.innerWidth,download_items:[{label:"Download as PNG",icon:"pi pi-image",command:()=>this.downloadChart("png")},{label:"Download as CSV",icon:"pi pi-table",command:()=>this.downloadCSV()}],color_items:[{label:"Rainbow",command:()=>this.change_color(Yw)},{label:"Sinebow",command:()=>this.change_color(WA)},{label:"Viridis",command:()=>this.change_color(Zw)},{label:"Warm",command:()=>this.change_color(Jw)}]}},watch:{datasets(){console.log("%%%%%%%%%%%%%%%%"),console.log("watch: datasets"),this.update_datasets(),console.log("%%%%%%%%%%%%%%%%")}},async mounted(){console.log("LinePlot mounted");const e=Date.now();this.initialize_line_plot(),this.datasets&&this.update_datasets(),document.getElementById("plot-svg"),this.$nextTick(()=>{window.addEventListener("resize",this.onResize)});const t=Date.now()-e;console.log("LinePlot mounted, time elapsed",t)},beforeDestroy(){window.removeEventListener("resize",this.onResize)},computed:{getNodeColor(){return e=>this.getHSLprefix(e)}},methods:{toggle(e,t){this.$refs[e].toggle(t)},getIconText(e){return{"material-icon-genetics":"genetics","material-icon-science":"lab_profile","material-icon-tissue":"science","material-icon-male":"male","material-icon-female":"female","material-icon-solid":"maximize","material-icon-dashed":"minimize"}[e]||""},async downloadChart(e){console.log("downloadChart");const t=document.getElementById("plot-area-legend");a_(t).then(n=>{const i=document.createElement("a");i.download="expression_line_plot.png",i.href=n.toDataURL(),i.click()})},downloadCSV(){console.log("downloadCSV"),console.log(this.expression_merged);let e=this.expression_merged.map(o=>({gene_id:o.gene_id,gene_expression:o.gene_expression,data_type:o.data_type,sample_name:o.sample_name,time_point:o.time_point,condition:o.condition,species:o.species,tissue:o.tissue,age_months:o.age_months,gender:o.gender,replicate:o.replicate,number_of_replicates:o.number_of_replicates,experiment:o.experiment,institution:o.institution,year:o.year}));const n=[Object.keys(e[0])].concat(e).map(o=>Object.values(o).toString()).join(`
`);var i=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){var r=URL.createObjectURL(i);s.setAttribute("href",r),s.setAttribute("download","filtered_data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},onResize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth},update_datasets(){console.log("update_datasets");const e=Date.now();if(this.genes_str_arr=this.genes.map(n=>n.name),this.datasets){this.expression_merged=[],this.gene_expression_data_tables=JSON.parse(JSON.stringify(this.datasets.gene_expression_data_tables)),this.gene_metadata=JSON.parse(JSON.stringify(this.datasets.gene_metadata)),this.sample_metadata_tables=JSON.parse(JSON.stringify(this.datasets.sample_metadata_tables)),this.selected_metadata=JSON.parse(JSON.stringify(this.datasets.selected_metadata)),this.gene_expression_data_tables.forEach(A=>{const u=A.table_name,c=u.split("_");A.owner=c.at(-1);const d=this.selected_metadata.find(F=>F.gene_expression_data_table_name==u);A.experiment=d.experiment,A.year=d.year,A.institution=d.institution;let h=u.replace("expression","sample"),p=A.data,m=this.sample_metadata_tables.find(F=>F.table_name==h).data;var g=new Intl.Collator([],{numeric:!0});const w=p.map(F=>({...m.find(U=>U.sample_name==F.sample_name&&U),...F})).sort((F,U)=>g.compare(F.time_point,U.time_point));A.data=w,A.data.forEach(F=>{F.table=u,F.experiment=d.experiment,F.institution=d.institution,F.year=d.year});const v=[...new Set(A.data.map(F=>F.species))];v.length>1&&console.error("WARNING: More than 1 species in ",u),A.species=v[0],A.experiment_year_species=A.experiment+" "+A.species;const C=[...new Set(A.data.map(F=>F.age_months))];C.length>1&&console.error("WARNING: More than 1 age in ",u),A.age_months=C.join(",");const B=[...new Set(A.data.map(F=>F.data_type))];B.length>1&&console.error("WARNING: More than 1 data type in ",u),A.data_type=B[0];const E=[...new Set(A.data.map(F=>F.gender))];E.length>2&&console.error("WARNING: More than 2 gender in ",u),A.gender=E.join(",");const S=[...new Set(A.data.map(F=>F.tissue))];S.length>1&&console.error("WARNING: More than 1 tissue in ",u),A.tissue=S[0],this.expression_merged=this.expression_merged.concat(A.data)}),this.expression_merged.forEach(A=>{A.time_point=parseInt(A.time_point.split("ZT")[1]),A.sample_name.includes("-")?A.replicate=A.sample_name.split("-").at(-1):A.replicate=A.sample_name.split("_").at(-1),A.identifier=`${A.species}_${A.experiment}_${A.tissue}_${A.gene_id}_${A.gender}_${A.group_name}`,A.identifier=A.identifier.replaceAll(" ","-")});const n=(A,u)=>A.sample_name.toString().localeCompare(u.sample_name,"en",{numeric:!0});this.expression_merged.sort(n),console.log("this.expression_merged"),console.log(this.expression_merged);const i=Se.groupBy(this.expression_merged,A=>`${A.species}_${A.experiment}`),a=Object.keys(i).map(A=>[A,Se.groupBy(i[A],u=>`${u.tissue}`)]).map(A=>[A[0],Object.keys(A[1]).map(u=>[u,Se.groupBy(A[1][u],c=>`${c.gene_id}`)])]).map(A=>[A[0],A[1].map(u=>[u[0],Object.keys(u[1]).map(c=>[c,Se.groupBy(u[1][c],d=>`${d.gender}`)])])]).map(A=>[A[0].replaceAll(" ","-"),A[1].map(u=>[u[0].replaceAll(" ","-"),u[1].map(c=>[c[0].replaceAll(" ","-"),Object.keys(c[1]).map(d=>{const h=Se.groupBy(c[1][d],m=>`${m.group_name}`),p=Object.keys(h).sort();for(let m=0;m<p.length;m++){const g=p[m],w=Math.max.apply(Math,h[g].map(function(B){return B.gene_expression})),v=Math.min.apply(Math,h[g].map(function(B){return B.gene_expression})),C=Se.reduce(h[g],function(B,E){return B+E.gene_expression},0)/h[g].length;h[g].forEach(B=>{B.gene_expression_norm=(B.gene_expression-v)/(w-v),B.group_index=m,B.min=v,B.max=w,B.amplitude=w-v,B.mean=C})}return[d,h]})])])]);this.expression_normalized=a,this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized.map(A=>A[1]));for(let A=0;A<2;A++)this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized_flattened.map(u=>u[1]));this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized_flattened.map(A=>[].concat.apply([],Object.values(A[1]))));const l=Se.groupBy(this.expression_merged,A=>`${A.species}_${A.experiment}_${A.tissue}_${A.gene_id}_${A.gender}_${A.group_name}_ZT${A.time_point}`);this.expression_normalized_averaged=Se.mapObject(l,function(A,u){let c=JSON.parse(JSON.stringify(A[0]));return c.gene_expression_avg=Se.reduce(A,function(d,h){return d+h.gene_expression},0)/A.length,c.gene_expression_norm_avg=Se.reduce(A,function(d,h){return d+h.gene_expression_norm},0)/A.length,c.gene_expression_norm=c.gene_expression_norm_avg,c.std_dev=Math.sqrt(Se.reduce(A,function(d,h){return d+Math.pow(h.gene_expression_norm-c.gene_expression_norm_avg,2)},0)/A.length),c.std_err=c.std_dev/Math.sqrt(A.length),c}),console.log("this.expression_normalized_averaged"),console.log(this.expression_normalized_averaged),this.expression_normalized_averaged=Object.entries(this.expression_normalized_averaged).map(A=>A[1]),this.avgPoints=[...this.expression_normalized_averaged],this.avgPoints.forEach(A=>A.visible=1),this.errorBarsData=[...this.expression_normalized_averaged],this.errorBarsData.forEach(A=>A.visible=this.showErrorBars?1:0),this.replicatePoints=this.expression_normalized_flattened,this.replicatePoints.forEach(A=>A.visible=this.showReplicatePoints?1:0),this.allPoints=this.avgPoints.concat(this.replicatePoints),console.log("this.expression_normalized_averaged"),console.log(this.expression_normalized_averaged),this.sumstat=Ow(this.expression_normalized_averaged,A=>`${A.species}_${A.experiment}_${A.tissue}_${A.gene_id}_${A.gender}_${A.group_name}`.replaceAll(" ","-")),console.log("this.sumstat"),console.log(this.sumstat),this.sumstat_visibility=Object.fromEntries(new Map([...this.sumstat.keys()].map(A=>[A,1]))),console.log("this.sumstat_visibility"),console.log(this.sumstat_visibility),this.categories=[...new Set([...this.sumstat.keys()].map(A=>A.split("_").slice(0,-1).join("_")))],console.log("this.categories"),console.log(this.categories),this.cat_map=new Map(this.categories.map((A,u)=>[A,u/this.categories.length])),console.log("this.cat_map"),console.log(this.cat_map),this.update_line_plot()}const t=Date.now()-e;console.log("update_datasets time elapsed",t)},initialize_line_plot(){console.log("initialize_line_plot"),this.margin={top:5,right:0,bottom:5,left:70},this.width=this.windowWidth*.7-this.margin.left-this.margin.right,this.height=this.windowHeight*.7-this.margin.top-this.margin.bottom,this.drawable_width_scale=.95,this.drawable_height_scale=.9,this.svg=Ut("#plot-area").append("svg").attr("id","plot-svg").attr("class","mx-auto").attr("viewBox",`0 0 ${this.width+this.margin.left+this.margin.right} ${this.height+this.margin.top+this.margin.bottom}`).attr("preserveAspectRatio","xMinYMid").attr("style","font-family:sans-serif").append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),this.x=ph().range([0,this.width*this.drawable_width_scale]),this.xAxis=Dw().scale(this.x),this.svg.append("g").attr("transform",`translate(0, ${this.height*this.drawable_height_scale})`).attr("class","myXaxis"),this.svg.append("text").attr("class","x-label").attr("text-anchor","middle").attr("x",this.width*this.drawable_width_scale/2).attr("y",this.height*this.drawable_height_scale+40).text("Time Point (ZT)"),this.y=ph().range([this.height*this.drawable_height_scale,0]),this.yAxis=yT().scale(this.y),this.svg.append("g").attr("class","myYaxis"),this.svg.append("text").attr("class","y-label").attr("text-anchor","middle").attr("y",-45).attr("x",-this.height*this.drawable_height_scale/2).attr("transform","rotate(-90)").text("Gene Expression"),this.svg.append("g").attr("id","lines"),this.svg.append("g").attr("id","avgPoints"),this.svg.append("g").attr("id","errorBars"),this.svg.append("g").attr("id","replicatePoints"),this.svg.append("g").attr("id","voronoiWrapper"),this.legendX=this.width*this.drawable_width_scale+5,this.legendY=this.height*this.drawable_height_scale+60,this.legendY_spacing=10,this.color=dr(WA)},change_color(e){this.color=dr(e),this.update_line_plot()},update_line_plot(){console.log("==================="),console.log("update_line_plot"),this.animationInterval,this.x.domain([0,Ej(this.expression_merged,n=>n.time_point)]);var e=this.x;this.svg.selectAll(".myXaxis").transition().duration(this.animationInterval).call(this.xAxis),this.y.domain([0,1]);var t=this.y;this.svg.selectAll(".myYaxis").transition().duration(this.animationInterval).call(this.yAxis),this.svg.select("#lines").selectAll(".line").data(this.sumstat).join(n=>{console.log("line enter"),console.log(n),n.append("path").attr("class","line").attr("id",i=>`line_${i[0]}`).attr("d",i=>pC().curve(vC).x(s=>e(s.time_point)).y(s=>t(s.gene_expression_norm_avg))(i[1])).attr("fill","none").attr("stroke-width",1.5).attr("stroke-dasharray",i=>(console.log("stroke-dasharray"),console.log("d"),console.log(i),i[1][0].group_index==1?null:"3,3")).attr("stroke",i=>this.getHSL(i[1][0])).transition_attributes("stroke-opacity",i=>this.sumstat_visibility[i[0]])},n=>{n.attr("id",i=>`line_${i[0]}`).attr("d",i=>pC().curve(vC).x(s=>e(s.time_point)).y(s=>t(s.gene_expression_norm))(i[1])).attr("stroke",i=>this.getHSL(i[1][0])).attr("stroke-dasharray",i=>(console.log("stroke-dasharray"),console.log("d"),console.log(i),i[1][0].group_index==1?null:"3,3")).transition_attributes("stroke-opacity",i=>this.sumstat_visibility[i[0]])},n=>n.transition_attributes("stroke-opacity",0).remove()),console.log(`

this.avgPoints`),console.log(this.avgPoints),this.svg.select("#avgPoints").selectAll(".dot").data(this.avgPoints).join(n=>{n.append("circle").attr("class","dot").attr("id",i=>`dot_${i.identifier}`).attr("stroke",i=>this.getHSL(i)).attr("fill",i=>i.group_index?this.getHSL(i):_i("white")).attr("cx",i=>e(i.time_point)).attr("cy",i=>t(i.gene_expression_norm_avg)).attr("r",2).transition_attributes("opacity",i=>this.sumstat_visibility[i.identifier]?1:0)},n=>{n.attr("cx",i=>e(i.time_point)).attr("cy",i=>t(i.gene_expression_norm_avg)).attr("stroke",i=>this.getHSL(i)).attr("fill",i=>i.group_index?this.getHSL(i):_i("white")).transition_attributes("opacity",i=>this.sumstat_visibility[i.identifier]?1:0).attr("id",i=>`dot_${i.identifier}`)},n=>n.remove()),console.log(`

this.errorBarsData`),console.log(this.errorBarsData),this.svg.select("#errorBars").selectAll(".error").data(this.errorBarsData).join(n=>{n.append("path").attr("class","error").attr("id",i=>`error_${i.identifier}`).attr("d",i=>{let s=Wm();return s.moveTo(e(i.time_point),t(i.gene_expression_norm_avg-i.std_err)),s.lineTo(e(i.time_point),t(i.gene_expression_norm_avg+i.std_err)),s.moveTo(e(i.time_point-.25),t(i.gene_expression_norm_avg-i.std_err)),s.lineTo(e(i.time_point+.25),t(i.gene_expression_norm_avg-i.std_err)),s.moveTo(e(i.time_point-.25),t(i.gene_expression_norm_avg+i.std_err)),s.lineTo(e(i.time_point+.25),t(i.gene_expression_norm_avg+i.std_err)),s.toString()}).attr("stroke",i=>this.getHSL(i)).attr("stroke-width",1.5).transition_attributes("stroke-opacity",i=>this.sumstat_visibility[i.identifier]&&this.showErrorBars?1:0)},n=>{n.attr("id",i=>`error_${i.identifier}`).attr("d",i=>{let s=Wm();return s.moveTo(e(i.time_point),t(i.gene_expression_norm_avg-i.std_err)),s.lineTo(e(i.time_point),t(i.gene_expression_norm_avg+i.std_err)),s.moveTo(e(i.time_point-.25),t(i.gene_expression_norm_avg-i.std_err)),s.lineTo(e(i.time_point+.25),t(i.gene_expression_norm_avg-i.std_err)),s.moveTo(e(i.time_point-.25),t(i.gene_expression_norm_avg+i.std_err)),s.lineTo(e(i.time_point+.25),t(i.gene_expression_norm_avg+i.std_err)),s.toString()}).attr("stroke",i=>this.getHSL(i)).transition_attributes("stroke-opacity",i=>this.sumstat_visibility[i.identifier]&&this.showErrorBars?1:0)},n=>n.transition_attributes("stroke-opacity",0).remove()),console.log(`

this.replicatePoints`),console.log(this.replicatePoints),this.svg.select("#replicatePoints").selectAll(".dot").data(this.replicatePoints).join(n=>{n.append("circle").attr("class","dot").attr("id",i=>`dot_${i.identifier}`).attr("stroke",i=>this.getHSL(i)).attr("fill",i=>i.group_index?this.getHSL(i):_i("white")).attr("cx",i=>e(i.time_point)).attr("cy",i=>t(i.gene_expression_norm)).attr("r",2).transition_attributes("opacity",i=>this.sumstat_visibility[i.identifier]&&this.showReplicatePoints?1:0)},n=>{n.attr("cx",i=>e(i.time_point)).attr("cy",i=>t(i.gene_expression_norm)).attr("stroke",i=>this.getHSL(i)).attr("fill",i=>i.group_index?this.getHSL(i):_i("white")).transition_attributes("opacity",i=>this.sumstat_visibility[i.identifier]&&this.showReplicatePoints?1:0).attr("id",i=>`dot_${i.identifier}`)},n=>n.transition_attributes("fill-opacity",0)),this.voronoi_grid(),this.getTreeNodes(this.expression_normalized),console.log("===================")},getTreeNodes(e){const t=(n,i="",s="",r=0)=>n.flatMap((o,a)=>{const l=`${i}${a}`;let A,u;if(Array.isArray(o)&&typeof o[0]=="string")[A,u]=o;else return[];const c=`${s?s+"_":""}${A}`,d={key:l,visible:1,originalLabel:c,label:A.replaceAll("-"," ").replaceAll("_"," - ")},h=["material-icon-science","material-icon-tissue","material-icon-genetics"];return d.icon=h[r]||(A==="Male"?"material-icon-male":A==="Female"?"material-icon-female":void 0),r===3?d.children=Object.keys(u).map((p,m)=>({key:`${l}-${m}`,label:p,visible:1,originalLabel:c+"_"+p})):d.children=Array.isArray(u)?t(u,`${l}-`,c,r+1):void 0,d});this.nodes=t(e),this.expandTreeNodes(),this.complete=!0},expandTreeNodes(){for(let e of this.nodes)this.expandNode(e);this.expandedKeys={...this.expandedKeys}},expandNode(e){if(e.children&&e.children.length){this.expandedKeys[e.key]=!0;for(let t of e.children)this.expandNode(t)}},collapseTreeNodes(){this.expandedKeys={}},nodeToggled(e){console.log("nodeToggled"),console.log(e)},toggleDatasetVisibility(e){console.log("toggleDatasetVisibility"),console.log(e);const t=this.computePrefixForNode(e);console.log("prefix"),console.log(t);const n=e.visible===1?0:1;console.log("newOpacity",n),e.visible=n,this.toggleVisibility(n,t),this.setNodeVisibilityRecursive(e,n)},setNodeVisibilityRecursive(e,t){e.visible=t,e.children&&e.children.length&&e.children.forEach(n=>{this.setNodeVisibilityRecursive(n,t)})},computePrefixForNode(e){return e.originalLabel},voronoi_grid(){this.replicatePoints.forEach(t=>t.visible=this.sumstat_visibility[t.identifier]&&this.showReplicatePoints?1:0),this.avgPoints.forEach(t=>t.visible=this.sumstat_visibility[t.identifier]?1:0);const e=this.allPoints.filter(t=>t.visible);this.voronoi=Ww.from(e,t=>this.x(t.time_point),t=>this.y(t.gene_expression_norm)).voronoi([0,0,this.width*this.drawable_width_scale,this.height*this.drawable_height_scale]),this.svg.select("#voronoiWrapper").selectAll("path").data(e).join(t=>{t.append("path").attr("fill","none").style("pointer-events","all").attr("d",(n,i)=>this.voronoi.renderCell(i)).on("mouseover",(n,i)=>{n.y>1&&this.svg.append("g").attr("class","tooltip").attr("transform",`translate(${this.x(i.time_point)},${this.y(i.gene_expression_norm)})`).call(this.popover,this.popover_text(i),i.identifier)}).on("mouseout",()=>this.svg.selectAll(".tooltip").remove())},t=>{t.attr("d",(n,i)=>this.voronoi.renderCell(i)).on("mouseover",(n,i)=>{n.y>1&&this.svg.append("g").attr("class","tooltip").attr("transform",`translate(${this.x(i.time_point)},${this.y(i.gene_expression_norm)})`).call(this.popover,this.popover_text(i),i.identifier)})},t=>t.remove())},getHSL(e,t=!1){let i,s;typeof e=="object"?(i=e.identifier,s=e.group_index):(i=e,s=0,t=!0);const r=i.split("_");let o;r.length>5?o=r.slice(0,5).join("_"):console.error("getHSL: unexpected name length");let a=$A(this.color(this.cat_map.get(o)));if(!t){const l=1+((s===0)-.5)/3;a.l*=l}return a},getHSLprefix(e){console.log("getHSLprefix"),console.log(e);let t=e.originalLabel,n=parseInt(e.key.split("-").slice(-1)[0],10);console.log("group_index "+n);const i="#000000",s=3,r=t.split("_"),o=r.length;if(console.log(t),console.log(o),o<5)return i;let a=!1;o===5?a=!0:o===6?(a=!1,t=r.slice(0,5).join("_"),console.log("new prefix: "+t)):console.error("Unexpected number of prefix elements. Defaulting gender to false.");let l=$A(this.color(this.cat_map.get(t)));if(!a){const A=1+((n===0)-.5)/s;l.l*=A}return console.log(l.toString()),l.toString()},popover_text(e){let t=`Data Point Details
      Gene: ${e.gene_id}
      Group: ${e.group_name}
      Tissue: ${e.tissue}
      Age: ${e.age_months} months
      Species: ${e.species}
      Time: ZT${e.time_point}`;return"gene_expression_avg"in e?t+=`
 Expr Avg: ${Math.round(e.gene_expression*1e3)/1e3}`:t+=`
 Expr: ${Math.round(e.gene_expression*1e3)/1e3}`,"gene_expression_norm_avg"in e?t+=`
 Expr Norm Avg: ${Math.round(e.gene_expression_norm_avg*1e3)/1e3}`:"gene_expression_norm"in e&&(t+=`
 Expr Norm: ${Math.round(e.gene_expression_norm*1e3)/1e3}`),"std_err"in e&&(t+=`
 Std Err: ${Math.round(e.std_err*1e3)/1e3}`),t},popover(e,t,n){if(!t||Ut("#avgPoints").selectAll(`#dot_${n}`).attr("fill-opacity")==0)return e.style("display","none");e.style("display","flex").style("pointer-events","none").style("font","10px sans-serif");const s=e.selectAll("path").data([null]).join("path").attr("fill","white").attr("opacity",1).attr("stroke",this.getHSL(n)),r=e.selectAll("text").data([null]).join("text").call(u=>u.selectAll("tspan").data((t+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(c,d)=>`${d*1.1}em`).style("text-align","center").style("font-weight",(c,d)=>d?null:"bold").text(c=>c)),{x:o,y:a,width:l,height:A}=r.node().getBBox();r.attr("transform",`translate(${-l/2},${15-a})`),s.attr("d",`M${-l/2-10},5H-5l5,-5l5,5H${l/2+10}v${A+20}h-${l+20}z`)},toggleVisibility(e,t){oh(`[id^='line_${t}']`).transition_attributes("stroke-opacity",e),Object.keys(this.sumstat_visibility).filter(r=>r.includes(t)).forEach(r=>this.sumstat_visibility[r]=e);const s=Ut("#avgPoints").selectAll(`[id^='dot_${t}']`);if(s.transition_attributes("fill-opacity",e),s.transition_attributes("stroke-opacity",e),s._groups[0].forEach(r=>r.__data__.visible=e),this.showReplicatePoints){const r=Ut("#replicatePoints").selectAll(`[id^='dot_${t}']`);r.transition_attributes("fill-opacity",e),r.transition_attributes("stroke-opacity",e),r._groups[0].forEach(o=>o.__data__.visible=e)}this.showErrorBars&&oh(`[id^='error_${t}'`).transition_attributes("stroke-opacity",e),this.voronoi_grid()}}},Hu=e=>(Fi("data-v-59d5103a"),e=e(),Ui(),e),One={id:"line",class:"mx-auto"},Rne={id:"spinner",class:"mt-10 mx-auto"},Dne={id:"plot-container"},Mne={id:"plot-options",class:"w-3/4 mx-auto mt-1 flex flex-row"},Pne={id:"toggle_data_points",class:"flex flex-col align-items-center mx-2"},Hne=Hu(()=>f("div",{class:"font-semibold pb-2"},"Data Points",-1)),Nne={id:"toggle_error_bars",class:"flex flex-col align-items-center mx-2"},Kne=Hu(()=>f("div",{class:"font-semibold pb-2"},"Error Bars",-1)),Vne={id:"menu-options",class:"flex grow justify-end"},$ne={class:"flex flex-col items-center"},Gne=Hu(()=>f("div",{class:"font-semibold pb-2"},"Download",-1)),zne={class:"flex flex-col items-center ml-2"},jne=Hu(()=>f("div",{class:"font-semibold pb-2"},"Colors",-1)),Wne={id:"plot-area-legend",class:"flex space-x-4 mt-3 p-2"},qne=Hu(()=>f("div",{id:"plot-area",class:"flex-grow"},null,-1)),Xne={id:"legend-area",class:"flex-none"},Jne={key:0,class:"material-symbols-outlined custom-icon"},Yne={id:"table-area",class:"mt-1"};function Zne(e,t,n,i,s,r){const o=N("ProgressSpinner"),a=N("InputSwitch"),l=N("Button"),A=N("Menu"),u=N("Tree"),c=N("Table");return y(),_("div",One,[re(f("div",Rne,[b(o,{class:"w-full mt-10"})],512),[[xe,!this.complete]]),f("div",Dne,[re(f("div",Mne,[f("div",Pne,[Hne,b(a,{modelValue:s.showReplicatePoints,"onUpdate:modelValue":t[0]||(t[0]=d=>s.showReplicatePoints=d),onChange:this.update_line_plot},null,8,["modelValue","onChange"])]),f("div",Nne,[Kne,b(a,{modelValue:s.showErrorBars,"onUpdate:modelValue":t[1]||(t[1]=d=>s.showErrorBars=d),onChange:this.update_line_plot},null,8,["modelValue","onChange"])]),f("div",Vne,[f("div",$ne,[Gne,b(l,{type:"button",label:"",icon:"pi pi-download",onClick:t[2]||(t[2]=d=>r.toggle("download_menu",d)),"aria-haspopup":"true","aria-controls":"download_menu"}),b(A,{id:"download_menu",ref:"download_menu",model:s.download_items,popup:!0},null,8,["model"])]),f("div",zne,[jne,b(l,{type:"button",label:"",icon:"pi pi-palette",onClick:t[3]||(t[3]=d=>r.toggle("color_menu",d)),"aria-haspopup":"true","aria-controls":"color_menu"}),b(A,{id:"color_menu",ref:"color_menu",model:s.color_items,popup:!0},null,8,["model"])])])],512),[[xe,this.complete]]),f("div",Wne,[qne,f("div",Xne,[b(u,{value:this.nodes,class:"custom-tree",expandedKeys:s.expandedKeys,"onUpdate:expandedKeys":t[4]||(t[4]=d=>s.expandedKeys=d),selectionMode:"single",onNodeSelect:r.toggleDatasetVisibility},{default:O(d=>[f("div",{class:P(["icon-label",{"disabled-node":!d.node.visible}]),style:Re({color:r.getNodeColor(d.node)})},[d.node.icon?(y(),_("span",Jne,M(r.getIconText(d.node.icon)),1)):H("",!0),f("span",null,M(d.node.label),1)],6)]),_:1},8,["value","expandedKeys","onNodeSelect"])])])]),f("div",Yne,[b(c,{dataset:this.expression_merged},null,8,["dataset"])])])}var eie=Bt(Lne,[["render",Zne],["__scopeId","data-v-59d5103a"]]),aQ="/assets/eye.081fc9d6.svg",lQ="/assets/eye-off.3722d6aa.svg",tie="/assets/info.52188782.svg";const nie=250,vx=10,wx=10;Er.prototype.transition_attributes=function(e,t,n=nie){return this.transition().attr(e,t),this};Er.prototype.append_eyes=function(){return this.append("svg:image").attr("class","eye").attr("xlink:href",aQ).attr("type","image/svg+xml").attr("x",0).attr("y",0).attr("width",vx).attr("height",wx).attr("opacity",1),this.append("svg:image").attr("class","eye-off").attr("xlink:href",lQ).attr("type","image/svg+xml").attr("x",0).attr("y",0).attr("width",vx).attr("height",wx).attr("opacity",0),this};const iie={name:"HeatMap",components:{ProgressSpinner:Su,InputSwitch:Du,Menu:Ap,Button:Lt,ToggleButton:Pu,DataTable:ts,Column:Os,Table:u_},props:{genes:Array,datasets:Object},data(){return{genes_str_arr:null,gene_expression_data_tables:[],gene_metadata:[],sample_metadata_tables:[],expression_merged:[],expression_averaged:[],expression_normalized:[],expression_normalized_averaged:[],expression_normalized_flattened:[],sumstat:null,sumstat_dots:null,categories:null,cat_map:null,replicatePoints:[],allPoints:[],voronoi:null,margin:null,width:null,height:null,drawable_width_scale:null,drawable_height_scale:null,legendX:null,x:null,xAxis:null,y:null,yAxis:null,svg:null,animationInterval:250,color:null,complete:!1,showReplicatePoints:!1,showErrorBars:!0,windowHeight:window.innerHeight,windowWidth:window.innerWidth,download_items:[{label:"Download as PNG",icon:"pi pi-image",command:()=>this.downloadChart("png")},{label:"Download as CSV",icon:"pi pi-table",command:()=>this.downloadCSV()}],color_items:[{label:"Rainbow",command:()=>this.change_color(Yw)},{label:"Sinebow",command:()=>this.change_color(WA)},{label:"Viridis",command:()=>this.change_color(Zw)},{label:"Warm",command:()=>this.change_color(Jw)},{label:"Inferno",command:()=>this.change_color(fC)}]}},watch:{datasets(){console.log("%%%%%%%%%%%%%%%%"),console.log("watch: datasets"),this.update_datasets(),console.log("%%%%%%%%%%%%%%%%")}},async mounted(){console.log("Heat Map mounted");const e=Date.now();this.initialize_heat_map(),this.datasets&&this.update_datasets(),this.$nextTick(()=>{window.addEventListener("resize",this.onResize)});const t=Date.now()-e;console.log("LinePlot mounted, time elapsed",t)},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{toggle(e,t){this.$refs[e].toggle(t)},async downloadChart(e){console.log("downloadChart");const t=document.getElementById("plot-area");a_(t).then(n=>{const i=document.createElement("a");i.download="expression_heat_plot.png",i.href=n.toDataURL(),i.click()})},downloadCSV(){console.log("downloadCSV"),console.log(this.expression_merged);let e=this.expression_merged.map(o=>({gene_id:o.gene_id,gene_expression:o.gene_expression,data_type:o.data_type,sample_name:o.sample_name,time_point:o.time_point,condition:o.condition,species:o.species,tissue:o.tissue,age_months:o.age_months,gender:o.gender,replicate:o.replicate,number_of_replicates:o.number_of_replicates,experiment:o.experiment,institution:o.institution,year:o.year}));const n=[Object.keys(e[0])].concat(e).map(o=>Object.values(o).toString()).join(`
`);var i=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){var r=URL.createObjectURL(i);s.setAttribute("href",r),s.setAttribute("download","filtered_data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},onResize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth},update_datasets(){console.log("update_datasets");const e=Date.now();if(this.genes_str_arr=this.genes.map(n=>n.name),this.datasets){this.expression_merged=[],this.gene_expression_data_tables=JSON.parse(JSON.stringify(this.datasets.gene_expression_data_tables)),this.gene_metadata=JSON.parse(JSON.stringify(this.datasets.gene_metadata)),this.sample_metadata_tables=JSON.parse(JSON.stringify(this.datasets.sample_metadata_tables)),this.selected_metadata=JSON.parse(JSON.stringify(this.datasets.selected_metadata)),this.gene_expression_data_tables.forEach(A=>{const u=A.table_name,c=u.split("_");A.owner=c.at(-1);const d=this.selected_metadata.find(F=>F.gene_expression_data_table_name==u);A.experiment=d.experiment,A.year=d.year,A.institution=d.institution;let h=u.replace("expression","sample"),p=A.data,m=this.sample_metadata_tables.find(F=>F.table_name==h).data;var g=new Intl.Collator([],{numeric:!0});const w=p.map(F=>({...m.find(U=>U.sample_name==F.sample_name&&U),...F})).sort((F,U)=>g.compare(F.time_point,U.time_point));A.data=w,A.data.forEach(F=>{F.table=u,F.experiment=d.experiment,F.institution=d.institution,F.year=d.year});const v=[...new Set(A.data.map(F=>F.species))];v.length>1&&console.error("WARNING: More than 1 species in ",u),A.species=v[0],A.experiment_year_species=A.experiment+" "+A.species;const C=[...new Set(A.data.map(F=>F.age_months))];C.length>1&&console.error("WARNING: More than 1 age in ",u),A.age_months=C.join(",");const B=[...new Set(A.data.map(F=>F.data_type))];B.length>1&&console.error("WARNING: More than 1 data type in ",u),A.data_type=B[0];const E=[...new Set(A.data.map(F=>F.gender))];A.gender=E.join(",");const S=[...new Set(A.data.map(F=>F.tissue))];S.length>1&&console.error("WARNING: More than 1 tissue in ",u),A.tissue=S[0],this.expression_merged=this.expression_merged.concat(A.data)}),this.expression_merged.forEach(A=>{A.time_point=parseInt(A.time_point.split("ZT")[1]),A.sample_name.includes("-")?A.replicate=A.sample_name.split("-").at(-1):A.replicate=A.sample_name.split("_").at(-1),A.identifier=`${A.species}_${A.experiment}_${A.tissue}_${A.gene_id}_${A.gender}_${A.group_name}`,A.identifier=A.identifier.replaceAll(" ","-")});const n=(A,u)=>A.sample_name.toString().localeCompare(u.sample_name,"en",{numeric:!0});this.expression_merged.sort(n),console.log("this.expression_merged"),console.log(this.expression_merged),Se.groupBy(this.expression_merged,A=>`${A.species}`);const i=Se.groupBy(this.expression_merged,A=>`${A.species}_${A.experiment}}`),a=Object.keys(i).map(A=>[A,Se.groupBy(i[A],u=>`${u.tissue}`)]).map(A=>[A[0],Object.keys(A[1]).map(u=>[u,Se.groupBy(A[1][u],c=>`${c.gene_id}`)])]).map(A=>[A[0],A[1].map(u=>[u[0],Object.keys(u[1]).map(c=>[c,Se.groupBy(u[1][c],d=>`${d.gender}`)])])]).map(A=>[A[0].replaceAll(" ","-"),A[1].map(u=>[u[0].replaceAll(" ","-"),u[1].map(c=>[c[0].replaceAll(" ","-"),Object.keys(c[1]).map(d=>{const h=Se.groupBy(c[1][d],m=>`${m.group_name}`),p=Object.keys(h);for(let m=0;m<p.length;m++){const g=p[m],w=Math.max.apply(Math,h[g].map(function(B){return B.gene_expression})),v=Math.min.apply(Math,h[g].map(function(B){return B.gene_expression})),C=Se.reduce(h[g],function(B,E){return B+E.gene_expression},0)/h[g].length;h[g].forEach(B=>{B.gene_expression_norm=(B.gene_expression-v)/(w-v),B.group_index=m,B.min=v,B.max=w,B.amplitude=w-v,B.mean=C})}return[d,h]})])])]);this.expression_normalized=a,this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized.map(A=>A[1]));for(let A=0;A<2;A++)this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized_flattened.map(u=>u[1]));this.expression_normalized_flattened=[].concat.apply([],this.expression_normalized_flattened.map(A=>[].concat.apply([],Object.values(A[1]))));const l=Se.groupBy(this.expression_merged,A=>`${A.species}_${A.experiment}_${A.tissue}_${A.gene_id}_${A.gender}_${A.group_name}_ZT${A.time_point}`);this.expression_normalized_averaged=Se.mapObject(l,function(A,u){let c=JSON.parse(JSON.stringify(A[0]));return c.gene_expression_avg=Se.reduce(A,function(d,h){return d+h.gene_expression},0)/A.length,c.gene_expression_norm_avg=Se.reduce(A,function(d,h){return d+h.gene_expression_norm},0)/A.length,c.gene_expression_norm=c.gene_expression_norm_avg,c.std_dev=Math.sqrt(Se.reduce(A,function(d,h){return d+Math.pow(h.gene_expression_norm-c.gene_expression_norm_avg,2)},0)/A.length),c.std_err=c.std_dev/Math.sqrt(A.length),c}),console.log("this.expression_normalized_averaged"),console.log(this.expression_normalized_averaged),this.expression_normalized_averaged=Object.entries(this.expression_normalized_averaged).map(A=>A[1]),this.avgPoints=[...this.expression_normalized_averaged],this.avgPoints.forEach(A=>A.visible=1),this.errorBarsData=[...this.expression_normalized_averaged],this.errorBarsData.forEach(A=>A.visible=this.showErrorBars?1:0),this.replicatePoints=this.expression_normalized_flattened,this.replicatePoints.forEach(A=>A.visible=this.showReplicatePoints?1:0),this.allPoints=this.avgPoints.concat(this.replicatePoints),this.sumstat=Ow(this.expression_normalized_averaged,A=>`${A.species}_${A.experiment}_${A.tissue}_${A.gene_id}_${A.gender}_${A.group_name}`.replaceAll(" ","-")),this.sumstat_visibility=Object.fromEntries(new Map([...this.sumstat.keys()].map(A=>[A,1]))),this.categories=[...new Set([...this.sumstat.keys()].map(A=>A.split("_").slice(0,-1).join("_")))],this.cat_map=new Map(this.categories.map((A,u)=>[A,u/this.categories.length])),this.update_heat_map()}const t=Date.now()-e;console.log("update_datasets time elapsed",t)},initialize_heat_map(){console.log("initialize_heat_map"),this.margin={top:5,right:50,bottom:5,left:70},this.width=this.windowWidth*.7-this.margin.left-this.margin.right,this.height=this.windowHeight*.7-this.margin.top-this.margin.bottom,this.drawable_width_scale=.85,this.drawable_height_scale=.9,this.svg=Ut("#plot-area").append("svg").attr("id","plot-svg").attr("class","mx-auto").attr("viewBox",`0 0 ${this.width+this.margin.left+this.margin.right} ${this.height+this.margin.top+this.margin.bottom}`).attr("preserveAspectRatio","xMinYMid").attr("style","font-family:sans-serif").style("font-size",15).append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),this.x=jA().range([0,this.width*this.drawable_width_scale]),this.xAxis=Dw().scale(this.x).tickSize(0),this.svg.append("g").attr("transform",`translate(0, ${this.height*this.drawable_height_scale})`).attr("class","myXaxis"),this.svg.append("text").attr("class","x-label").attr("text-anchor","middle").attr("x",this.width*this.drawable_width_scale*.5).attr("y",this.height*this.drawable_height_scale+40).text("Time Point (ZT)"),this.y=jA().range([this.height*this.drawable_height_scale,0]),this.yAxis=Lj().scale(this.y).tickSize(0),this.svg.append("g").attr("transform",`translate(${this.width*this.drawable_width_scale}, 0)`).attr("class","myYaxis"),this.svg.append("g").attr("class","y-label").style("font-size",10),this.color=dr().interpolator(fC).domain([0,1]),this.svg.append("g").attr("id","squares")},change_color(e){this.color=dr(e),this.update_heat_map()},update_heat_map(){console.log("==================="),console.log("update_heat_map"),this.animationInterval;const e=[...this.sumstat.keys()];console.log("groups"),console.log(e);var t=new Intl.Collator([],{numeric:!0});const n=[...new Set(this.avgPoints.map(o=>o.time_point))].sort((o,a)=>t.compare(parseInt(o),parseInt(a)));console.log("this.avgPoints"),console.log(this.avgPoints),console.log("time_points"),console.log(n),this.x.domain(n).padding(.05);var i=this.x;this.svg.selectAll(".myXaxis").transition().duration(this.animationInterval).call(this.xAxis);function s(o){var a=o.split("_"),l=a.slice(0,1)+" "+a.slice(4).join(" "),A=a.slice(2,3).join(" ").replaceAll("-"," ")+" - "+a.slice(3,4);return[a.slice(1,2).join(" ").replaceAll("-"," "),A,l.replaceAll("-"," ")]}this.y.domain(e).padding(.05);var r=this.y;this.svg.selectAll(".myYaxis").transition().duration(this.animationInterval).call(this.yAxis).end().then(()=>{this.svg.selectAll(".myYaxis .tick text").call(function(o){o.each(function(a){console.log("tick d"),console.log(a);var l=Ut(this);l.text("");for(var A=s(a),u=0;u<A.length;u++)l.append("tspan").text(A[u]).attr("x","0.2em").attr("dy",u?"1.2em":0)})})}),console.log("this.avgPoints"),console.log(this.avgPoints),this.svg.select("#squares").selectAll(".square").data(this.avgPoints).join(o=>{console.log("square enter"),console.log(o),o.append("rect").attr("class","square").attr("id",a=>`square_${a.identifier}`).attr("x",a=>i(a.time_point)).attr("y",a=>r(a.identifier)).attr("rx",4).attr("ry",4).attr("width",i.bandwidth()).attr("height",r.bandwidth()).attr("fill",a=>this.color(a.gene_expression_norm_avg)).style("stroke-width",4).style("stroke","none").style("opacity",.8).on("mouseover",(a,l)=>{this.svg.append("g").attr("class","tooltip").attr("transform",`translate(${this.x(l.time_point)+i.bandwidth()/2},${this.y(l.identifier)+r.bandwidth()/2})`).call(this.popover,this.popover_text(l),l.gene_expression_norm_avg)}).on("mousemove",(a,l)=>{this.svg.append("g").attr("class","tooltip").attr("transform",`translate(${this.x(l.time_point)+i.bandwidth()/2},${this.y(l.identifier)+r.bandwidth()/2})`).call(this.popover,this.popover_text(l),l.gene_expression_norm_avg)}).on("mouseout",()=>this.svg.selectAll(".tooltip").remove())},o=>{console.log("square update"),console.log(o),o.attr("x",a=>i(a.time_point)).attr("y",a=>r(a.identifier)).attr("width",i.bandwidth()).attr("height",r.bandwidth()).attr("fill",a=>this.color(a.gene_expression_norm_avg))},o=>o.remove()),this.complete=!0,console.log("===================")},legend(){console.log("legend"),console.log(this.expression_normalized);const e=10,t=this,n=e*.9,i=n*1.2,s=e*.9,r=s*.8,o=10,a=5,l="0.7em";function A(p,m){const w=document.createElement("canvas").getContext("2d");return w.font=m,w.measureText(p).width}const u=this.expression_normalized.map(p=>{const m=p[0].replaceAll("_"," "),g=A(m,`${e} sans-serif`);return{name:p[0],width:g}});this.expression_normalized.forEach((p,m)=>{let g=1;p[1].forEach((w,v)=>{let C=1;w[2]=g++,w[1].forEach((B,E)=>{let S=1;B[2]=C++,B[1].forEach((F,U)=>{F[2]=S++,S+=Object.keys(F[1]).length}),C+=S-1}),g+=C-1})});function c(p,m,g,w,v,C){Ut(p.parentNode).append("svg:image").attr("class","info").attr("xlink:href",tie).attr("type","image/svg+xml").attr("x",()=>p.getBBox().width+m).attr("y",-g).attr("width",w).attr("height",v).attr("opacity",1).on("mouseover",C.infoHover).on("mouseout",()=>C.svg.selectAll(".info-tooltip").remove())}function d(p,m,g="0.7em",w){const v=p.append("text").attr("class",m).text(C=>C[0].replaceAll("_"," ").replaceAll("-"," ")).attr("text-anchor","left").attr("font-size",g).attr("opacity",1);return v.transition().on("end",function(){w(this)}),v}function h(p){return p.append("svg:image").attr("class","eye").attr("xlink:href",aQ).attr("type","image/svg+xml").attr("x",0).attr("y",0).attr("width",n).attr("height",s).attr("opacity",1),p.append("svg:image").attr("class","eye-off").attr("xlink:href",lQ).attr("type","image/svg+xml").attr("x",0).attr("y",0).attr("width",n).attr("height",s).attr("opacity",0),p}console.log("this.expression_normalized"),console.log(this.expression_normalized),this.svg.select("#legend").style("font-size",`${e}px`).selectAll(".legend_experiment").data(this.expression_normalized).join(p=>{console.log("experiment enter"),console.log(p);const m=p.append("g");m.attr("class","legend_experiment").style("fill",hs("#222")).attr("transform",(v,C)=>{console.log("Enter experiment");const B=u.slice(0,C).reduce((E,S)=>E+S.width+i+n,0);return console.log(`xOffset: ${B}`),`translate(${B}, ${o})`});const g=m.append("g").attr("class","eyes").attr("transform",(v,C)=>`translate(${-i}, ${-r})`).on("click",this.experimentClick);h(g);const w=m.append("g").attr("class","text_info");return d(w,"legend_experiment_text",l,function(v){c(v,a,r,n,s,t)}),m.selectAll(".legend_tissue").data(v=>v[1]).join(v=>{const C=v.append("g");C.attr("class","legend_tissue").style("fill",hs("#222")).attr("transform",(S,F)=>`translate(${i}, ${this.legendY_spacing*S[2]})`);const B=C.append("g").attr("class","eyes").attr("transform",(S,F)=>`translate(${-i}, ${-r})`).on("click",this.tissueClick);h(B);const E=C.append("g").attr("class","text_info");return d(E,"legend_tissue_text",l,function(S){c(S,a,r,n,s,t)}),C.selectAll(".legend_gene").data(S=>S[1]).join(S=>{const F=S.append("g").attr("class","legend_gene").attr("transform",(k,L)=>`translate(${i}, ${this.legendY_spacing*k[2]})`),U=F.append("g").attr("class","eyes").attr("transform",(k,L)=>`translate(${-i}, ${-r})`).on("click",this.geneClick);h(U);const Q=F.append("g").attr("class","text_info");return d(Q,"legend_gene_text",l,function(k){c(k,a,r,n,s,t)}),F.selectAll(".legend_gender").data(k=>k[1]).join(k=>{const L=k.append("g").attr("class","legend_gender").style("fill",z=>{const ce=Object.keys(z[1])[0];return z[1][ce][0].identifier,this.getHSL(z[1][ce][0],!0)}).attr("transform",(z,ce)=>{const Y=this.legendY_spacing*z[2];return`translate(${i}, ${Y})`}),R=L.append("g").attr("class","eyes").attr("transform",(z,ce)=>`translate(${-i}, ${-r})`).on("click",this.genderClick);h(R);const D=L.append("g").attr("class","text_info");return d(D,"legend_gender_text",l,function(z){c(z,a,r,n,s,t)}),L.selectAll(".legend_groupname").data(z=>Object.keys(z[1]).map(Y=>[Y,z[1][Y]])).join(z=>{const ce=z.append("g").attr("class","legend_groupname").style("fill",ae=>this.getHSL(ae[1][0])).attr("transform",(ae,ve)=>`translate(${i}, ${this.legendY_spacing*(ve+1)})`),Y=ce.append("g").attr("class","eyes").attr("transform",(ae,ve)=>`translate(${-i}, ${-r})`).on("click",this.groupnameClick);h(Y);const q=ce.append("g").attr("class","text_info");return d(q,"legend_groupname_text",l,function(ae){c(ae,a,r,n,s,t)}),ce},z=>z.remove()),L},k=>k.remove()),F},S=>S.remove()),C},v=>v.remove()),m},p=>{console.log("update experiment"),console.log(p);const m=p.attr("transform",(w,v)=>`translate(${u.slice(0,v).reduce((B,E)=>B+E.width+i+n,0)}, ${o})`);m.select(".legend_experiment_text").text(w=>w[0].replaceAll("-"," "));const g=m.select(".text_info");g.select(".info").attr("x",(w,v)=>(g.select("text")._groups[0][v].getBBox().width,g.select("text")._groups[0][v].getBBox().width+5)),p.selectAll(".legend_tissue").data(w=>w[1]).join(w=>{const v=w.append("g");v.attr("class","legend_tissue").style("fill",hs("#222")).attr("transform",(E,S)=>`translate(${i}, ${this.legendY_spacing*E[2]})`);const C=v.append("g").attr("class","eyes").attr("transform",(E,S)=>`translate(${-i}, ${-r})`).on("click",this.tissueClick);h(C);const B=v.append("g").attr("class","text_info");return d(B,"legend_tissue_text",l,function(E){c(E,a,r,n,s,t)}),v.selectAll(".legend_gene").data(E=>E[1]).join(E=>{const S=E.append("g").attr("class","legend_gene").attr("transform",(Q,k)=>`translate(${i}, 
                        ${this.legendY_spacing*Q[2]})`),F=S.append("g").attr("class","eyes").attr("transform",(Q,k)=>`translate(${-i}, ${-r})`).on("click",this.geneClick);h(F);const U=S.append("g").attr("class","text_info");return d(U,"legend_gene_text",l,function(Q){c(Q,a,r,n,s,t)}),S.selectAll(".legend_gender").data(Q=>Q[1]).join(Q=>{const k=Q.append("g").attr("class","legend_gender").style("fill",D=>{const z=Object.keys(D[1])[0];D[1][z][0].identifier}).attr("transform",(D,z)=>{const ce=this.legendY_spacing*D[2];return`translate(${i}, ${ce})`}),L=k.append("g").attr("class","eyes").attr("transform",(D,z)=>`translate(${-i}, ${-r})`).on("click",this.genderClick);h(L);const R=k.append("g").attr("class","text_info");return d(R,"legend_gender_text",l,function(D){c(D,a,r,n,s,t)}),k.selectAll(".legend_groupname").data(D=>Object.keys(D[1]).map(z=>[z,D[1][z]])).join(D=>{const z=D.append("g").attr("class","legend_groupname").style("fill",q=>this.getHSL(q[1][0])).attr("transform",(q,ae)=>`translate(${i}, ${this.legendY_spacing*(ae+1)})`),ce=z.append("g").attr("class","eyes").attr("transform",(q,ae)=>`translate(${-i}, ${-r})`).on("click",this.groupnameClick);h(ce);const Y=z.append("g").attr("class","text_info");return d(Y,"legend_groupname_text",l,function(q){c(q,a,r,n,s,t)}),z},D=>D.remove()),k},Q=>Q.remove()),S},E=>E.remove()),v},w=>{const v=w.attr("transform",(B,E)=>`translate(${i}, ${this.legendY_spacing*B[2]})`);v.select(".legend_tissue_text").text(B=>B[0].replaceAll("-"," ")),v.select(".text_info").select(".info").each(function(B,E){const F=Ut(this.parentNode).select("text").node().getBBox().width;Ut(this).attr("x",F+a)}),w.selectAll(".legend_gene").data(B=>B[1]).join(B=>{const E=B.append("g").attr("class","legend_gene").attr("transform",(U,Q)=>`translate(${i}, ${this.legendY_spacing*U[2]})`),S=E.append("g").attr("class","eyes").attr("transform",(U,Q)=>`translate(${-i}, ${-r})`).on("click",this.geneClick);h(S);const F=E.append("g").attr("class","text_info");return d(F,"legend_gene_text",l,function(U){c(U,a,r,n,s,t)}),E.selectAll(".legend_gender").data(U=>U[1]).join(U=>{const Q=U.append("g").attr("class","legend_gender").attr("transform",(R,D)=>`translate(${i}, ${this.legendY_spacing*R[2]})`),k=Q.append("g").attr("class","eyes").attr("transform",(R,D)=>`translate(${-i}, ${-r})`).on("click",this.genderClick);h(k);const L=Q.append("g").attr("class","text_info");return d(L,"legend_gender_text",l,function(R){c(R,a,r,n,s,t)}),Q.selectAll(".legend_groupname").data(R=>Object.keys(R[1]).map(D=>[D,R[1][D]])).join(R=>{const D=R.append("g").attr("class","legend_groupname").style("fill",Y=>this.getHSL(Y[1][0].identifier)).attr("transform",(Y,q)=>`translate(${i}, ${this.legendY_spacing*(q+1)})`),z=D.append("g").attr("class","eyes").attr("transform",(Y,q)=>`translate(${-i}, ${-r})`).on("click",this.groupnameClick);h(z);const ce=D.append("g").attr("class","text_info");return d(ce,"legend_groupname_text",l,function(Y){c(Y,a,r,n,s,t)}),D},R=>R.remove()),Q},U=>U.remove()),E},B=>{const E=B.attr("transform",(F,U)=>{const Q=this.legendY_spacing*F[2];return`translate(${i}, ${Q})`});E.select(".legend_gene_text").text(F=>F[0]),E.select(".text_info").select(".info").each(function(F,U){const k=Ut(this.parentNode).select("text").node().getBBox().width;Ut(this).attr("x",k+a)}),B.selectAll(".legend_gender").data(F=>F[1]).join(F=>{const U=F.append("g").attr("class","legend_gender").attr("transform",(L,R)=>`translate(${i}, ${this.legendY_spacing*L[2]})`),Q=U.append("g").attr("class","eyes").attr("transform",(L,R)=>`translate(${-i}, ${-r})`).on("click",this.genderClick);h(Q);const k=U.append("g").attr("class","text_info");return d(k,"legend_gender_text",l,function(L){c(L,a,r,n,s,t)}),F.selectAll(".legend_groupname").data(L=>Object.keys(L[1]).map(D=>[D,L[1][D]])).join(L=>{const R=L.append("g").attr("class","legend_groupname").style("fill",ce=>this.getHSL(ce[1][0])).attr("transform",(ce,Y)=>`translate(${i}, ${this.legendY_spacing*(Y+1)})`),D=R.append("g").attr("class","eyes").attr("transform",(ce,Y)=>`translate(${-i}, ${-r})`).on("click",this.groupnameClick);h(D);const z=R.append("g").attr("class","text_info");return d(z,"legend_groupname_text",l,function(ce){c(ce,a,r,n,s,t)}),R},L=>L.remove()),U},F=>{const U=F.attr("transform",(k,L)=>`translate(${i}, ${this.legendY_spacing*k[2]})`);U.select(".legend_gender_text").text(k=>k[0]),U.select(".text_info").select(".info").each(function(k,L){const D=Ut(this.parentNode).select("text").node().getBBox().width;Ut(this).attr("x",D+a)}),F.selectAll(".legend_groupname").data(k=>Object.keys(k[1]).map(R=>[R,k[1][R]])).join(k=>{const L=k.append("g").attr("class","legend_groupname").style("fill",z=>this.getHSL(z[1][0])).attr("transform",(z,ce)=>`translate(${i}, ${this.legendY_spacing*(ce+1)})`),R=L.append("g").attr("class","eyes").attr("transform",(z,ce)=>`translate(${-i}, ${-r})`).on("click",this.groupnameClick);h(R);const D=L.append("g").attr("class","text_info");return d(D,"legend_groupname_text",l,function(z){c(z,a,r,n,s,t)}),L},k=>{const L=k.attr("transform",(D,z)=>`translate(${i}, ${this.legendY_spacing*(z+1)})`).style("fill",D=>this.getHSL(D[1][0]));L.select(".legend_groupname_text").text(D=>D[0]),L.select(".text_info").select(".info").each(function(D,z){const Y=Ut(this.parentNode).select("text").node().getBBox().width;Ut(this).attr("x",Y+a)})},k=>k.remove())},F=>F.remove())},B=>B.remove())},w=>w.remove())},p=>p.remove()),this.complete=!0},popover_text(e){let t=`Data Point Details
      Gene: ${e.gene_id}
      Group: ${e.group_name}
      Tissue: ${e.tissue}
      Age: ${e.age_months} months
      Species: ${e.species}
      Time: ZT${e.time_point}`;return"gene_expression_avg"in e?t+=`
 Expr Avg: ${Math.round(e.gene_expression*1e3)/1e3}`:t+=`
 Expr: ${Math.round(e.gene_expression*1e3)/1e3}`,"gene_expression_norm_avg"in e?t+=`
 Expr Norm Avg: ${Math.round(e.gene_expression_norm_avg*1e3)/1e3}`:"gene_expression_norm"in e&&(t+=`
 Expr Norm: ${Math.round(e.gene_expression_norm*1e3)/1e3}`),"std_err"in e&&(t+=`
 Std Err: ${Math.round(e.std_err*1e3)/1e3}`),t},popover(e,t,n){if(!t)return e.style("display","none");e.style("display","flex").style("pointer-events","none").style("font","10px sans-serif");const i=e.selectAll("path").data([null]).join("path").attr("fill","white").attr("opacity",1).attr("stroke",this.color(n)),s=e.selectAll("text").data([null]).join("text").call(A=>A.selectAll("tspan").data((t+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(u,c)=>`${c*1.1}em`).style("text-align","center").style("font-weight",(u,c)=>c?null:"bold").text(u=>u)),{x:r,y:o,width:a,height:l}=s.node().getBBox();s.attr("transform",`translate(${-a/2},${15-o})`),i.attr("d",`M${-a/2-10},5H-5l5,-5l5,5H${a/2+10}v${l+20}h-${a+20}z`)},infoTissueText(e){const t=e[0].replaceAll("-"," "),n=this.gene_expression_data_tables.filter(r=>r.tissue==t);n.length>1&&console.error("WARNING: More than 1 matching table for tissue",t);const i=n[0];let s=`Tissue: ${t}
`;return s+=`Experiment: ${i.experiment}
`,s+=`Year: ${i.year}
`,s+=`Species: ${i.species}
`,s+=`Gender: ${i.gender}
`,s+=`Number of Samples: ${i.data.length}
`,s+=`Data Type: ${i.data_type}
`,s+=`Age (months): ${i.age_months}
`,s},infoGeneText(e){let t=e[0];const n=e[1][0][1][0],i=n.table;n.tissue;const s=i.replace("expression","sample"),r=this.gene_metadata.filter(l=>l.table_name==s);let o;r.length>1&&console.error("WARNING: Multiple entries in this.gene_metadata"),o=r[0].data.filter(l=>l.gene_name==t)[0];let a=`Gene: ${o.gene_name}
`;return a+=`Gene ID: ${o.gene_id}
`,a+=`External Gene Name: ${o.external_gene_name}
`,a+=`Description: ${o.description}
`,a+=`Gene Biotype: ${o.gene_biotype}
`,a+=`Ensembl Gene ID: ${o.ensembl_gene_id}
`,a+=`Ensembl Peptide ID: ${o.ensembl_peptide_id}
`,a+=`Chr: ${o.chr}
`,a+=`Start: ${o.start}
`,a+=`End: ${o.end}
`,a+=`Length: ${o.length}
`,a+=`Strand: ${o.strand}
`,a+=`Annotation Divergence: ${o.annotation_divergence}
`,a+=`Copies: ${o.copies}
`,a+=`Refseq: ${o.refseq}
`,a},infoGroupnameText(e){const t=e[0],n=e[1][0],i=e[2];let s=`Group: ${t}
`;return s+=`Age (months): ${n.age_months}
`,s+=`Gender: ${n.gender}
`,s+=`Species: ${n.species}
`,s+=`Tissue: ${n.tissue}
`,s+=`
Expression Stats
`,s+=`Amplitude: ${Math.round(i.amplitude*1e3)/1e3}
`,s+=`Min: ${Math.round(i.min*1e3)/1e3}
`,s+=`Max: ${Math.round(i.max*1e3)/1e3}
`,s+=`Mean: ${Math.round(i.mean*1e3)/1e3}
`,s},infoHover(e,t){const i=e.currentTarget.getBoundingClientRect(),s=e.currentTarget.parentNode,r=this.svg.append("g").attr("class","info-tooltip").attr("fill",hs("#222")),o=document.querySelector("#plot-svg"),a=o.getScreenCTM().inverse(),l=o.createSVGPoint();l.x=i.x,l.y=i.y;const A=l.matrixTransform(a),u=3,c=A.x-this.margin.left-u,d=A.y-this.margin.top+22+u;r.attr("transform",`translate(${c},${d})`);const h=s.querySelector("text").getAttribute("class").split("_")[1];let p;if(h=="tissue"?p=this.infoTissueText(t):h=="gene"?p=this.infoGeneText(t):h=="groupname"&&(p=this.infoGroupnameText(t)),!p)return r.style("display","none");r.style("display","flex").style("pointer-events","none").style("font","10px sans-serif");const m=r.append("rect").attr("fill","white").attr("stroke",hs("#222")).attr("stroke-width",1),g=r.selectAll("text").data([null]).join("text").call(E=>E.selectAll("tspan").data((p+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(S,F)=>`${F*1.1}em`).style("text-align","left").style("font-weight",(S,F)=>F?null:"bold").text(S=>S)),{x:w,y:v,width:C,height:B}=g.node().getBBox();g.attr("transform",`translate(${-C},${0})`),m.attr("x",-C-u).attr("y",v-u).attr("width",C+2*u).attr("height",B+2*u)}}},c_=e=>(Fi("data-v-c30e9932"),e=e(),Ui(),e),sie={id:"heatmap",class:"mx-auto"},rie={id:"spinner",class:"mt-10 mx-auto"},oie={id:"plot-options",class:"w-3/4 mx-auto mt-1 flex flex-row"},aie={id:"menu-options",class:"flex grow justify-end"},lie={class:"flex flex-col items-center"},Aie=c_(()=>f("div",{class:"font-semibold pb-2"},"Download",-1)),uie={class:"flex flex-col items-center ml-2"},cie=c_(()=>f("div",{class:"font-semibold pb-2"},"Colors",-1)),die=c_(()=>f("div",{id:"plot-area",class:"mt-10"},null,-1)),hie={id:"table-area",class:"mt-1"};function fie(e,t,n,i,s,r){const o=N("ProgressSpinner"),a=N("Button"),l=N("Menu"),A=N("Table");return y(),_("div",sie,[re(f("div",rie,[b(o,{class:"w-full mt-10"})],512),[[xe,!this.complete]]),re(f("div",oie,[f("div",aie,[f("div",lie,[Aie,b(a,{type:"button",label:"",icon:"pi pi-download",onClick:t[0]||(t[0]=u=>r.toggle("download_menu",u)),"aria-haspopup":"true","aria-controls":"download_menu"}),b(l,{id:"download_menu",ref:"download_menu",model:s.download_items,popup:!0},null,8,["model"])]),f("div",uie,[cie,b(a,{type:"button",label:"",icon:"pi pi-palette",onClick:t[1]||(t[1]=u=>r.toggle("color_menu",u)),"aria-haspopup":"true","aria-controls":"color_menu"}),b(l,{id:"color_menu",ref:"color_menu",model:s.color_items,popup:!0},null,8,["model"])])])],512),[[xe,this.complete]]),die,f("div",hie,[b(A,{dataset:this.expression_merged},null,8,["dataset"])])])}var pie=Bt(iie,[["render",fie],["__scopeId","data-v-c30e9932"]]),d_={exports:{}},AQ=function(t,n){return function(){for(var s=new Array(arguments.length),r=0;r<s.length;r++)s[r]=arguments[r];return t.apply(n,s)}},gie=AQ,h_=Object.prototype.toString,f_=function(e){return function(t){var n=h_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function To(e){return e=e.toLowerCase(),function(n){return f_(n)===e}}function p_(e){return Array.isArray(e)}function Ih(e){return typeof e=="undefined"}function mie(e){return e!==null&&!Ih(e)&&e.constructor!==null&&!Ih(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var uQ=To("ArrayBuffer");function yie(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uQ(e.buffer),t}function vie(e){return typeof e=="string"}function wie(e){return typeof e=="number"}function cQ(e){return e!==null&&typeof e=="object"}function yd(e){if(f_(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var _ie=To("Date"),bie=To("File"),Bie=To("Blob"),Cie=To("FileList");function g_(e){return h_.call(e)==="[object Function]"}function xie(e){return cQ(e)&&g_(e.pipe)}function Eie(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||h_.call(e)===t||g_(e.toString)&&e.toString()===t)}var Iie=To("URLSearchParams");function Sie(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Fie(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function m_(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),p_(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}function wy(){var e={};function t(s,r){yd(e[r])&&yd(s)?e[r]=wy(e[r],s):yd(s)?e[r]=wy({},s):p_(s)?e[r]=s.slice():e[r]=s}for(var n=0,i=arguments.length;n<i;n++)m_(arguments[n],t);return e}function Uie(e,t,n){return m_(t,function(s,r){n&&typeof s=="function"?e[r]=gie(s,n):e[r]=s}),e}function Tie(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function kie(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function Qie(e,t,n){var i,s,r,o={};t=t||{};do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)r=i[s],o[r]||(t[r]=e[r],o[r]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function Lie(e,t,n){e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return i!==-1&&i===n}function Oie(e){if(!e)return null;var t=e.length;if(Ih(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var Rie=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),tn={isArray:p_,isArrayBuffer:uQ,isBuffer:mie,isFormData:Eie,isArrayBufferView:yie,isString:vie,isNumber:wie,isObject:cQ,isPlainObject:yd,isUndefined:Ih,isDate:_ie,isFile:bie,isBlob:Bie,isFunction:g_,isStream:xie,isURLSearchParams:Iie,isStandardBrowserEnv:Fie,forEach:m_,merge:wy,extend:Uie,trim:Sie,stripBOM:Tie,inherits:kie,toFlatObject:Qie,kindOf:f_,kindOfTest:To,endsWith:Lie,toArray:Oie,isTypedArray:Rie,isFileList:Cie},jo=tn;function _x(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var dQ=function(t,n,i){if(!n)return t;var s;if(i)s=i(n);else if(jo.isURLSearchParams(n))s=n.toString();else{var r=[];jo.forEach(n,function(l,A){l===null||typeof l=="undefined"||(jo.isArray(l)?A=A+"[]":l=[l],jo.forEach(l,function(c){jo.isDate(c)?c=c.toISOString():jo.isObject(c)&&(c=JSON.stringify(c)),r.push(_x(A)+"="+_x(c))}))}),s=r.join("&")}if(s){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t},Die=tn;function up(){this.handlers=[]}up.prototype.use=function(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};up.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};up.prototype.forEach=function(t){Die.forEach(this.handlers,function(i){i!==null&&t(i)})};var Mie=up,Pie=tn,Hie=function(t,n){Pie.forEach(t,function(s,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(t[n]=s,delete t[r])})},hQ=tn;function Na(e,t,n,i,s){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}hQ.inherits(Na,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var fQ=Na.prototype,pQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){pQ[e]={value:e}});Object.defineProperties(Na,pQ);Object.defineProperty(fQ,"isAxiosError",{value:!0});Na.from=function(e,t,n,i,s,r){var o=Object.create(fQ);return hQ.toFlatObject(e,o,function(l){return l!==Error.prototype}),Na.call(o,e.message,t,n,i,s),o.name=e.name,r&&Object.assign(o,r),o};var hl=Na,gQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},di=tn;function Nie(e,t){t=t||new FormData;var n=[];function i(r){return r===null?"":di.isDate(r)?r.toISOString():di.isArrayBuffer(r)||di.isTypedArray(r)?typeof Blob=="function"?new Blob([r]):Buffer.from(r):r}function s(r,o){if(di.isPlainObject(r)||di.isArray(r)){if(n.indexOf(r)!==-1)throw Error("Circular reference detected in "+o);n.push(r),di.forEach(r,function(l,A){if(!di.isUndefined(l)){var u=o?o+"."+A:A,c;if(l&&!o&&typeof l=="object"){if(di.endsWith(A,"{}"))l=JSON.stringify(l);else if(di.endsWith(A,"[]")&&(c=di.toArray(l))){c.forEach(function(d){!di.isUndefined(d)&&t.append(u,i(d))});return}}s(l,u)}}),n.pop()}else t.append(o,i(r))}return s(e),t}var mQ=Nie,xg=hl,Kie=function(t,n,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):n(new xg("Request failed with status code "+i.status,[xg.ERR_BAD_REQUEST,xg.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},Vc=tn,Vie=Vc.isStandardBrowserEnv()?function(){return{write:function(n,i,s,r,o,a){var l=[];l.push(n+"="+encodeURIComponent(i)),Vc.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Vc.isString(r)&&l.push("path="+r),Vc.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),$ie=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Gie=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t},zie=$ie,jie=Gie,yQ=function(t,n){return t&&!zie(n)?jie(t,n):n},Eg=tn,Wie=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],qie=function(t){var n={},i,s,r;return t&&Eg.forEach(t.split(`
`),function(a){if(r=a.indexOf(":"),i=Eg.trim(a.substr(0,r)).toLowerCase(),s=Eg.trim(a.substr(r+1)),i){if(n[i]&&Wie.indexOf(i)>=0)return;i==="set-cookie"?n[i]=(n[i]?n[i]:[]).concat([s]):n[i]=n[i]?n[i]+", "+s:s}}),n},bx=tn,Xie=bx.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function s(r){var o=r;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(o){var a=bx.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),_y=hl,Jie=tn;function vQ(e){_y.call(this,e==null?"canceled":e,_y.ERR_CANCELED),this.name="CanceledError"}Jie.inherits(vQ,_y,{__CANCEL__:!0});var cp=vQ,Yie=function(t){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""},El=tn,Zie=Kie,ese=Vie,tse=dQ,nse=yQ,ise=qie,sse=Xie,rse=gQ,As=hl,ose=cp,ase=Yie,Bx=function(t){return new Promise(function(i,s){var r=t.data,o=t.headers,a=t.responseType,l;function A(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}El.isFormData(r)&&El.isStandardBrowserEnv()&&delete o["Content-Type"];var u=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(c+":"+d)}var h=nse(t.baseURL,t.url);u.open(t.method.toUpperCase(),tse(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function p(){if(!!u){var w="getAllResponseHeaders"in u?ise(u.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?u.responseText:u.response,C={data:v,status:u.status,statusText:u.statusText,headers:w,config:t,request:u};Zie(function(E){i(E),A()},function(E){s(E),A()},C),u=null}}if("onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(p)},u.onabort=function(){!u||(s(new As("Request aborted",As.ECONNABORTED,t,u)),u=null)},u.onerror=function(){s(new As("Network Error",As.ERR_NETWORK,t,u,u)),u=null},u.ontimeout=function(){var v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",C=t.transitional||rse;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),s(new As(v,C.clarifyTimeoutError?As.ETIMEDOUT:As.ECONNABORTED,t,u)),u=null},El.isStandardBrowserEnv()){var m=(t.withCredentials||sse(h))&&t.xsrfCookieName?ese.read(t.xsrfCookieName):void 0;m&&(o[t.xsrfHeaderName]=m)}"setRequestHeader"in u&&El.forEach(o,function(v,C){typeof r=="undefined"&&C.toLowerCase()==="content-type"?delete o[C]:u.setRequestHeader(C,v)}),El.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),a&&a!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(w){!u||(s(!w||w&&w.type?new ose:w),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),r||(r=null);var g=ase(h);if(g&&["http","https","file"].indexOf(g)===-1){s(new As("Unsupported protocol "+g+":",As.ERR_BAD_REQUEST,t));return}u.send(r)})},lse=null,Kt=tn,Cx=Hie,xx=hl,Ase=gQ,use=mQ,cse={"Content-Type":"application/x-www-form-urlencoded"};function Ex(e,t){!Kt.isUndefined(e)&&Kt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function dse(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Bx),e}function hse(e,t,n){if(Kt.isString(e))try{return(t||JSON.parse)(e),Kt.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}var dp={transitional:Ase,adapter:dse(),transformRequest:[function(t,n){if(Cx(n,"Accept"),Cx(n,"Content-Type"),Kt.isFormData(t)||Kt.isArrayBuffer(t)||Kt.isBuffer(t)||Kt.isStream(t)||Kt.isFile(t)||Kt.isBlob(t))return t;if(Kt.isArrayBufferView(t))return t.buffer;if(Kt.isURLSearchParams(t))return Ex(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var i=Kt.isObject(t),s=n&&n["Content-Type"],r;if((r=Kt.isFileList(t))||i&&s==="multipart/form-data"){var o=this.env&&this.env.FormData;return use(r?{"files[]":t}:t,o&&new o)}else if(i||s==="application/json")return Ex(n,"application/json"),hse(t);return t}],transformResponse:[function(t){var n=this.transitional||dp.transitional,i=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,r=!i&&this.responseType==="json";if(r||s&&Kt.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(r)throw o.name==="SyntaxError"?xx.from(o,xx.ERR_BAD_RESPONSE,this,null,this.response):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lse},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Kt.forEach(["delete","get","head"],function(t){dp.headers[t]={}});Kt.forEach(["post","put","patch"],function(t){dp.headers[t]=Kt.merge(cse)});var y_=dp,fse=tn,pse=y_,gse=function(t,n,i){var s=this||pse;return fse.forEach(i,function(o){t=o.call(s,t,n)}),t},wQ=function(t){return!!(t&&t.__CANCEL__)},Ix=tn,Ig=gse,mse=wQ,yse=y_,vse=cp;function Sg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vse}var wse=function(t){Sg(t),t.headers=t.headers||{},t.data=Ig.call(t,t.data,t.headers,t.transformRequest),t.headers=Ix.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ix.forEach(["delete","get","head","post","put","patch","common"],function(s){delete t.headers[s]});var n=t.adapter||yse.adapter;return n(t).then(function(s){return Sg(t),s.data=Ig.call(t,s.data,s.headers,t.transformResponse),s},function(s){return mse(s)||(Sg(t),s&&s.response&&(s.response.data=Ig.call(t,s.response.data,s.response.headers,t.transformResponse))),Promise.reject(s)})},Kn=tn,_Q=function(t,n){n=n||{};var i={};function s(u,c){return Kn.isPlainObject(u)&&Kn.isPlainObject(c)?Kn.merge(u,c):Kn.isPlainObject(c)?Kn.merge({},c):Kn.isArray(c)?c.slice():c}function r(u){if(Kn.isUndefined(n[u])){if(!Kn.isUndefined(t[u]))return s(void 0,t[u])}else return s(t[u],n[u])}function o(u){if(!Kn.isUndefined(n[u]))return s(void 0,n[u])}function a(u){if(Kn.isUndefined(n[u])){if(!Kn.isUndefined(t[u]))return s(void 0,t[u])}else return s(void 0,n[u])}function l(u){if(u in n)return s(t[u],n[u]);if(u in t)return s(void 0,t[u])}var A={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Kn.forEach(Object.keys(t).concat(Object.keys(n)),function(c){var d=A[c]||r,h=d(c);Kn.isUndefined(h)&&d!==l||(i[c]=h)}),i},bQ={version:"0.27.2"},_se=bQ.version,zs=hl,v_={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){v_[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});var Sx={};v_.transitional=function(t,n,i){function s(r,o){return"[Axios v"+_se+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return function(r,o,a){if(t===!1)throw new zs(s(o," has been removed"+(n?" in "+n:"")),zs.ERR_DEPRECATED);return n&&!Sx[o]&&(Sx[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,o,a):!0}};function bse(e,t,n){if(typeof e!="object")throw new zs("options must be an object",zs.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),s=i.length;s-- >0;){var r=i[s],o=t[r];if(o){var a=e[r],l=a===void 0||o(a,r,e);if(l!==!0)throw new zs("option "+r+" must be "+l,zs.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new zs("Unknown option "+r,zs.ERR_BAD_OPTION)}}var Bse={assertOptions:bse,validators:v_},BQ=tn,Cse=dQ,Fx=Mie,Ux=wse,hp=_Q,xse=yQ,CQ=Bse,Wo=CQ.validators;function Ka(e){this.defaults=e,this.interceptors={request:new Fx,response:new Fx}}Ka.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=hp(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var i=n.transitional;i!==void 0&&CQ.assertOptions(i,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1);var s=[],r=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(r=r&&h.synchronous,s.unshift(h.fulfilled,h.rejected))});var o=[];this.interceptors.response.forEach(function(h){o.push(h.fulfilled,h.rejected)});var a;if(!r){var l=[Ux,void 0];for(Array.prototype.unshift.apply(l,s),l=l.concat(o),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var A=n;s.length;){var u=s.shift(),c=s.shift();try{A=u(A)}catch(d){c(d);break}}try{a=Ux(A)}catch(d){return Promise.reject(d)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Ka.prototype.getUri=function(t){t=hp(this.defaults,t);var n=xse(t.baseURL,t.url);return Cse(n,t.params,t.paramsSerializer)};BQ.forEach(["delete","get","head","options"],function(t){Ka.prototype[t]=function(n,i){return this.request(hp(i||{},{method:t,url:n,data:(i||{}).data}))}});BQ.forEach(["post","put","patch"],function(t){function n(i){return function(r,o,a){return this.request(hp(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Ka.prototype[t]=n(),Ka.prototype[t+"Form"]=n(!0)});var Ese=Ka,Ise=cp;function Va(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(s){t=s});var n=this;this.promise.then(function(i){if(!!n._listeners){var s,r=n._listeners.length;for(s=0;s<r;s++)n._listeners[s](i);n._listeners=null}}),this.promise.then=function(i){var s,r=new Promise(function(o){n.subscribe(o),s=o}).then(i);return r.cancel=function(){n.unsubscribe(s)},r},e(function(s){n.reason||(n.reason=new Ise(s),t(n.reason))})}Va.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Va.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Va.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};Va.source=function(){var t,n=new Va(function(s){t=s});return{token:n,cancel:t}};var Sse=Va,Fse=function(t){return function(i){return t.apply(null,i)}},Use=tn,Tse=function(t){return Use.isObject(t)&&t.isAxiosError===!0},Tx=tn,kse=AQ,vd=Ese,Qse=_Q,Lse=y_;function xQ(e){var t=new vd(e),n=kse(vd.prototype.request,t);return Tx.extend(n,vd.prototype,t),Tx.extend(n,t),n.create=function(s){return xQ(Qse(e,s))},n}var Rn=xQ(Lse);Rn.Axios=vd;Rn.CanceledError=cp;Rn.CancelToken=Sse;Rn.isCancel=wQ;Rn.VERSION=bQ.version;Rn.toFormData=mQ;Rn.AxiosError=hl;Rn.Cancel=Rn.CanceledError;Rn.all=function(t){return Promise.all(t)};Rn.spread=Fse;Rn.isAxiosError=Tse;d_.exports=Rn;d_.exports.default=Rn;var Ose=d_.exports,mt=Ose.create({baseURL:"https://geneexpressiondbbe-w5oumbwxcq-uw.a.run.app",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"}});class Rse{async getAllSampleMetadata(){return mt.get("sample_metadata/data")}async getExpressionData(t=1e3,n=500,i=100){return mt.get(`gene_expression/range?hi=${t}&lo=${n}&limit=${i}`)}async getExpressionDataByGeneId(t,n){return mt.get(`gene_expression/gene_id?gene_id=${t}&table=${n}`)}async getExpressionDataByGenes(t,n){return mt.get(`gene_expression/gene_names?gene_names=${t}&table=${n}`)}async getExpressionDataByGenesFS(t,n){return mt.get(`gene_expression/gene_names_fs?gene_names=${t}&table=${n}`)}async getExpressionDataByGenesGendersConditions(t,n,i,s){let r=`gene_expression/gene_names_genders_conditions?gene_names=${t}`;return n.length&&(r+=`&genders=${n}`),i.length&&(r+=`&conditions=${i}`),r+=`&table=${s}`,mt.get(r)}async getGenes(t="Mouse_TRF_2018_Liver_gene_metadata"){return mt.get(`gene_metadata/all_names?table=${t}`)}async getGenesFS(t="Mouse_TRF_2018_Liver_gene_metadata"){return mt.get(`gene_metadata/all_names_fs?table=${t}`)}async getGeneMetadata(t,n){return mt.get(`gene_metadata/gene_name?gene_name=${t}&table=${n}`)}async getGeneMetadataFS(t,n){return mt.get(`gene_metadata/gene_name_fs?gene_name=${t}&table=${n}`)}async getSampleMetadata(t){return mt.get(`sample_metadata/data?table=${t}`)}async getSampleMetadataFS(t){return mt.get(`sample_metadata/data_fs?table=${t}`)}async getSampleMetadataGendersConditions(t,n,i){let s=`sample_metadata/data?table=${i}`;return t.length&&(s+=`&genders=${t}`),n.length&&(s+=`&conditions=${n}`),mt.get(s)}async getDatasetsMetadata(t){return mt.post("datasets_metadata/data",t,{headers:{"Content-Type":"multipart/form-data"}})}async getGeneList(){return mt.get("datasets_metadata/genes")}async postSampleMetadata(t){return mt.post("upload/sample_metadata",t,{headers:{"Content-Type":"multipart/form-data"}})}async postSampleMetadata(t){return mt.post("upload/sample_metadata",t,{headers:{"Content-Type":"multipart/form-data"}})}async postGeneExpressionData(t){return mt.post("upload/gene_expression_data",t,{headers:{"Content-Type":"multipart/form-data"}})}async postDatasetMetadata(t){return mt.post("upload/dataset_metadata",t,{headers:{"Content-Type":"multipart/form-data"}})}async postDataset(t){return mt.post("upload/dataset",t,{headers:{"Content-Type":"multipart/form-data"}})}async testAuth(t){return mt.post("ping",t,{headers:{"Content-Type":"multipart/form-data"}})}async getFile(t){return mt.get(t)}}var ti=new Rse;const Dse={name:"Main",components:{Toast:Mf,ProgressBar:Pf,ProgressSpinner:Su,AutoComplete:YF,TabMenu:ZF,Button:Lt,DataTable:ts,Column:Os,Chip:yU,Accordion:vU,AccordionTab:wU,BarPlot:Fne,LinePlot:eie,HeatMap:pie},DataService:null,data(){return{plots:[{label:"Line",icon:"pi pi-fw pi-chart-line",current_component:"LinePlot"},{label:"Histogram",icon:"pi pi-fw pi-chart-bar",current_component:"BarPlot"},{label:"Heat Map",icon:"pi pi-fw pi-th-large",current_component:"HeatMap"}],index:null,current_component:null,loading:!0,loading_genes:!0,got_datasets:!1,getting_datasets:!1,got_gene_data:!1,getting_gene_data:!1,datasets_filter_warning:!1,filter_warning:!1,db_metadata:null,selected_metadata:null,lookup_table:{},dataset_categories:["species","experiment","tissue"],sample_categories:["gender","condition"],species_list:[],species_filtered:[],species_selected:[],species_result:null,species_error:null,experiment_list:[],experiment_filtered:[],experiment_selected:[],experiment_result:null,experiment_error:null,tissue_list:[],tissue_filtered:[],tissue_selected:[],tissue_result:null,tissue_error:null,genes:[],genes_filtered:[],genes_selected:[],genes_results:null,genes_error:null,sample_result:[],gender:[],gender_filtered:[],gender_selected:[],gender_result:null,gender_error:null,condition:[],condition_filtered:[],condition_selected:[],condition_result:null,condition_error:null,gene_metadata_table_names:[],sample_metadata_table_names:[],gene_expression_data_table_names:[],gene_metadata_tables:[],gene_metadata_tables_all:[],selected_gene_metadata:[],selected_gene_metadata_all:[],sample_metadata_tables:[],sample_metadata_tables_all:[],gene_expression_data_tables:[],gene_expression_data_tables_all:[],datasets:null,dataset_categories:["species","experiment","tissue"],sample_categories:["gender","condition"]}},created(){this.setFiltersFromURL()},async mounted(){console.log("Main mounted"),await this.user_logged_in(),console.log("Main mounted, await datasets metadata: ");const e=Date.now();this.dataset_categories.forEach(n=>this.lookup_table[n]={}),this.sample_categories.forEach(n=>this.lookup_table[n]={}),await Promise.all([this.load_metadata()]),this.setInitialSelections(),this.update_lookup_table(),await this.get_datasets(),this.index=0;const t=Date.now()-e;console.log("Main mounted time elapsed ",t)},computed:{totalDatasetsSelected(){let e=0;if(this.selected_metadata&&(e=this.selected_metadata.length),this.db_metadata==null)return"0";let t=this.db_metadata.length;return`(${e} / ${t})`},freqComputed(){console.log("freqComputed");const e=this[`${category}_list`].map(t=>({...t,freq:this.get_freq(category,t.name)}));console.log("result"),console.log(e)}},methods:{updateFilters(e){this.$router.push({name:"Main",query:e})},setFiltersFromURL(){this.$route.query},createShareableLink(){return this.$router.resolve({name:"Main",query:this.selectedFilters}).href},setInitialSelections(){const e=this.$route.query;Object.keys(e).length?(console.log("Query params"),console.log(e),this.updateSelectionFromQuery()):this.setDefaultSelections()},setDefaultSelections(){const e=["Mus musculus"];this.species_selected=this.species_list.filter(r=>e.includes(r.name));const t=["TRF Experiment 2019"];this.experiment_selected=this.experiment_list.filter(r=>t.includes(r.name));const n=["Adrenal gland"];this.tissue_selected=this.tissue_list.filter(r=>n.includes(r.name));const i=["Male","Female"];this.gender_selected=this.gender_list.filter(r=>i.includes(r.name));const s=["ALF","TRF"];this.condition_selected=this.condition_list.filter(r=>s.includes(r.name)),this.genes_selected=[{name:"Clock"}]},updateQueryFromSelections(){console.log("updateQueryFromSelections"),this.$route.query;const e={species:encodeURIComponent(this.species_selected.map(t=>t.name).toString()),experiment:encodeURIComponent(this.experiment_selected.map(t=>t.name).toString()),tissue:encodeURIComponent(this.tissue_selected.map(t=>t.name).toString()),genes:encodeURIComponent(this.genes_selected.map(t=>t.name).toString()),gender:encodeURIComponent(this.gender_selected.map(t=>t.name).toString()),condition:encodeURIComponent(this.condition_selected.map(t=>t.name).toString())};this.updateFilters(e)},updateSelectionFromQuery(){const e=this.$route.query;if(Object.keys(e).length)if(!e.species||!e.experiment||!e.tissue||!e.genes||!e.gender||!e.condition)console.log("Missing parameters"),console.log(e),this.$toast.add({severity:"error",summary:"Invalid Query Parameters",detail:"No valid datasets for the specified URL query parameters. Check you are logged in with the necessary permissions.",life:15e3}),this.setDefaultSelections();else{const t=decodeURIComponent(e.species).split(",");this.species_selected=this.species_list.filter(a=>t.includes(a.name));const n=decodeURIComponent(e.experiment).split(",");this.experiment_selected=this.experiment_list.filter(a=>n.includes(a.name));const i=decodeURIComponent(e.tissue).split(",");this.tissue_selected=this.tissue_list.filter(a=>i.includes(a.name));const s=decodeURIComponent(e.gender).split(",");this.gender_selected=this.gender_list.filter(a=>s.includes(a.name));const r=decodeURIComponent(e.condition).split(",");this.condition_selected=this.condition_list.filter(a=>r.includes(a.name));const o=decodeURIComponent(e.genes).split(",");this.genes_selected=o.map(a=>({name:a}))}else this.setDefaultSelections()},updateDefaultSelection(e,t){return this[e].filter(n=>t.some(i=>i.name===n.name))},async user_logged_in(){try{const e=Eo();return await new Promise(async(t,n)=>e.onAuthStateChanged(async i=>{i?(await this.$store.commit("updateUser",i),i&&await this.$store.dispatch("getCurrentUser",i),t("User is there",i)):n("There is no user")},i=>n(i))),!0}catch{return!1}},async load_metadata(){console.log("load_metadata");const e=Date.now();let t=new FormData,n=this.$store.getters.getToken;t.append("authorization",n),this.db_metadata=await ti.getDatasetsMetadata(t).then(s=>s.data),console.log("this.db_metadata"),console.log(this.db_metadata),this.db_metadata.forEach(s=>{const r=s.gender.replaceAll(/[']+/g,'"');s.gender=JSON.parse(r);const o=s.condition.replaceAll(/[']+/g,'"');s.condition=JSON.parse(o),s.gene_metadata_table_name=s.experiment+"_"+s.id+"_gene",s.sample_metadata_table_name=s.experiment+"_"+s.id+"_sample",s.gene_expression_data_table_name=s.experiment+"_"+s.id+"_expression"}),console.log("this.db_metadata"),console.log(this.db_metadata),this.species_list=this.build_list([...new Set(this.db_metadata.map(s=>s.species))]),this.species_list.forEach(s=>{s.freq=0}),this.species_filtered=this.species_list,console.log("this.species_filtered"),console.log(this.species_filtered),this.experiment_list=this.build_list([...new Set(this.db_metadata.map(s=>s.experiment))]),this.experiment_list.forEach(s=>{s.freq=0}),this.experiment_filtered=this.experiment_list,console.log("this.experiment_filtered"),console.log(this.experiment_filtered),this.tissue_list=this.build_list([...new Set(this.db_metadata.map(s=>s.tissue))]),this.tissue_list.forEach(s=>{s.freq=0}),this.tissue_filtered=this.tissue_list,console.log("this.tissue_filtered"),console.log(this.tissue_filtered),this.gender_list=this.build_list([...new Set(this.db_metadata.map(s=>[...new Set(s.gender.map(r=>r.gender))]).flat())]),this.gender_list.forEach(s=>{s.freq=0}),this.gender_filtered=this.gender_list,this.condition_list=this.build_list([...new Set(this.db_metadata.map(s=>[...new Set(s.condition.map(r=>r.condition))]).flat())]),this.condition_list.forEach(s=>{s.freq=0}),this.condition_filtered=this.condition_list,this.loading=!1;const i=Date.now()-e;console.log("load_metadata time elapsed: ",i)},validate_dataset_selection(){console.log("validate_dataset_selection");const e=Date.now();this.species_error=this.species_selected.length==0,this.experiment_error=this.experiment_selected.length==0,this.tissue_error=this.tissue_selected.length==0,this.gender_error=this.gender_selected.length==0,this.condition_error=this.condition_selected.length==0;const t=Date.now()-e;console.log("validate_dataset_selection time elapsed: ",t)},async get_datasets(){console.log("get_datasets");const e=Date.now();if(this.getting_datasets=!0,this.gene_metadata_table_names=[],this.sample_metadata_table_names=[],this.gene_expression_data_table_names=[],console.log(this.selected_metadata),this.validate_dataset_selection(),this.selected_metadata.length){if(this.selected_metadata.length>8){this.getting_datasets=!1,this.got_datasets=!1,this.$toast.add({severity:"error",summary:"Error",detail:`Too many datasets selected.
Select 8 or fewer.`,life:5e3});return}}else{this.getting_datasets=!1,this.got_datasets=!1,this.$toast.add({severity:"error",summary:"Error",detail:"No datasets selected",life:5e3});return}this.selected_metadata.forEach(n=>{this.gene_metadata_table_names.push(n.gene_metadata_table_name),this.sample_metadata_table_names.push(n.sample_metadata_table_name),this.gene_expression_data_table_names.push(n.gene_expression_data_table_name)}),console.log("this.gene_metadata_table_names"),console.log(this.gene_metadata_table_names),await Promise.all([this.get_gene_metadata_tables(this.gene_metadata_table_names),this.get_sample_metadata_tables(this.sample_metadata_table_names)]),this.got_datasets=!0,this.getting_datasets=!1,this.genes_selected.length&&await this.get_gene_data(),console.log("this.datasets"),console.log(this.datasets);const t=Date.now()-e;console.log("get_datasets time elapsed: ",t)},async get_gene_metadata_tables(e){console.log("get_gene_metadata_tables"),console.log(e);const t=Date.now();this.loading_genes=!0,this.gene_metadata_tables=await Promise.all(e.map(async i=>{let s=this.gene_metadata_tables_all.find(r=>r.table_name==i);if(!s){const r=await ti.getGenesFS(i);s={table_name:i,data:JSON.parse(r.data)},this.gene_metadata_tables_all.push(s)}return s})),this.genes=this.build_list([...new Set(...this.gene_metadata_tables.map(i=>i.data))]),console.log("genes"),console.log(this.genes),this.genes_filtered=this.genes,this.loading_genes=!1;const n=Date.now()-t;console.log("get_gene_metadata_tables elapsed: ",n)},async get_sample_metadata_tables(e){const t=Date.now();this.sample_metadata_tables=await Promise.all(e.map(async i=>{let s=this.sample_metadata_tables_all.find(r=>r.table_name==i);if(!s){console.log("sample metadata table not found");const r=await ti.getSampleMetadataFS(i);console.log("sample result"),console.log(r),s={table_name:i,data:r.data},this.sample_metadata_tables_all.push(s)}return JSON.parse(JSON.stringify(s))})),console.log("this.sample_metadata_tables"),console.log(this.sample_metadata_tables),console.log(this.sample_metadata_tables_all);const n=Date.now()-t;console.log("get_sample_metadata_tables elapsed: ",n)},check_combo(e,t,n){for(let i=0;i<n.length;i++)for(let s=0;s<conditions_arr.length;s++)for(let r=0;r<genders_arr.length;r++)if(!e.data.find(a=>a.gene_id==n[i]&&t[a.sample_name].condition==conditions_arr[s]&&t[a.sample_name].gender==genders_arr[r]))return!0;return!1},async get_gene_expression_data_tables(e,t){console.log("get_gene_expression_data_tables");const n=Date.now(),i=e.map(a=>a.name).toString();console.log("genes_str"),console.log(i);const s=this.gender_selected.map(a=>a.name).toString();console.log("genders_str"),console.log(s);const r=this.condition_selected.map(a=>a.name).toString();console.log("conditions_str"),console.log(r),this.gene_expression_data_tables=await Promise.all(t.map(async a=>{let l=this.gene_expression_data_tables_all.find(v=>v.table_name==a);if(l){console.log("Table exists"),l=JSON.parse(JSON.stringify(l));const v=this.gene_expression_data_tables_all.findIndex(Q=>Q.table_name==a),C=a.replace("expression","sample"),B=this.sample_metadata_tables_all.find(Q=>Q.table_name==C);console.log("sample_metadata"),console.log(B);const E=B.data.reduce((Q,k)=>(Q[k.sample_name]=k,Q),{});console.log("sample_metadata_lookup"),console.log(E);const S=[...new Set(l.data.map(Q=>Q.gene_id))],F=e.map(Q=>Q.name),U=Se.difference(F,S);if(console.log("genes_to_add"),console.log(U),console.log("table_obj"),console.log(l),console.log(E),U.length){const Q=this.gene_expression_data_tables_all[v].data,k=F.toString();console.log("Querying DataService.getExpressionData...");const L=await ti.getExpressionDataByGenesFS(k,a);console.log("expression result"),console.log(L);const R=Se.union(Q,L.data);this.gene_expression_data_tables_all[v].data=R}l.data=[...this.gene_expression_data_tables_all[v].data].filter(Q=>F.indexOf(Q.gene_id)!==-1)}else{console.log("Table does not exist: "+a);const v=await ti.getExpressionDataByGenesFS(i,a);console.log("gene expression result"),console.log(v),l={table_name:a,data:v.data},this.gene_expression_data_tables_all.push(JSON.parse(JSON.stringify(l)))}console.log("After fetching table"),console.log(l);const A=[...new Set(l.data.map(v=>v.sample_name))];console.log("sample_names"),console.log(A);const u=a.replace("expression","sample"),c=this.sample_metadata_tables_all.find(v=>v.table_name==u);console.log("sample_metadata"),console.log(c);let d=c.data;console.log("filtered_samples"),console.log(d),d.forEach(v=>{!v.hasOwnProperty("condition")&&v.hasOwnProperty("group_name")&&Object.assign(v,{condition:v.group_name})});const h=this.condition_selected.map(v=>v.name);console.log("conditions"),console.log(h),h.length&&(d=d.filter(v=>h.includes(v.condition))),console.log("filtered_samples"),console.log(d);const p=this.gender_selected.map(v=>v.name);console.log("genders"),console.log(p),p.length&&(d=d.filter(v=>p.includes(v.gender))),console.log("filtered_samples"),console.log(d);const m=d.map(v=>v.sample_name);console.log("filtered_samples_names"),console.log(m),console.log("genes"),console.log(e);const g=e.map(v=>v.name);let w=l.data.filter(v=>g.includes(v.gene_id));return console.log("filtered_data"),console.log(w),w=w.filter(v=>m.includes(v.sample_name)),console.log("filtered_data after sample filter"),console.log(w),l.data=JSON.parse(JSON.stringify(w)),console.log("table_obj"),console.log(l),l})),console.log("this.gene_expression_data_tables"),console.log(this.gene_expression_data_tables),console.log("this.gene_expression_data_tables_all"),console.log(this.gene_expression_data_tables_all);const o=Date.now()-n;console.log("get_gene_expression_data_tables elapsed:",o)},async get_selected_gene_metadata(e,t){console.log("get_selected_gene_metadata");const n=Date.now(),i=e.map(r=>r.name).toString();this.selected_gene_metadata=await Promise.all(t.map(async r=>{let o=this.selected_gene_metadata_all.find(a=>a.table_name==r);if(o){console.log("Found: ",r),console.log(o),o=JSON.parse(JSON.stringify(o));const a=[...new Set(o.data.map(c=>c.gene_id))],l=e.map(c=>c.name),A=Se.difference(l,a),u=this.selected_gene_metadata_all.findIndex(c=>c.table_name==r);if(A.length>0){const c=this.selected_gene_metadata_all[u].data,d=A.toString(),h=await ti.getGeneMetadataFS(d,r),p=Se.union(c,h.data);console.log("data_all"),console.log(p),this.selected_gene_metadata_all[u].data=p}o.data=[...this.selected_gene_metadata_all[u].data].filter(c=>l.indexOf(c.gene_id)!==-1)}else{console.log("Not found: ",r);const a=await ti.getGeneMetadataFS(i,r);o={table_name:r,data:a.data},this.selected_gene_metadata_all.push(o)}return o})),console.log("this.selected_gene_metadata"),console.log(this.selected_gene_metadata);const s=Date.now()-n;console.log("get_selected_gene_metadata elapsed:",s)},async get_gene_data(){console.log("get_gene_data");const e=Date.now();if(this.getting_gene_data=!0,!this.genes_selected.length){this.$toast.add({severity:"error",summary:"Error",detail:"No genes selected",life:5e3}),this.got_gene_data=!1,this.getting_gene_data=!1;return}await Promise.all([this.get_gene_expression_data_tables(this.genes_selected,this.gene_expression_data_table_names),this.get_selected_gene_metadata(this.genes_selected,this.gene_metadata_table_names)]);const t=this.condition_selected.map(s=>s.name),n=this.gender_selected.map(s=>s.name);this.sample_metadata_tables.forEach(s=>{if(t.length){let l=s.data[0].hasOwnProperty("group_name")?"group_name":"condition";s.data=s.data.filter(A=>t.includes(A[l]))}n.length&&(s.data=s.data.filter(l=>n.includes(l.gender)));const r=s.data.map(l=>l.sample_name),o=s.table_name.replace("sample","expression"),a=this.gene_expression_data_tables.find(l=>l.table_name==o);a.data=a.data.filter(l=>r.includes(l.sample_name))}),this.datasets={sample_metadata_tables:this.sample_metadata_tables,gene_expression_data_tables:this.gene_expression_data_tables,gene_metadata:this.selected_gene_metadata,selected_metadata:this.selected_metadata},console.log("this.datasets"),console.log(this.datasets),this.got_gene_data=!0,this.getting_gene_data=!1;const i=Date.now()-e;console.log("get_gene_data time elapsed: ",i)},update_lookup_table(){console.log("update_lookup_table");const e=Date.now();this.species_result=this.filter_metadata("species"),console.log("this.species_result"),console.log(this.species_result),this.species_filtered=this.build_list([...new Set(this.species_result.map(n=>n.species))].sort()),console.log("this.species_filtered"),console.log(this.species_filtered),this.experiment_result=this.filter_metadata("experiment",this.species_result),console.log("this.experiment_result"),console.log(this.experiment_result),this.experiment_filtered=this.build_list([...new Set(this.experiment_result.map(n=>n.experiment))].sort()),console.log("this.experiment_filtered"),console.log(this.experiment_filtered),this.tissue_result=this.filter_metadata("tissue",this.experiment_result),console.log("this.tissue_result"),console.log(this.tissue_result),this.tissue_filtered=this.build_list([...new Set(this.tissue_result.map(n=>n.tissue))].sort()),console.log("this.tissue_filtered"),console.log(this.tissue_filtered),this.selected_metadata=this.tissue_result,this.gender_result=this.filter_metadata("gender",this.selected_metadata),console.log("this.gender_result"),console.log(this.gender_result),this.gender_filtered=this.build_list([...new Set(this.gender_result.map(n=>n.gender))].sort()),console.log("this.gender_filtered"),console.log(this.gender_filtered),this.condition_result=this.filter_metadata("condition",this.gender_result),console.log("this.condition_result"),console.log(this.condition_result),this.condition_filtered=this.build_list([...new Set(this.condition_result.map(n=>n.condition))].sort()),console.log("this.condition_filtered"),console.log(this.condition_filtered),this.updateQueryFromSelections();const t=Date.now()-e;console.log("update_lookup_table time elapsed: ",t)},filter_metadata(e,t){let n=this[`${e}_selected`].map(a=>a.name),i;this.dataset_categories.includes(e)?i=t||this.db_metadata:this.sample_categories.includes(e)&&(i=t||this.selected_metadata);let s=i.filter(({[e]:a})=>n.some(l=>Array.isArray(a)?a.some(A=>A[e].toLowerCase()===l.toLowerCase()):a.toLowerCase().includes(l.toLowerCase())));this[`${e}_list`].map(a=>a);let r=this[`${e}_selected`].map(a=>a),o=this[`${e}_list`];return this[`${e}_list`].forEach(a=>{a.count=this.get_count(e,a.name),a.freq=this.get_freq(e,a.name)}),this[`${e}_list`]=JSON.parse(JSON.stringify(o)),this[`${e}_selected`]=r.map(a=>this[`${e}_list`].find(l=>l.name===a.name)),s},get_count(e,t){let n,i="0/0";if(this.dataset_categories.includes(e))e=="species"?n=this.db_metadata:e=="experiment"?n=this.species_result:e=="tissue"?n=this.experiment_result:console.error("Invalid category: "+e),n&&(i=`${n.filter(s=>s[e]==t).length}/${n.length}`);else if(this.sample_categories.includes(e)){if(n=this.selected_metadata,n){let s=0,r=0;for(let o of n)if(o[`${e}`])for(let a of o[`${e}`])a[`${e}`]==t&&(s+=a.count),r+=a.count;i=`${s}/${r}`}}else return console.error("get_count: invalid category: "+e),null;return i},get_freq(e,t){let n,i=0,s=0,r=0;if(this.dataset_categories.includes(e))e=="species"?n=this.db_metadata:e=="experiment"?n=this.species_result:e=="tissue"?n=this.experiment_result:console.error("Invalid category: "+e),n&&(i=n.filter(o=>o[e]==t).length,s=n.length);else if(this.sample_categories.includes(e)){if(n=this.selected_metadata,n){i=0,s=0;for(let o of n)if(o[`${e}`])for(let a of o[`${e}`])a[`${e}`]==t&&(i+=a.count),s+=a.count}}else return console.error("get_freq: invalid category: "+e),null;return s==0?r=0:r=i/s,r},build_list(e){return e.map(t=>({name:t}))},remove_species_filter(e){this.species_selected=this.species_selected.filter(t=>t.name!=e),this.update_lookup_table()},remove_experiment_filter(e){this.experiment_selected=this.experiment_selected.filter(t=>t.name!=e),this.update_lookup_table()},remove_tissue_filter(e){this.tissue_selected=this.tissue_selected.filter(t=>t.name!=e),this.update_lookup_table()},remove_gender_filter(e){this.gender_selected=this.gender_selected.filter(t=>t.name!=e),this.update_lookup_table()},remove_condition_filter(e){this.condition_selected=this.condition_selected.filter(t=>t.name!=e),this.update_lookup_table()},remove_gene(){this.update_lookup_table()},clear_all_filters(){this.species_selected=[],this.experiment_selected=[],this.tissue_selected=[],this.gender_selected=[],this.condition_selected=[],this.got_datasets=!1,this.update_lookup_table()},number_datasets_selected(){let e=0;if(this.selected_metadata&&(e=this.selected_metadata.length),this.db_metadata==null)return"0";let t=this.db_metadata.length;return`(${e} / ${t})`},async search_genes(e){setTimeout(()=>{e.query.trim().length?this.genes_filtered=this.genes.filter(t=>t.name.toLowerCase().startsWith(e.query.toLowerCase())):this.genes_filtered=[...this.genes]},250)}},watch:{$route(e,t){e.query!==t.query&&this.setFiltersFromURL()}}},Ir=e=>(Fi("data-v-043be8d2"),e=e(),Ui(),e),Mse={id:"main",class:"w-full p-1 mx-auto mb-20"},Pse=Ir(()=>f("div",{id:"page-title",class:"py-2 font-semibold text-3xl text-center"}," Temporal Gene Expression ",-1)),Hse={id:"selection-ui",class:"mt-2 mx-auto"},Nse={key:0,id:"current-filters-ui",class:"my-1 mx-0 bg-slate-100 rounded-2xl min-w-[24rem] flex flex-wrap"},Kse={key:0,id:"filters-species",class:"bg-slate-200 p-1 rounded-lg border border-slate-300 my-2 flex flex-wrap align-items-center mx-3"},Vse=Ir(()=>f("div",{class:"font-semibold text-sm pl-1"},"Organism:",-1)),$se={key:0,class:"px-1 font-semibold"},Gse={key:1,id:"filters-experiment",class:"bg-slate-200 p-1 rounded-lg border border-slate-300 my-2 flex flex-wrap align-items-center mx-3"},zse=Ir(()=>f("div",{class:"font-semibold text-sm pl-1"},"Experiments:",-1)),jse={key:0,class:"px-1 font-semibold text-sm"},Wse={key:2,id:"filters-tissue",class:"bg-slate-200 p-1 rounded-lg border border-slate-300 my-2 flex flex-wrap align-items-center mx-3"},qse=Ir(()=>f("div",{class:"font-semibold text-sm pl-1"},"Tissues:",-1)),Xse={key:0,class:"px-1 font-semibold text-sm"},Jse={key:3,id:"filters-gender",class:"bg-slate-200 p-1 rounded-lg border border-slate-300 my-2 flex flex-wrap align-items-center mx-3"},Yse=Ir(()=>f("div",{class:"font-semibold text-sm pl-1"},"Genders:",-1)),Zse={key:0,class:"px-1 font-semibold text-sm"},ere={key:4,id:"filters-condition",class:"bg-slate-200 p-1 rounded-lg border border-slate-300 my-2 flex flex-wrap align-items-center mx-3"},tre=Ir(()=>f("div",{class:"font-semibold text-sm pl-1"},"conditions:",-1)),nre={key:0,class:"px-1 font-semibold text-sm"},ire={id:"clear-filters",class:"my-2 flex flex-wrap align-items-center mx-3"},sre={id:"filters-graph-view",class:"flex pl-0"},rre={id:"filters-boxes",class:"w-1/4 mt-2 min-w-[20rem]"},ore={key:0},are={class:"font-semibold mb-1 text-sm flex flex-row"},lre={class:"flex justify-start"},Are={class:"font-light ml-1"},ure={id:"clear-button",class:"flex grow justify-start update-button pl-3"},cre={id:"update-button",class:"flex grow justify-end update-button"},dre={class:"text-sm text-red-600"},hre={class:"text-sm text-red-600"},fre={class:"text-sm text-red-600"},pre=Ir(()=>f("div",{class:"font-semibold my-1 text-sm"}," Samples ",-1)),gre={class:"text-sm text-red-600"},mre={class:"text-sm text-red-600"},yre={id:"get-datasets",class:"mt-1 text-center"},vre={key:1,class:"text-center font-semibold text-lg"},wre={id:"genes-view",class:""},_re=Ir(()=>f("div",{class:"font-semibold text-sm my-1"},"Select Genes:",-1)),bre={id:"gene-search",class:"p-1"},Bre={id:"get-genes",class:"mt-1 text-center"},Cre={id:"graphs-view",class:"w-3/4 h-1/2 min-w-[50rem]"},xre={key:0},Ere={class:"card mt-1"},Ire={class:"mx-auto w-3/4"},Sre={key:0,class:"mx-auto px-3"},Fre={key:1,class:"flex h-[50vh]"};function Ure(e,t,n,i,s,r){const o=N("Toast"),a=N("Chip"),l=N("Button"),A=N("Column"),u=N("DataTable"),c=N("AccordionTab"),d=N("AutoComplete"),h=N("Accordion"),p=N("TabMenu"),m=N("ProgressSpinner");return y(),_("div",Mse,[Pse,f("div",Hse,[b(o),this.species_selected.length||this.experiment_selected.length||this.tissue_selected.length?(y(),_("div",Nse,[this.species_selected.length?(y(),_("div",Kse,[Vse,(y(!0),_(J,null,be(this.species_selected,(g,w)=>(y(),_("div",{key:g},[b(a,{label:g.name,class:"mx-1 custom-chip text-sm",removable:"",onRemove:v=>r.remove_species_filter(g.name)},null,8,["label","onRemove"]),w<this.species_selected.length-1?(y(),_("span",$se,"or")):H("",!0)]))),128))])):H("",!0),this.experiment_selected.length?(y(),_("div",Gse,[zse,(y(!0),_(J,null,be(this.experiment_selected,(g,w)=>(y(),_("div",{key:g,class:"my-1"},[b(a,{label:g.name,class:"mx-1 custom-chip text-sm",removable:"",onRemove:v=>r.remove_experiment_filter(g.name)},null,8,["label","onRemove"]),w<this.experiment_selected.length-1?(y(),_("span",jse,"or")):H("",!0)]))),128))])):H("",!0),this.tissue_selected.length?(y(),_("div",Wse,[qse,(y(!0),_(J,null,be(this.tissue_selected,(g,w)=>(y(),_("div",{key:g},[b(a,{label:g.name,class:"mx-1 custom-chip text-sm",removable:"",onRemove:v=>r.remove_tissue_filter(g.name)},null,8,["label","onRemove"]),w<this.tissue_selected.length-1?(y(),_("span",Xse,"or")):H("",!0)]))),128))])):H("",!0),this.gender_selected.length?(y(),_("div",Jse,[Yse,(y(!0),_(J,null,be(this.gender_selected,(g,w)=>(y(),_("div",{key:g},[b(a,{label:g.name,class:"mx-1 custom-chip text-sm",removable:"",onRemove:v=>r.remove_gender_filter(g.name)},null,8,["label","onRemove"]),w<this.gender_selected.length-1?(y(),_("span",Zse,"or")):H("",!0)]))),128))])):H("",!0),this.condition_selected.length?(y(),_("div",ere,[tre,(y(!0),_(J,null,be(this.condition_selected,(g,w)=>(y(),_("div",{key:g},[b(a,{label:g.name,class:"mx-1 custom-chip text-sm",removable:"",onRemove:v=>r.remove_condition_filter(g.name)},null,8,["label","onRemove"]),w<this.condition_selected.length-1?(y(),_("span",nre,"or")):H("",!0)]))),128))])):H("",!0),f("div",ire,[b(a,{label:"Clear All Filters",class:"mx-1 text-sm font-semibold",removable:"",onRemove:r.clear_all_filters},null,8,["onRemove"])])])):H("",!0),f("div",sre,[f("div",rre,[b(h,{multiple:!0,activeIndex:[0,1,2]},{default:O(()=>[b(c,{header:"Filters"},{default:O(()=>[this.datasets_filter_warning?(y(),_("div",vre," Warning: No datasets in filtered selection. Clear filters to regain datasets for selection. ")):(y(),_("div",ore,[f("div",are,[f("div",lre,[he(" Datasets "),f("span",Are,M(r.totalDatasetsSelected),1)]),f("div",ure,[b(l,{class:"align-middle gray-button",style:{height:"1.375rem","font-size":"0.5rem"},label:"Clear",onClick:r.clear_all_filters},null,8,["onClick"])]),f("div",cre,[b(l,{class:"align-middle",style:{height:"1.375rem","font-size":"0.5rem"},label:"Update",onClick:r.get_datasets,loading:this.getting_datasets||this.getting_gene_data||this.loading_genes},null,8,["onClick","loading"])])]),f("div",{class:P(["p-1 border my-3 rounded",{"border-red-600 border-3":this.species_error}])},[b(u,{value:s.species_list,selection:this.species_selected,"onUpdate:selection":t[0]||(t[0]=g=>this.species_selected=g),class:"p-datatable-sm p-datatable-species",stripedRows:"",scrollable:!0,scrollHeight:"200px",loading:s.loading,selectionMode:"multiple",metaKeySelection:!1,onRowSelect:r.update_lookup_table,onRowUnselect:r.update_lookup_table,onRowSelectAll:r.update_lookup_table,onRowUnselectAll:r.update_lookup_table,sortField:"freq",sortOrder:-1},{default:O(()=>[b(A,{selectionMode:"multiple",headerStyle:"width: 1rem",style:{width:"1rem"}}),b(A,{field:"name",header:"Organism",headerStyle:"width: 10rem",style:{width:"10rem"}}),b(A,{field:"count",header:"#",headerStyle:"width: 2rem",style:{width:"2rem"}},{body:O(g=>[he(M(r.get_count("species",g.data.name)),1)]),_:1}),b(A,{field:"freq",header:"Freq",sortable:"",headerStyle:"width: 4rem",style:{width:"4rem"}},{body:O(g=>[he(M((g.data.freq*100).toFixed(1)+"%")+" ",1)]),_:1})]),_:1},8,["value","selection","loading","onRowSelect","onRowUnselect","onRowSelectAll","onRowUnselectAll"]),re(f("div",dre,"No species selected ",512),[[xe,this.species_error]])],2),f("div",{class:P(["p-1 border my-3 rounded",{"border-red-600 border-3":this.experiment_error}])},[b(u,{value:s.experiment_list,selection:s.experiment_selected,"onUpdate:selection":t[1]||(t[1]=g=>s.experiment_selected=g),class:"p-datatable-sm",stripedRows:"",scrollable:!0,scrollHeight:"200px",loading:s.loading,selectionMode:"multiple",metaKeySelection:!1,onRowSelect:r.update_lookup_table,onRowUnselect:r.update_lookup_table,onRowSelectAll:r.update_lookup_table,onRowUnselectAll:r.update_lookup_table,sortField:"freq",sortOrder:-1},{default:O(()=>[b(A,{selectionMode:"multiple",headerStyle:"width: 1rem",style:{width:"1rem"}}),b(A,{field:"name",header:"Dataset",headerStyle:"width: 10rem",style:{width:"10rem"}}),b(A,{field:"count",header:"#",headerStyle:"width: 2rem",style:{width:"2rem"}},{body:O(g=>[he(M(r.get_count("experiment",g.data.name)),1)]),_:1}),b(A,{field:"freq",header:"Freq",sortable:"",headerStyle:"width: 4rem",style:{width:"4rem"}},{body:O(g=>[he(M((g.data.freq*100).toFixed(1)+"%")+" ",1)]),_:1})]),_:1},8,["value","selection","loading","onRowSelect","onRowUnselect","onRowSelectAll","onRowUnselectAll"]),re(f("div",hre,"No datasets selected ",512),[[xe,this.experiment_error]])],2),f("div",{class:P(["p-1 border my-3 rounded",{"border-red-600 border-3":this.tissue_error}])},[b(u,{value:s.tissue_list,selection:s.tissue_selected,"onUpdate:selection":t[2]||(t[2]=g=>s.tissue_selected=g),class:"p-datatable-sm",stripedRows:"",selectionMode:"multiple",metaKeySelection:!1,scrollable:!0,scrollHeight:"200px",loading:s.loading,onRowSelect:r.update_lookup_table,onRowUnselect:r.update_lookup_table,onRowSelectAll:r.update_lookup_table,onRowUnselectAll:r.update_lookup_table,sortField:"freq",sortOrder:-1},{default:O(()=>[b(A,{selectionMode:"multiple",headerStyle:"width: 2rem",style:{width:"2rem"}}),b(A,{field:"name",header:"Tissue",headerStyle:"width: 10rem",style:{width:"10rem"}}),b(A,{field:"count",header:"#",headerStyle:"width: 2rem",style:{width:"2rem"}},{body:O(g=>[he(M(r.get_count("tissue",g.data.name)),1)]),_:1}),b(A,{field:"freq",header:"Freq",sortable:"",headerStyle:"width: 4rem",style:{width:"4rem"}},{body:O(g=>[he(M((g.data.freq*100).toFixed(1)+"%")+" ",1)]),_:1})]),_:1},8,["value","selection","loading","onRowSelect","onRowUnselect","onRowSelectAll","onRowUnselectAll"]),re(f("div",fre,"No tissues selected ",512),[[xe,this.tissue_error]])],2),pre,f("div",{class:P(["p-1 border my-3 rounded",{"border-red-600 border-3":this.gender_error}])},[b(u,{value:e.gender_list,selection:s.gender_selected,"onUpdate:selection":t[3]||(t[3]=g=>s.gender_selected=g),class:"p-datatable-sm",stripedRows:"",selectionMode:"multiple",metaKeySelection:!1,scrollable:!0,scrollHeight:"200px",loading:s.loading,onRowSelect:r.update_lookup_table,onRowUnselect:r.update_lookup_table,onRowSelectAll:r.update_lookup_table,onRowUnselectAll:r.update_lookup_table,sortField:"freq",sortOrder:-1},{default:O(()=>[b(A,{selectionMode:"multiple",headerStyle:"width: 2rem",style:{width:"2rem"}}),b(A,{field:"name",header:"Gender",style:{"text-align":"left"}}),b(A,{field:"count",header:"#",headerStyle:"width: 2rem",style:{width:"2rem"}},{body:O(g=>[he(M(r.get_count("gender",g.data.name)),1)]),_:1}),b(A,{field:"freq",header:"Freq",sortable:"",headerStyle:"width: 4rem",style:{width:"4rem"}},{body:O(g=>[he(M((g.data.freq*100).toFixed(1)+"%"),1)]),_:1})]),_:1},8,["value","selection","loading","onRowSelect","onRowUnselect","onRowSelectAll","onRowUnselectAll"]),re(f("div",gre,"No genders selected ",512),[[xe,this.gender_error]])],2),f("div",{class:P(["p-1 border my-3 rounded",{"border-red-600 border-3":this.condition_error}])},[b(u,{value:e.condition_list,selection:s.condition_selected,"onUpdate:selection":t[4]||(t[4]=g=>s.condition_selected=g),class:"p-datatable-sm",stripedRows:"",scrollable:!0,scrollHeight:"200px",loading:s.loading,selectionMode:"multiple",metaKeySelection:!1,onRowSelect:r.update_lookup_table,onRowUnselect:r.update_lookup_table,onRowSelectAll:r.update_lookup_table,onRowUnselectAll:r.update_lookup_table,sortField:"freq",sortOrder:-1},{default:O(()=>[b(A,{selectionMode:"multiple",headerStyle:"width: 2rem",style:{width:"2rem"}}),b(A,{field:"name",header:"Condition",style:{"text-align":"left"}}),b(A,{field:"count",header:"#",headerStyle:"width: 2rem",style:{width:"2rem"}},{body:O(g=>[he(M(r.get_count("condition",g.data.name)),1)]),_:1}),b(A,{field:"freq",header:"Freq",sortable:"",headerStyle:"width: 4rem",style:{width:"4rem"}},{body:O(g=>[he(M((g.data.freq*100).toFixed(1)+"%"),1)]),_:1})]),_:1},8,["value","selection","loading","onRowSelect","onRowUnselect","onRowSelectAll","onRowUnselectAll"]),re(f("div",mre,"No conditions selected ",512),[[xe,this.condition_error]])],2),f("div",yre,[b(l,{label:"Get Datasets",onClick:r.get_datasets,loading:this.getting_datasets||this.getting_gene_data||this.loading_genes},null,8,["onClick","loading"])])]))]),_:1}),b(c,{header:"Genes"},{default:O(()=>[re(f("div",wre,[_re,re(f("div",bre,[b(d,{multiple:!0,modelValue:this.genes_selected,"onUpdate:modelValue":t[5]||(t[5]=g=>this.genes_selected=g),suggestions:this.genes_filtered,onComplete:t[6]||(t[6]=g=>r.search_genes(g)),field:"name",disabled:this.loading_genes,onItemUnselect:r.remove_gene},null,8,["modelValue","suggestions","disabled","onItemUnselect"])],512),[[xe,!this.loading_genes]]),f("div",Bre,[b(l,{label:"Get Genes",onClick:r.get_datasets,loading:this.getting_gene_data||this.loading_genes},null,8,["onClick","loading"])])],512),[[xe,this.got_datasets]]),re(f("div",null,[re(f("div",null," Loading... please wait. ",512),[[xe,this.getting_datasets]]),re(f("div",null," Please first select at least one dataset. ",512),[[xe,!this.getting_datasets]])],512),[[xe,!this.got_datasets]])]),_:1})]),_:1})]),f("div",Cre,[this.got_datasets&&this.got_gene_data?(y(),_("div",xre,[f("div",Ere,[f("div",Ire,[b(p,{model:s.plots,activeIndex:s.index,"onUpdate:activeIndex":t[7]||(t[7]=g=>s.index=g)},null,8,["model","activeIndex"])]),s.index!=null?(y(),_("div",Sre,[(y(),ee(BO,null,[(y(),ee(ht(s.plots[s.index].current_component),{genes:this.genes_selected,datasets:this.datasets},null,8,["genes","datasets"]))],1024))])):H("",!0)])])):(y(),_("div",Fre,[re(b(m,{class:"m-auto"},null,512),[[xe,this.getting_datasets]])]))])])])])}var Tre=Bt(Dse,[["render",Ure],["__scopeId","data-v-043be8d2"]]),w_={name:"Checkbox",emits:["click","update:modelValue","change","input","focus","blur"],props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{focused:!1}},methods:{onClick(e){if(!this.disabled&&!this.readonly){let t;this.binary?t=this.checked?this.falseValue:this.trueValue:this.checked?t=this.modelValue.filter(n=>!$.equals(n,this.value)):t=this.modelValue?[...this.modelValue,this.value]:[this.value],this.$emit("click",e),this.$emit("update:modelValue",t),this.$emit("change",e),this.$emit("input",t),this.$refs.input.focus()}},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){this.focused=!1,this.$emit("blur",e)}},computed:{checked(){return this.binary?this.modelValue===this.trueValue:$.contains(this.value,this.modelValue)},containerClass(){return["p-checkbox p-component",{"p-checkbox-checked":this.checked,"p-checkbox-disabled":this.disabled,"p-checkbox-focused":this.focused}]}}};const kre={class:"p-hidden-accessible"},Qre=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label"];function Lre(e,t,n,i,s,r){return y(),_("div",{class:P(r.containerClass),onClick:t[2]||(t[2]=o=>r.onClick(o))},[f("div",kre,[f("input",Ue({ref:"input",id:n.inputId,type:"checkbox",value:n.value,name:n.name,checked:r.checked,tabindex:n.tabindex,disabled:n.disabled,readonly:n.readonly,required:n.required,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=o=>r.onFocus(o)),onBlur:t[1]||(t[1]=o=>r.onBlur(o))},n.inputProps),null,16,Qre)]),f("div",{ref:"box",class:P(["p-checkbox-box",n.inputClass,{"p-highlight":r.checked,"p-disabled":n.disabled,"p-focus":s.focused}]),style:Re(n.inputStyle)},[f("span",{class:P(["p-checkbox-icon",{"pi pi-check":r.checked}])},null,2)],6)],2)}w_.render=Lre;const Ore={name:"Login",components:{InputText:ki,Button:Lt,Checkbox:w_},data(){return{email:null,password:null,error:null,errorMsg:null,checked:null}},methods:{signIn(){const e=Eo();SK(e,this.email,this.password).then(()=>{this.error=!1,this.errorMsg="";const t=e.currentUser;this.$store.dispatch("getCurrentUser",t),this.$router.push({name:"Main"})}).catch(t=>{console.log("Sign in error"),this.error=!0,this.errorMsg=t.message,console.log(t.message)})}}},Rre={class:"surface-card p-4 shadow-2 border-round w-1/2 mx-auto mt-6 lg:w-6"},Dre={class:"text-center my-5"},Mre=f("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome Back",-1),Pre=f("span",{class:"text-600 font-medium line-height-3"},"Don't have an account?",-1),Hre={class:"w-11/12 mx-auto"},Nre=f("label",{for:"email",class:"block text-900 font-medium mb-2"},"Email",-1),Kre=f("label",{for:"password",class:"block text-900 font-medium mb-2"},"Password",-1),Vre={class:"flex align-items-center justify-content-between my-6"},$re={class:"flex align-items-center"},Gre=f("label",{for:"rememberme"},"Remember me",-1);function zre(e,t,n,i,s,r){const o=N("router-link"),a=N("InputText"),l=N("Checkbox"),A=N("Button");return y(),_("div",Rre,[f("div",Dre,[Mre,Pre,b(o,{to:"/register",class:"font-medium no-underline ml-2 text-blue-500 cursor-pointer"},{default:O(()=>[he(" Register ")]),_:1})]),f("div",Hre,[Nre,b(a,{id:"email",type:"text",modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=u=>s.email=u),class:"w-full mb-3"},null,8,["modelValue"]),Kre,b(a,{id:"password",type:"password",modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=u=>s.password=u),class:"w-full mb-3",onKeyup:Bi(r.signIn,["enter"])},null,8,["modelValue","onKeyup"]),re(f("div",{class:"error"},M(this.errorMsg),513),[[xe,s.error]]),f("div",Vre,[f("div",$re,[b(l,{id:"rememberme",binary:!0,modelValue:s.checked,"onUpdate:modelValue":t[2]||(t[2]=u=>s.checked=u),class:"mr-2"},null,8,["modelValue"]),Gre]),b(o,{to:"/forgot-password",class:"font-medium no-underline ml-2 text-blue-500 text-right cursor-pointer"},{default:O(()=>[he(" Forgot password? ")]),_:1})]),b(A,{label:"Sign In",icon:"pi pi-user",class:"w-full",onClick:r.signIn,onKeyup:Bi(r.signIn,["enter"])},null,8,["onClick","onKeyup"])])])}var jre=Bt(Ore,[["render",zre]]),EQ={name:"Password",emits:["update:modelValue","change","focus","blur","invalid"],props:{modelValue:String,promptLabel:{type:String,default:null},mediumRegex:{type:String,default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:String,default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:null},mediumLabel:{type:String,default:null},strongLabel:{type:String,default:null},feedback:{type:Boolean,default:!0},appendTo:{type:String,default:"body"},toggleMask:{type:Boolean,default:!1},hideIcon:{type:String,default:"pi pi-eye-slash"},showIcon:{type:String,default:"pi pi-eye"},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelId:{type:String,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{overlayVisible:!1,meter:null,infoText:null,focused:!1,unmasked:!1}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted(){this.infoText=this.promptText,this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(st.clear(this.overlay),this.overlay=null)},methods:{onOverlayEnter(e){st.set("overlay",e,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener()},onOverlayLeave(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},onOverlayAfterLeave(e){st.clear(e)},alignOverlay(){this.appendTo==="self"?I.relativePosition(this.overlay,this.$refs.input.$el):(this.overlay.style.minWidth=I.getOuterWidth(this.$refs.input.$el)+"px",I.absolutePosition(this.overlay,this.$refs.input.$el))},testStrength(e){let t=0;return this.strongCheckRegExp.test(e)?t=3:this.mediumCheckRegExp.test(e)?t=2:e.length&&(t=1),t},onInput(e){this.$emit("update:modelValue",e.target.value)},onFocus(e){this.focused=!0,this.feedback&&(this.setPasswordMeter(this.modelValue),this.overlayVisible=!0),this.$emit("focus",e)},onBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.$emit("blur",e)},onKeyUp(e){if(this.feedback){const t=e.target.value,{meter:n,label:i}=this.checkPasswordStrength(t);if(this.meter=n,this.infoText=i,e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}},setPasswordMeter(){if(!this.modelValue)return;const{meter:e,label:t}=this.checkPasswordStrength(this.modelValue);this.meter=e,this.infoText=t,this.overlayVisible||(this.overlayVisible=!0)},checkPasswordStrength(e){let t=null,n=null;switch(this.testStrength(e)){case 1:t=this.weakText,n={strength:"weak",width:"33.33%"};break;case 2:t=this.mediumText,n={strength:"medium",width:"66.66%"};break;case 3:t=this.strongText,n={strength:"strong",width:"100%"};break;default:t=this.promptText,n=null;break}return{label:t,meter:n}},onInvalid(e){this.$emit("invalid",e)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Io(this.$refs.input.$el,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!I.isTouchDevice()&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef(e){this.overlay=e},onMaskToggle(){this.unmasked=!this.unmasked},onOverlayClick(e){hn.emit("overlay-click",{originalEvent:e,target:this.$el})}},computed:{containerClass(){return["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":this.filled,"p-inputwrapper-focus":this.focused,"p-input-icon-right":this.toggleMask}]},inputFieldClass(){return["p-password-input",this.inputClass,{"p-disabled":this.disabled}]},panelStyleClass(){return["p-password-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},toggleIconClass(){return this.unmasked?this.hideIcon:this.showIcon},strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`},inputType(){return this.unmasked?"text":"password"},filled(){return this.modelValue!=null&&this.modelValue.toString().length>0},weakText(){return this.weakLabel||this.$primevue.config.locale.weak},mediumText(){return this.mediumLabel||this.$primevue.config.locale.medium},strongText(){return this.strongLabel||this.$primevue.config.locale.strong},promptText(){return this.promptLabel||this.$primevue.config.locale.passwordPrompt},panelUniqueId(){return _t()+"_panel"}},components:{PInputText:ki,Portal:es}};const Wre={class:"p-hidden-accessible","aria-live":"polite"},qre=["id"],Xre={class:"p-password-meter"},Jre={class:"p-password-info"};function Yre(e,t,n,i,s,r){const o=N("PInputText"),a=N("Portal");return y(),_("div",{class:P(r.containerClass)},[b(o,Ue({ref:"input",id:n.inputId,type:r.inputType,class:r.inputFieldClass,style:n.inputStyle,value:n.modelValue,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-controls":n.panelProps&&n.panelProps.id||n.panelId||r.panelUniqueId,"aria-expanded":s.overlayVisible,"aria-haspopup":!0,placeholder:n.placeholder,required:n.required,onInput:r.onInput,onFocus:r.onFocus,onBlur:r.onBlur,onKeyup:r.onKeyUp,onInvalid:r.onInvalid},n.inputProps),null,16,["id","type","class","style","value","aria-labelledby","aria-label","aria-controls","aria-expanded","placeholder","required","onInput","onFocus","onBlur","onKeyup","onInvalid"]),n.toggleMask?(y(),_("i",{key:0,class:P(r.toggleIconClass),onClick:t[0]||(t[0]=(...l)=>r.onMaskToggle&&r.onMaskToggle(...l))},null,2)):H("",!0),f("span",Wre,M(s.infoText),1),b(a,{appendTo:n.appendTo},{default:O(()=>[b(Dn,{name:"p-connected-overlay",onEnter:r.onOverlayEnter,onLeave:r.onOverlayLeave,onAfterLeave:r.onOverlayAfterLeave},{default:O(()=>[s.overlayVisible?(y(),_("div",Ue({key:0,ref:r.overlayRef,id:n.panelId||r.panelUniqueId,class:r.panelStyleClass,style:n.panelStyle,onClick:t[1]||(t[1]=(...l)=>r.onOverlayClick&&r.onOverlayClick(...l))},n.panelProps),[ue(e.$slots,"header"),ue(e.$slots,"content",{},()=>[f("div",Xre,[f("div",{class:P(r.strengthClass),style:Re({width:s.meter?s.meter.width:""})},null,6)]),f("div",Jre,M(s.infoText),1)]),ue(e.$slots,"footer")],16,qre)):H("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],2)}function Zre(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var eoe=`
.p-password {
    position: relative;
    display: inline-flex;
}
.p-password-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-password .p-password-panel {
    min-width: 100%;
}
.p-password-meter {
    height: 10px;
}
.p-password-strength {
    height: 100%;
    width: 0;
    transition: width 1s ease-in-out;
}
.p-fluid .p-password {
    display: flex;
}
.p-password-input::-ms-reveal,
.p-password-input::-ms-clear {
    display: none;
}
`;Zre(eoe);EQ.render=Yre;var __={name:"Divider",props:{align:{type:String,default:null},layout:{type:String,default:"horizontal"},type:{type:String,default:"solid"}},computed:{containerClass(){return["p-divider p-component","p-divider-"+this.layout,"p-divider-"+this.type,{"p-divider-left":this.layout==="horizontal"&&(!this.align||this.align==="left")},{"p-divider-center":this.layout==="horizontal"&&this.align==="center"},{"p-divider-right":this.layout==="horizontal"&&this.align==="right"},{"p-divider-top":this.layout==="vertical"&&this.align==="top"},{"p-divider-center":this.layout==="vertical"&&(!this.align||this.align==="center")},{"p-divider-bottom":this.layout==="vertical"&&this.align==="bottom"}]}}};const toe=["aria-orientation"],noe={key:0,class:"p-divider-content"};function ioe(e,t,n,i,s,r){return y(),_("div",{class:P(r.containerClass),role:"separator","aria-orientation":n.layout},[e.$slots.default?(y(),_("div",noe,[ue(e.$slots,"default")])):H("",!0)],10,toe)}function soe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var roe=`
.p-divider-horizontal {
    display: flex;
    width: 100%;
    position: relative;
    align-items: center;
}
.p-divider-horizontal:before {
    position: absolute;
    display: block;
    top: 50%;
    left: 0;
    width: 100%;
    content: '';
}
.p-divider-horizontal.p-divider-left {
    justify-content: flex-start;
}
.p-divider-horizontal.p-divider-right {
    justify-content: flex-end;
}
.p-divider-horizontal.p-divider-center {
    justify-content: center;
}
.p-divider-content {
    z-index: 1;
}
.p-divider-vertical {
    min-height: 100%;
    margin: 0 1rem;
    display: flex;
    position: relative;
    justify-content: center;
}
.p-divider-vertical:before {
    position: absolute;
    display: block;
    top: 0;
    left: 50%;
    height: 100%;
    content: '';
}
.p-divider-vertical.p-divider-top {
    align-items: flex-start;
}
.p-divider-vertical.p-divider-center {
    align-items: center;
}
.p-divider-vertical.p-divider-bottom {
    align-items: flex-end;
}
.p-divider-solid.p-divider-horizontal:before {
    border-top-style: solid;
}
.p-divider-solid.p-divider-vertical:before {
    border-left-style: solid;
}
.p-divider-dashed.p-divider-horizontal:before {
    border-top-style: dashed;
}
.p-divider-dashed.p-divider-vertical:before {
    border-left-style: dashed;
}
.p-divider-dotted.p-divider-horizontal:before {
    border-top-style: dotted;
}
.p-divider-dotted.p-divider-vertical:before {
    border-left-style: dotted;
}
`;soe(roe);__.render=ioe;const ooe={name:"Register",components:{InputText:ki,Password:EQ,Button:Lt,Divider:__},data(){return{firstName:null,firstNameInvalid:null,lastName:null,lastNameInvalid:null,email:null,emailInvalid:null,password:null,passwordInvalid:null,institution:null,institutionInvalid:null,registerErrorMsg:null,user:null}},methods:{async register(){if(this.registerErrorMsg=null,!this.firstName){console.log("ERROR: Invalid first name"),this.firstNameInvalid=!0;return}if(this.firstNameInvalid=!1,!this.lastName){console.log("ERROR: Invalid last name"),this.lastNameInvalid=!0;return}this.lastNameInvalid=!1;const e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!this.email||!this.email.match(e)){console.log("ERROR: Invalid email"),this.emailInvalid=!0;return}if(this.emailInvalid=!1,this.institution&&this.institution.length>100){console.log("ERROR: Institution name too long"),this.institutionInvalid=!0;return}this.institutionInvalid=!1;const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/;if(!this.password||!this.password.match(t)){console.log("ERROR: Invalid password"),this.passwordInvalid=!0;return}this.passwordInvalid=!1,console.log("Passed validation");const n=Eo(),s=(await IK(n,this.email,this.password).catch(r=>{const o=error.code,a=error.message;if(console.log("Error creating user: ",a),o=="auth/email-already-in-use"){this.registerErrorMsg="Account already in use.";return}})).user.uid;vi($t,"users",s),await zN(vi($t,"users",s),{firstName:this.firstName,lastName:this.lastName,email:this.email,institution:this.institution,admin:[],editor:[],reader:[]}).catch(r=>{console.log("Fail after await setDoc"),console.log(r)}),console.log("Successfully created new account."),this.$router.push({name:"Main"})}}},Oi=e=>(Fi("data-v-7844980d"),e=e(),Ui(),e),aoe={class:"surface-card p-4 shadow-2 border-round w-1/2 mx-auto mt-6 lg:w-6"},loe={class:"text-center my-5"},Aoe=Oi(()=>f("div",{class:"text-900 text-3xl font-medium mb-3"},"Register an account",-1)),uoe=Oi(()=>f("span",{class:"text-600 font-medium line-height-3"},"Already have an account?",-1)),coe={class:"w-11/12 mx-auto"},doe={class:"mb-3"},hoe=Oi(()=>f("label",{for:"firstName",class:"block text-900 font-medium mb-2"},"First name",-1)),foe={id:"firstName-help",class:"p-error"},poe={class:"mb-3"},goe=Oi(()=>f("label",{for:"lastName",class:"block text-900 font-medium mb-2"},"Last name",-1)),moe={id:"lastName-help",class:"p-error"},yoe={class:"mb-3"},voe=Oi(()=>f("label",{for:"email",class:"block text-900 font-medium mb-2"},"Email",-1)),woe={id:"email-help",class:"p-error"},_oe={class:"mb-3"},boe=Oi(()=>f("label",{for:"institution",class:"block text-900 font-medium mb-2"},"Institution",-1)),Boe=Oi(()=>f("small",{id:"institution-help"},"Optional",-1)),Coe={id:"institution-help-error",class:"p-error"},xoe={class:"mb-2"},Eoe=Oi(()=>f("label",{for:"password",class:"block text-900 w-full font-medium mb-2"},"Password",-1)),Ioe=Oi(()=>f("h6",null,"Pick a password",-1)),Soe=Oi(()=>f("p",{class:"mt-2"},"Suggestions",-1)),Foe=Oi(()=>f("ul",{class:"pl-2 ml-2 mt-0",style:{"line-height":"1.5"}},[f("li",null,"At least one lowercase"),f("li",null,"At least one uppercase"),f("li",null,"At least one numeric"),f("li",null,"Minimum 8 characters")],-1)),Uoe={id:"password-help",class:"p-error"};function Toe(e,t,n,i,s,r){const o=N("router-link"),a=N("InputText"),l=N("Divider"),A=N("Password"),u=N("Button");return y(),_("div",aoe,[f("div",loe,[Aoe,uoe,b(o,{to:"/login",class:"font-medium no-underline ml-2 text-blue-500 cursor-pointer"},{default:O(()=>[he(" Login ")]),_:1})]),f("div",coe,[f("div",doe,[hoe,b(a,{id:"firstName",modelValue:s.firstName,"onUpdate:modelValue":t[0]||(t[0]=c=>s.firstName=c),type:"text",class:P(["w-full mb-2",{"p-invalid":s.firstNameInvalid}])},null,8,["modelValue","class"]),re(f("small",foe,"Invalid first name",512),[[xe,s.firstNameInvalid]])]),f("div",poe,[goe,b(a,{id:"lastName",modelValue:s.lastName,"onUpdate:modelValue":t[1]||(t[1]=c=>s.lastName=c),type:"text",class:P(["w-full mb-2",{"p-invalid":s.lastNameInvalid}])},null,8,["modelValue","class"]),re(f("small",moe,"Invalid last name",512),[[xe,s.lastNameInvalid]])]),f("div",yoe,[voe,b(a,{id:"email",modelValue:s.email,"onUpdate:modelValue":t[2]||(t[2]=c=>s.email=c),type:"text",class:P(["w-full mb-2",{"p-invalid":s.emailInvalid}])},null,8,["modelValue","class"]),re(f("small",woe,"Invalid email address",512),[[xe,s.emailInvalid]])]),f("div",_oe,[boe,Boe,b(a,{id:"institution",modelValue:s.institution,"onUpdate:modelValue":t[3]||(t[3]=c=>s.institution=c),type:"text",class:P(["w-full mb-2",{"p-invalid":s.institutionInvalid}])},null,8,["modelValue","class"]),re(f("small",Coe,"Invalid institution",512),[[xe,s.institutionInvalid]])]),f("div",xoe,[Eoe,b(A,{id:"password",class:P(["w-full mb-3",{"p-invalid":s.passwordInvalid}]),inputClass:"w-full",modelValue:s.password,"onUpdate:modelValue":t[4]||(t[4]=c=>s.password=c),toggleMask:"",onKeyup:Bi(r.register,["enter"])},{header:O(()=>[Ioe]),footer:O(c=>[he(M(c.level)+" ",1),b(l),Soe,Foe]),_:1},8,["class","modelValue","onKeyup"]),re(f("small",Uoe,"Invalid password",512),[[xe,s.passwordInvalid]])]),re(f("div",{class:"error"},M(s.registerErrorMsg),513),[[xe,s.registerErrorMsg]]),b(u,{label:"Register",icon:"pi pi-user",class:"w-full",onClick:r.register,onKeyup:Bi(r.register,["enter"])},null,8,["onClick","onKeyup"])])])}var koe=Bt(ooe,[["render",Toe],["__scopeId","data-v-7844980d"]]);const Qoe={};function Loe(e,t,n,i,s,r){return y(),_("div",null," User page ")}var Ooe=Bt(Qoe,[["render",Loe]]),b_={name:"Textarea",emits:["update:modelValue"],props:{modelValue:null,autoResize:Boolean},mounted(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize(){const e=window.getComputedStyle(this.$el);this.$el.style.height="auto",this.$el.style.height=`calc(${e.borderTopWidth} + ${e.borderBottomWidth} + ${this.$el.scrollHeight}px)`,parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled(){return this.modelValue!=null&&this.modelValue.toString().length>0}}};const Roe=["value"];function Doe(e,t,n,i,s,r){return y(),_("textarea",{class:P(["p-inputtextarea p-inputtext p-component",{"p-filled":r.filled,"p-inputtextarea-resizable ":n.autoResize}]),value:n.modelValue,onInput:t[0]||(t[0]=(...o)=>r.onInput&&r.onInput(...o))},null,42,Roe)}function Moe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Poe=`
.p-inputtextarea-resizable {
    overflow: hidden;
    resize: none;
}
.p-fluid .p-inputtextarea {
    width: 100%;
}
`;Moe(Poe);b_.render=Doe;var fl={name:"Dialog",inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragend"],props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},rtl:{type:Boolean,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:String,default:"body"},closeIcon:{type:String,default:"pi pi-times"},maximizeIcon:{type:String,default:"pi pi-window-maximize"},minimizeIcon:{type:String,default:"pi pi-window-minimize"},closeButtonProps:{type:null,default:null},_instance:null},provide(){return{dialogRef:it(()=>this._instance)}},data(){return{containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,updated(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&st.clear(this.mask),this.container=null,this.mask=null},mounted(){this.breakpoints&&this.createStyle()},methods:{close(){this.$emit("update:visible",!1)},onBeforeEnter(e){e.setAttribute(this.attributeSelector,"")},onEnter(){this.$emit("show"),this.focus(),this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&st.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onBeforeLeave(){this.modal&&I.addClass(this.mask,"p-component-overlay-leave")},onLeave(){this.$emit("hide"),this.focusableClose=null,this.focusableMax=null},onAfterLeave(){this.autoZIndex&&st.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskClick(e){this.dismissableMask&&this.modal&&this.mask===e.target&&this.close()},focus(){const e=n=>n.querySelector("[autofocus]");let t=this.$slots.footer&&e(this.footerContainer);t||(t=this.$slots.header&&e(this.headerContainer),t||(t=this.$slots.default&&e(this.content),t||(this.maximizable?(this.focusableMax=!0,t=this.maximizableButton):(this.focusableClose=!0,t=this.closeButton)))),t&&I.focus(t)},maximize(e){this.maximized?(this.maximized=!1,this.$emit("unmaximize",e)):(this.maximized=!0,this.$emit("maximize",e)),this.modal||(this.maximized?I.addClass(document.body,"p-overflow-hidden"):I.removeClass(document.body,"p-overflow-hidden"))},enableDocumentSettings(){(this.modal||this.maximizable&&this.maximized)&&I.addClass(document.body,"p-overflow-hidden")},unbindDocumentState(){(this.modal||this.maximizable&&this.maximized)&&I.removeClass(document.body,"p-overflow-hidden")},onKeyDown(e){e.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},getPositionClass(){const t=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(n=>n===this.position);return t?`p-dialog-${t}`:""},containerRef(e){this.container=e},maskRef(e){this.mask=e},contentRef(e){this.content=e},headerContainerRef(e){this.headerContainer=e},footerContainerRef(e){this.footerContainer=e},maximizableRef(e){this.maximizableButton=e},closeButtonRef(e){this.closeButton=e},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-dialog[${this.attributeSelector}] {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag(e){I.hasClass(e.target,"p-dialog-header-icon")||I.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",I.addClass(document.body,"p-unselectable-text"))},bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener(){this.documentDragListener=e=>{if(this.dragging){let t=I.getOuterWidth(this.container),n=I.getOuterHeight(this.container),i=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,r=this.container.getBoundingClientRect(),o=r.left+i,a=r.top+s,l=I.getViewport();this.container.style.position="fixed",this.keepInViewport?(o>=this.minX&&o+t<l.width&&(this.lastPageX=e.pageX,this.container.style.left=o+"px"),a>=this.minY&&a+n<l.height&&(this.lastPageY=e.pageY,this.container.style.top=a+"px")):(this.lastPageX=e.pageX,this.container.style.left=o+"px",this.lastPageY=e.pageY,this.container.style.top=a+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener(){this.documentDragEndListener=e=>{this.dragging&&(this.dragging=!1,I.removeClass(document.body,"p-unselectable-text"),this.$emit("dragend",e))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maskClass(){return["p-dialog-mask",{"p-component-overlay p-component-overlay-enter":this.modal},this.getPositionClass()]},dialogClass(){return["p-dialog p-component",{"p-dialog-rtl":this.rtl,"p-dialog-maximized":this.maximizable&&this.maximized,"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},maximizeIconClass(){return["p-dialog-header-maximize-icon",{[this.maximizeIcon]:!this.maximized,[this.minimizeIcon]:this.maximized}]},ariaId(){return _t()},ariaLabelledById(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.ariaId+"_header":null},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},attributeSelector(){return _t()},contentStyleClass(){return["p-dialog-content",this.contentClass]}},directives:{ripple:bt,focustrap:gw},components:{Portal:es}};const Hoe=["aria-labelledby","aria-modal"],Noe=["id"],Koe={class:"p-dialog-header-icons"},Voe=["autofocus","tabindex"],$oe=["autofocus","aria-label"];function Goe(e,t,n,i,s,r){const o=N("Portal"),a=pt("ripple"),l=pt("focustrap");return y(),ee(o,{appendTo:n.appendTo},{default:O(()=>[s.containerVisible?(y(),_("div",{key:0,ref:r.maskRef,class:P(r.maskClass),onClick:t[3]||(t[3]=(...A)=>r.onMaskClick&&r.onMaskClick(...A))},[b(Dn,{name:"p-dialog",onBeforeEnter:r.onBeforeEnter,onEnter:r.onEnter,onBeforeLeave:r.onBeforeLeave,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave,appear:""},{default:O(()=>[n.visible?re((y(),_("div",Ue({key:0,ref:r.containerRef,class:r.dialogClass,role:"dialog","aria-labelledby":r.ariaLabelledById,"aria-modal":n.modal},e.$attrs),[n.showHeader?(y(),_("div",{key:0,ref:r.headerContainerRef,class:"p-dialog-header",onMousedown:t[2]||(t[2]=(...A)=>r.initDrag&&r.initDrag(...A))},[ue(e.$slots,"header",{},()=>[n.header?(y(),_("span",{key:0,id:r.ariaLabelledById,class:"p-dialog-title"},M(n.header),9,Noe)):H("",!0)]),f("div",Koe,[n.maximizable?re((y(),_("button",{key:0,ref:r.maximizableRef,autofocus:s.focusableMax,class:"p-dialog-header-icon p-dialog-header-maximize p-link",onClick:t[0]||(t[0]=(...A)=>r.maximize&&r.maximize(...A)),type:"button",tabindex:n.maximizable?"0":"-1"},[f("span",{class:P(r.maximizeIconClass)},null,2)],8,Voe)),[[a]]):H("",!0),n.closable?re((y(),_("button",Ue({key:1,ref:r.closeButtonRef,autofocus:s.focusableClose,class:"p-dialog-header-icon p-dialog-header-close p-link",onClick:t[1]||(t[1]=(...A)=>r.close&&r.close(...A)),"aria-label":r.closeAriaLabel,type:"button"},n.closeButtonProps),[f("span",{class:P(["p-dialog-header-close-icon",n.closeIcon])},null,2)],16,$oe)),[[a]]):H("",!0)])],544)):H("",!0),f("div",Ue({ref:r.contentRef,class:r.contentStyleClass,style:n.contentStyle},n.contentProps),[ue(e.$slots,"default")],16),n.footer||e.$slots.footer?(y(),_("div",{key:1,ref:r.footerContainerRef,class:"p-dialog-footer"},[ue(e.$slots,"footer",{},()=>[he(M(n.footer),1)])],512)):H("",!0)],16,Hoe)),[[l,{disabled:!n.modal}]]):H("",!0)]),_:3},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave","onAfterLeave"])],2)):H("",!0)]),_:3},8,["appendTo"])}function zoe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var joe=`
.p-dialog-mask {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    pointer-events: none;
}
.p-dialog-mask.p-component-overlay {
    pointer-events: auto;
}
.p-dialog {
    display: flex;
    flex-direction: column;
    pointer-events: auto;
    max-height: 90%;
    transform: scale(1);
}
.p-dialog-content {
    overflow-y: auto;
}
.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
}
.p-dialog-footer {
    flex-shrink: 0;
}
.p-dialog .p-dialog-header-icons {
    display: flex;
    align-items: center;
}
.p-dialog .p-dialog-header-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}

/* Fluid */
.p-fluid .p-dialog-footer .p-button {
    width: auto;
}

/* Animation */
/* Center */
.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}
.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}
.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

/* Top, Bottom, Left, Right, Top* and Bottom* */
.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}
.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}
.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}
.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}
.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}
.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

/* Maximize */
.p-dialog-maximized {
    -webkit-transition: none;
    transition: none;
    transform: none;
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
}
.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}

/* Position */
.p-dialog-left {
    justify-content: flex-start;
}
.p-dialog-right {
    justify-content: flex-end;
}
.p-dialog-top {
    align-items: flex-start;
}
.p-dialog-topleft {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-dialog-topright {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-dialog-bottom {
    align-items: flex-end;
}
.p-dialog-bottomleft {
    justify-content: flex-start;
    align-items: flex-end;
}
.p-dialog-bottomright {
    justify-content: flex-end;
    align-items: flex-end;
}
.p-confirm-dialog .p-dialog-content {
    display: flex;
    align-items: center;
}
`;zoe(joe);fl.render=Goe;var B_={name:"MultiSelect",emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:String,default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:"pi pi-check"},closeIcon:{type:String,default:"pi pi-times"},dropdownIcon:{type:String,default:"pi pi-chevron-down"},filterIcon:{type:String,default:"pi pi-search"},loadingIcon:{type:String,default:"pi pi-spinner pi-spin"},removeTokenIcon:{type:String,default:"pi pi-times-circle"},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!0},autoFilterFocus:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},"aria-label":{type:String,default:null},"aria-labelledby":{type:String,default:null}},outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,focusOnHover:!1,data(){return{id:this.$attrs.id,focused:!1,focusedOptionIndex:-1,headerCheckboxFocused:!1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||_t()},options(){this.autoUpdateModel()}},mounted(){this.id=this.id||_t(),this.autoUpdateModel()},beforeUnmount(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(st.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t(e).index},getOptionLabel(e){return this.optionLabel?$.resolveFieldData(e,this.optionLabel):e},getOptionValue(e){return this.optionValue?$.resolveFieldData(e,this.optionValue):e},getOptionRenderKey(e){return this.dataKey?$.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},isOptionDisabled(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?$.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel(e){return $.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren(e){return $.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1},show(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&I.focus(this.$refs.focusInput)},hide(e){const t=()=>{this.$emit("before-hide"),this.overlayVisible=!1,this.focusedOptionIndex=-1,this.searchValue="",this.resetFilterOnHide&&(this.filterValue=null),e&&I.focus(this.$refs.focusInput)};setTimeout(()=>{t()},0)},onFocus(e){this.disabled||(this.focused=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.overlayVisible&&this.scrollInView(this.focusedOptionIndex),this.$emit("focus",e))},onBlur(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown(e){if(this.disabled){e.preventDefault();return}const t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&t){const n=this.visibleOptions.filter(i=>this.isValidOption(i)).map(i=>this.getOptionValue(i));this.updateModel(e,n),e.preventDefault();break}!t&&$.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}},onContainerClick(e){this.disabled||this.loading||(!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0))},onFirstHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?I.getFirstFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;I.focus(t)},onLastHiddenFocus(e){const t=e.relatedTarget===this.$refs.focusInput?I.getLastFocusableElement(this.overlay,":not(.p-hidden-focusable)"):this.$refs.focusInput;I.focus(t)},onCloseClick(){this.hide(!0)},onHeaderCheckboxFocus(){this.headerCheckboxFocused=!0},onHeaderCheckboxBlur(){this.headerCheckboxFocused=!1},onOptionSelect(e,t,n=-1,i=!1){if(this.disabled||this.isOptionDisabled(t))return;let s=this.isSelected(t),r=null;s?r=this.modelValue.filter(o=>!$.equals(o,this.getOptionValue(t),this.equalityKey)):r=[...this.modelValue||[],this.getOptionValue(t)],this.updateModel(e,r),n!==-1&&(this.focusedOptionIndex=n),i&&I.focus(this.$refs.focusInput)},onOptionMouseMove(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)},onOptionSelectRange(e,t=-1,n=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(n,!0)),n===-1&&(n=this.findNearestSelectedOptionIndex(t)),t!==-1&&n!==-1){const i=Math.min(t,n),s=Math.max(t,n),r=this.visibleOptions.slice(i,s+1).filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(e,r)}},onFilterChange(e){const t=e.target.value;this.filterValue=t,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:t}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur(){this.focusedOptionIndex=-1},onFilterUpdated(){this.overlayVisible&&this.alignOverlay()},onOverlayClick(e){hn.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey(e){const t=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,t),this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault()},onArrowUpKey(e,t=!1){if(e.altKey&&!t)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{const n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,n,this.startRangeIndex),this.changeFocusedOptionIndex(e,n),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey(e,t=!1){t&&(this.focusedOptionIndex=-1)},onHomeKey(e,t=!1){const{currentTarget:n}=e;if(t){const i=n.value.length;n.setSelectionRange(0,e.shiftKey?i:0),this.focusedOptionIndex=-1}else{let i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey(e,t=!1){const{currentTarget:n}=e;if(t){const i=n.value.length;n.setSelectionRange(e.shiftKey?0:i,i),this.focusedOptionIndex=-1}else{let i=e.metaKey||e.ctrlKey,s=this.findLastOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,this.startRangeIndex,s),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey(e){this.scrollInView(0),e.preventDefault()},onPageDownKey(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):this.onArrowDownKey(e),e.preventDefault()},onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey(e,t=!1){t||(this.overlayVisible&&this.hasFocusableElements()?(I.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter(e){st.set("overlay",e,this.$primevue.config.zIndex.overlay),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&I.focus(this.$refs.filterInput)},onOverlayAfterEnter(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave(e){st.clear(e)},alignOverlay(){this.appendTo==="self"?I.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=I.getOuterWidth(this.$el)+"px",I.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=e=>{this.overlayVisible&&this.isOutsideClicked(e)&&this.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Io(this.$refs.container,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&!I.isTouchDevice()&&this.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue(e){const n=(this.optionGroupLabel?this.flatOptions(this.options):this.options||[]).find(i=>!this.isOptionGroup(i)&&$.equals(this.getOptionValue(i),e,this.equalityKey));return n?this.getOptionLabel(n):null},getSelectedItemsLabel(){let e=/{(.*?)}/;return e.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(e)[0],this.modelValue.length+""):this.selectedItemsLabel},onToggleAll(e){if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{const t=this.allSelected?[]:this.visibleOptions.filter(n=>this.isValidOption(n)).map(n=>this.getOptionValue(n));this.updateModel(e,t)}this.headerCheckboxFocused=!0},removeOption(e,t){let n=this.modelValue.filter(i=>!$.equals(i,t,this.equalityKey));this.updateModel(e,n)},clearFilter(){this.filterValue=null},hasFocusableElements(){return I.getFocusableElements(this.overlay,":not(.p-hidden-focusable)").length>0},isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))},isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected(e){const t=this.getOptionValue(e);return(this.modelValue||[]).some(n=>$.equals(n,t,this.equalityKey))},findFirstOptionIndex(){return this.visibleOptions.findIndex(e=>this.isValidOption(e))},findLastOptionIndex(){return $.findLastIndex(this.visibleOptions,e=>this.isValidOption(e))},findNextOptionIndex(e){const t=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return t>-1?t+e+1:e},findPrevOptionIndex(e){const t=e>0?$.findLastIndex(this.visibleOptions.slice(0,e),n=>this.isValidOption(n)):-1;return t>-1?t:e},findFirstSelectedOptionIndex(){return this.hasSelectedOption?this.visibleOptions.findIndex(e=>this.isValidSelectedOption(e)):-1},findLastSelectedOptionIndex(){return this.hasSelectedOption?$.findLastIndex(this.visibleOptions,e=>this.isValidSelectedOption(e)):-1},findNextSelectedOptionIndex(e){const t=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(n=>this.isValidSelectedOption(n)):-1;return t>-1?t+e+1:-1},findPrevSelectedOptionIndex(e){const t=this.hasSelectedOption&&e>0?$.findLastIndex(this.visibleOptions.slice(0,e),n=>this.isValidSelectedOption(n)):-1;return t>-1?t:-1},findNearestSelectedOptionIndex(e,t=!1){let n=-1;return this.hasSelectedOption&&(t?(n=this.findPrevSelectedOptionIndex(e),n=n===-1?this.findNextSelectedOptionIndex(e):n):(n=this.findNextSelectedOptionIndex(e),n=n===-1?this.findPrevSelectedOptionIndex(e):n)),n>-1?n:e},findFirstFocusedOptionIndex(){const e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex(){const e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions(e){this.searchValue=(this.searchValue||"")+e.key;let t=-1;this.focusedOptionIndex!==-1?(t=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(n=>this.isOptionMatched(n)),t=t===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(n=>this.isOptionMatched(n)):t+this.focusedOptionIndex):t=this.visibleOptions.findIndex(n=>this.isOptionMatched(n)),t===-1&&this.focusedOptionIndex===-1&&(t=this.findFirstFocusedOptionIndex()),t!==-1&&this.changeFocusedOptionIndex(e,t),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500)},changeFocusedOptionIndex(e,t){this.focusedOptionIndex!==t&&(this.focusedOptionIndex=t,this.scrollInView())},scrollInView(e=-1){const t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,n=I.findSingle(this.list,`li[id="${t}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroller&&this.virtualScroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex)},autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();const e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel(e,t){this.$emit("update:modelValue",t),this.$emit("change",{originalEvent:e,value:t})},flatOptions(e){return(e||[]).reduce((t,n,i)=>{t.push({optionGroup:n,group:!0,index:i});const s=this.getOptionGroupChildren(n);return s&&s.forEach(r=>t.push(r)),t},[])},overlayRef(e){this.overlay=e},listRef(e,t){this.list=e,t&&t(e)},virtualScrollerRef(e){this.virtualScroller=e}},computed:{containerClass(){return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":this.display==="chip","p-disabled":this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue&&this.modelValue.length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}]},labelClass(){return["p-multiselect-label",{"p-placeholder":this.label===this.placeholder,"p-multiselect-label-empty":!this.placeholder&&(!this.modelValue||this.modelValue.length===0)}]},dropdownIconClass(){return["p-multiselect-trigger-icon",this.loading?this.loadingIcon:this.dropdownIcon]},panelStyleClass(){return["p-multiselect-panel p-component",this.panelClass,{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},headerCheckboxClass(){return["p-checkbox p-component",{"p-checkbox-checked":this.allSelected,"p-checkbox-focused":this.headerCheckboxFocused}]},visibleOptions(){const e=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){const t=eh.filter(e,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){const n=this.options||[],i=[];return n.forEach(s=>{const o=this.getOptionGroupChildren(s).filter(a=>t.includes(a));o.length>0&&i.push({...s,[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...o]})}),this.flatOptions(i)}return t}return e},label(){let e;if(this.modelValue&&this.modelValue.length){if($.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let t=0;t<this.modelValue.length;t++)t!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[t])}else e=this.placeholder;return e},chipSelectedItems(){return $.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected(){return this.selectAll!==null?this.selectAll:$.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))},hasSelectedOption(){return $.isNotEmpty(this.modelValue)},equalityKey(){return this.optionValue?null:this.dataKey},searchFields(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText(){return $.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId(){return this.focusedOptionIndex!==-1?`${this.id}_${this.focusedOptionIndex}`:null},ariaSetSize(){return this.visibleOptions.filter(e=>!this.isOptionGroup(e)).length},toggleAllAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},virtualScrollerDisabled(){return!this.virtualScrollerOptions}},directives:{ripple:bt},components:{VirtualScroller:Fu,Portal:es}};const Woe={class:"p-hidden-accessible"},qoe=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant"],Xoe={class:"p-multiselect-label-container"},Joe={class:"p-multiselect-token-label"},Yoe=["onClick"],Zoe={class:"p-multiselect-trigger"},eae={key:0,class:"p-multiselect-header"},tae={class:"p-hidden-accessible"},nae=["checked","aria-label"],iae={key:1,class:"p-multiselect-filter-container"},sae=["value","placeholder","aria-owns","aria-activedescendant"],rae={key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},oae=["aria-label"],aae=["id"],lae=["id"],Aae=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove"],uae={class:"p-checkbox p-component"},cae={key:0,class:"p-multiselect-empty-message",role:"option"},dae={key:1,class:"p-multiselect-empty-message",role:"option"},hae={key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},fae={role:"status","aria-live":"polite",class:"p-hidden-accessible"};function pae(e,t,n,i,s,r){const o=N("VirtualScroller"),a=N("Portal"),l=pt("ripple");return y(),_("div",{ref:"container",class:P(r.containerClass),onClick:t[15]||(t[15]=(...A)=>r.onContainerClick&&r.onContainerClick(...A))},[f("div",Woe,[f("input",Ue({ref:"focusInput",id:n.inputId,type:"text",readonly:"",disabled:n.disabled,placeholder:n.placeholder,tabindex:n.disabled?-1:n.tabindex,role:"combobox","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":s.overlayVisible,"aria-controls":s.id+"_list","aria-activedescendant":s.focused?r.focusedOptionId:void 0,onFocus:t[0]||(t[0]=(...A)=>r.onFocus&&r.onFocus(...A)),onBlur:t[1]||(t[1]=(...A)=>r.onBlur&&r.onBlur(...A)),onKeydown:t[2]||(t[2]=(...A)=>r.onKeyDown&&r.onKeyDown(...A))},n.inputProps),null,16,qoe)]),f("div",Xoe,[f("div",{class:P(r.labelClass)},[ue(e.$slots,"value",{value:n.modelValue,placeholder:n.placeholder},()=>[n.display==="comma"?(y(),_(J,{key:0},[he(M(r.label||"empty"),1)],64)):n.display==="chip"?(y(),_(J,{key:1},[(y(!0),_(J,null,be(r.chipSelectedItems,A=>(y(),_("div",{key:r.getLabelByValue(A),class:"p-multiselect-token"},[ue(e.$slots,"chip",{value:A},()=>[f("span",Joe,M(r.getLabelByValue(A)),1)]),n.disabled?H("",!0):(y(),_("span",{key:0,class:P(["p-multiselect-token-icon",n.removeTokenIcon]),onClick:Jh(u=>r.removeOption(u,A),["stop"])},null,10,Yoe))]))),128)),!n.modelValue||n.modelValue.length===0?(y(),_(J,{key:0},[he(M(n.placeholder||"empty"),1)],64)):H("",!0)],64)):H("",!0)])],2)]),f("div",Zoe,[ue(e.$slots,"indicator",{},()=>[f("span",{class:P(r.dropdownIconClass),"aria-hidden":"true"},null,2)])]),b(a,{appendTo:n.appendTo},{default:O(()=>[b(Dn,{name:"p-connected-overlay",onEnter:r.onOverlayEnter,onAfterEnter:r.onOverlayAfterEnter,onLeave:r.onOverlayLeave,onAfterLeave:r.onOverlayAfterLeave},{default:O(()=>[s.overlayVisible?(y(),_("div",Ue({key:0,ref:r.overlayRef,style:n.panelStyle,class:r.panelStyleClass,onClick:t[13]||(t[13]=(...A)=>r.onOverlayClick&&r.onOverlayClick(...A)),onKeydown:t[14]||(t[14]=(...A)=>r.onOverlayKeyDown&&r.onOverlayKeyDown(...A))},n.panelProps),[f("span",{ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[3]||(t[3]=(...A)=>r.onFirstHiddenFocus&&r.onFirstHiddenFocus(...A))},null,544),ue(e.$slots,"header",{value:n.modelValue,options:r.visibleOptions}),n.showToggleAll&&n.selectionLimit==null||n.filter?(y(),_("div",eae,[n.showToggleAll&&n.selectionLimit==null?(y(),_("div",{key:0,class:P(r.headerCheckboxClass),onClick:t[6]||(t[6]=(...A)=>r.onToggleAll&&r.onToggleAll(...A))},[f("div",tae,[f("input",{type:"checkbox",readonly:"",checked:r.allSelected,"aria-label":r.toggleAllAriaLabel,onFocus:t[4]||(t[4]=(...A)=>r.onHeaderCheckboxFocus&&r.onHeaderCheckboxFocus(...A)),onBlur:t[5]||(t[5]=(...A)=>r.onHeaderCheckboxBlur&&r.onHeaderCheckboxBlur(...A))},null,40,nae)]),f("div",{class:P(["p-checkbox-box",{"p-highlight":r.allSelected,"p-focus":s.headerCheckboxFocused}])},[f("span",{class:P(["p-checkbox-icon",{[n.checkboxIcon]:r.allSelected}])},null,2)],2)],2)):H("",!0),n.filter?(y(),_("div",iae,[f("input",Ue({ref:"filterInput",type:"text",value:s.filterValue,onVnodeUpdated:t[7]||(t[7]=(...A)=>r.onFilterUpdated&&r.onFilterUpdated(...A)),class:"p-multiselect-filter p-inputtext p-component",placeholder:n.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":s.id+"_list","aria-activedescendant":r.focusedOptionId,onKeydown:t[8]||(t[8]=(...A)=>r.onFilterKeyDown&&r.onFilterKeyDown(...A)),onBlur:t[9]||(t[9]=(...A)=>r.onFilterBlur&&r.onFilterBlur(...A)),onInput:t[10]||(t[10]=(...A)=>r.onFilterChange&&r.onFilterChange(...A))},n.filterInputProps),null,16,sae),f("span",{class:P(["p-multiselect-filter-icon",n.filterIcon])},null,2)])):H("",!0),n.filter?(y(),_("span",rae,M(r.filterResultMessageText),1)):H("",!0),re((y(),_("button",Ue({class:"p-multiselect-close p-link","aria-label":r.closeAriaLabel,onClick:t[11]||(t[11]=(...A)=>r.onCloseClick&&r.onCloseClick(...A)),type:"button"},n.closeButtonProps),[f("span",{class:P(["p-multiselect-close-icon",n.closeIcon])},null,2)],16,oae)),[[l]])])):H("",!0),f("div",{class:"p-multiselect-items-wrapper",style:Re({"max-height":r.virtualScrollerDisabled?n.scrollHeight:""})},[b(o,Ue({ref:r.virtualScrollerRef},n.virtualScrollerOptions,{items:r.visibleOptions,style:{height:n.scrollHeight},tabindex:-1,disabled:r.virtualScrollerDisabled}),gA({content:O(({styleClass:A,contentRef:u,items:c,getItemOptions:d,contentStyle:h,itemSize:p})=>[f("ul",{ref:m=>r.listRef(m,u),id:s.id+"_list",class:P(["p-multiselect-items p-component",A]),style:Re(h),role:"listbox","aria-multiselectable":"true"},[(y(!0),_(J,null,be(c,(m,g)=>(y(),_(J,{key:r.getOptionRenderKey(m,r.getOptionIndex(g,d))},[r.isOptionGroup(m)?(y(),_("li",{key:0,id:s.id+"_"+r.getOptionIndex(g,d),style:Re({height:p?p+"px":void 0}),class:"p-multiselect-item-group",role:"option"},[ue(e.$slots,"optiongroup",{option:m.optionGroup,index:r.getOptionIndex(g,d)},()=>[he(M(r.getOptionGroupLabel(m.optionGroup)),1)])],12,lae)):re((y(),_("li",{key:1,id:s.id+"_"+r.getOptionIndex(g,d),style:Re({height:p?p+"px":void 0}),class:P(["p-multiselect-item",{"p-highlight":r.isSelected(m),"p-focus":s.focusedOptionIndex===r.getOptionIndex(g,d),"p-disabled":r.isOptionDisabled(m)}]),role:"option","aria-label":r.getOptionLabel(m),"aria-selected":r.isSelected(m),"aria-disabled":r.isOptionDisabled(m),"aria-setsize":r.ariaSetSize,"aria-posinset":r.getAriaPosInset(r.getOptionIndex(g,d)),onClick:w=>r.onOptionSelect(w,m,r.getOptionIndex(g,d),!0),onMousemove:w=>r.onOptionMouseMove(w,r.getOptionIndex(g,d))},[f("div",uae,[f("div",{class:P(["p-checkbox-box",{"p-highlight":r.isSelected(m)}])},[f("span",{class:P(["p-checkbox-icon",{[n.checkboxIcon]:r.isSelected(m)}])},null,2)],2)]),ue(e.$slots,"option",{option:m,index:r.getOptionIndex(g,d)},()=>[f("span",null,M(r.getOptionLabel(m)),1)])],46,Aae)),[[l]])],64))),128)),s.filterValue&&(!c||c&&c.length===0)?(y(),_("li",cae,[ue(e.$slots,"emptyfilter",{},()=>[he(M(r.emptyFilterMessageText),1)])])):!n.options||n.options&&n.options.length===0?(y(),_("li",dae,[ue(e.$slots,"empty",{},()=>[he(M(r.emptyMessageText),1)])])):H("",!0)],14,aae)]),_:2},[e.$slots.loader?{name:"loader",fn:O(({options:A})=>[ue(e.$slots,"loader",{options:A})]),key:"0"}:void 0]),1040,["items","style","disabled"])],4),ue(e.$slots,"footer",{value:n.modelValue,options:r.visibleOptions}),!n.options||n.options&&n.options.length===0?(y(),_("span",hae,M(r.emptyMessageText),1)):H("",!0),f("span",fae,M(r.selectedMessageText),1),f("span",{ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:t[12]||(t[12]=(...A)=>r.onLastHiddenFocus&&r.onLastHiddenFocus(...A))},null,544)],16)):H("",!0)]),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])],2)}function gae(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var mae=`
.p-multiselect {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
}
.p-multiselect-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}
.p-multiselect-label-container {
    overflow: hidden;
    flex: 1 1 auto;
    cursor: pointer;
}
.p-multiselect-label {
    display: block;
    white-space: nowrap;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;
}
.p-multiselect-label-empty {
    overflow: hidden;
    visibility: hidden;
}
.p-multiselect-token {
    cursor: default;
    display: inline-flex;
    align-items: center;
    flex: 0 0 auto;
}
.p-multiselect-token-icon {
    cursor: pointer;
}
.p-multiselect .p-multiselect-panel {
    min-width: 100%;
}
.p-multiselect-panel {
    position: absolute;
    top: 0;
    left: 0;
}
.p-multiselect-items-wrapper {
    overflow: auto;
}
.p-multiselect-items {
    margin: 0;
    padding: 0;
    list-style-type: none;
}
.p-multiselect-item {
    cursor: pointer;
    display: flex;
    align-items: center;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
}
.p-multiselect-item-group {
    cursor: auto;
}
.p-multiselect-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.p-multiselect-filter-container {
    position: relative;
    flex: 1 1 auto;
}
.p-multiselect-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}
.p-multiselect-filter-container .p-inputtext {
    width: 100%;
}
.p-multiselect-close {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    overflow: hidden;
    position: relative;
    margin-left: auto;
}
.p-fluid .p-multiselect {
    display: flex;
}
`;gae(mae);B_.render=pae;var IQ={name:"Message",emits:["close"],props:{severity:{type:String,default:"info"},closable:{type:Boolean,default:!0},sticky:{type:Boolean,default:!0},life:{type:Number,default:3e3},icon:{type:String,default:null},closeIcon:{type:String,default:"pi pi-times"},closeButtonProps:{type:null,default:null}},timeout:null,data(){return{visible:!0}},mounted(){this.sticky||this.x()},methods:{close(e){this.visible=!1,this.$emit("close",e)},x(){setTimeout(()=>{this.visible=!1},this.life)}},computed:{containerClass(){return"p-message p-component p-message-"+this.severity},iconClass(){return["p-message-icon pi",this.icon?this.icon:{"pi-info-circle":this.severity==="info","pi-check":this.severity==="success","pi-exclamation-triangle":this.severity==="warn","pi-times-circle":this.severity==="error"}]},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{ripple:bt}};const yae={class:"p-message-wrapper"},vae={class:"p-message-text"},wae=["aria-label"];function _ae(e,t,n,i,s,r){const o=pt("ripple");return y(),ee(Dn,{name:"p-message",appear:""},{default:O(()=>[re(f("div",{class:P(r.containerClass),role:"alert","aria-live":"assertive","aria-atomic":"true"},[f("div",yae,[f("span",{class:P(r.iconClass)},null,2),f("div",vae,[ue(e.$slots,"default")]),n.closable?re((y(),_("button",Ue({key:0,class:"p-message-close p-link","aria-label":r.closeAriaLabel,type:"button",onClick:t[0]||(t[0]=a=>r.close(a))},n.closeButtonProps),[f("i",{class:P(["p-message-close-icon",n.closeIcon])},null,2)],16,wae)),[[o]]):H("",!0)])],2),[[xe,s.visible]])]),_:3})}function bae(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Bae=`
.p-message-wrapper {
    display: flex;
    align-items: center;
}
.p-message-close {
    display: flex;
    align-items: center;
    justify-content: center;
}
.p-message-close.p-link {
    margin-left: auto;
    overflow: hidden;
    position: relative;
}
.p-message-enter-from {
    opacity: 0;
}
.p-message-enter-active {
    transition: opacity 0.3s;
}
.p-message.p-message-leave-from {
    max-height: 1000px;
}
.p-message.p-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin: 0 !important;
}
.p-message-leave-active {
    overflow: hidden;
    transition: max-height 0.3s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin 0.15s;
}
.p-message-leave-active .p-message-close {
    display: none;
}
`;bae(Bae);IQ.render=_ae;var SQ={name:"Badge",props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},computed:{containerClass(){return this.$slots.default?"p-overlay-badge":this.badgeClass},badgeClass(){return["p-badge p-component",{"p-badge-no-gutter":$.isNotEmpty(this.value)&&String(this.value).length===1,"p-badge-dot":$.isEmpty(this.value)&&!this.$slots.default,"p-badge-lg":this.size==="large","p-badge-xl":this.size==="xlarge","p-badge-info":this.severity==="info","p-badge-success":this.severity==="success","p-badge-warning":this.severity==="warning","p-badge-danger":this.severity==="danger"}]}}};function Cae(e,t,n,i,s,r){return y(),_("span",{class:P(r.badgeClass)},[ue(e.$slots,"default",{},()=>[he(M(n.value),1)])],2)}SQ.render=Cae;var FQ={emits:["remove"],props:{files:{type:Array,default:()=>[]},badgeSeverity:{type:String,default:"warning"},badgeValue:{type:String,default:null},previewWidth:{type:Number,default:50}},methods:{formatSize(e){if(e===0)return"0 B";let t=1e3,n=3,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(n))+" "+i[s]}},components:{FileUploadButton:Lt,FileUploadBadge:SQ}};const xae=["alt","src","width"],Eae={class:"p-fileupload-file-details"},Iae={class:"p-fileupload-file-name"},Sae={class:"p-fileupload-file-size"},Fae={class:"p-fileupload-file-actions"};function Uae(e,t,n,i,s,r){const o=N("FileUploadBadge"),a=N("FileUploadButton");return y(!0),_(J,null,be(n.files,(l,A)=>(y(),_("div",{key:l.name+l.type+l.size,class:"p-fileupload-file"},[f("img",{role:"presentation",class:"p-fileupload-file-thumbnail",alt:l.name,src:l.objectURL,width:n.previewWidth},null,8,xae),f("div",Eae,[f("div",Iae,M(l.name),1),f("span",Sae,M(r.formatSize(l.size)),1),b(o,{value:n.badgeValue,class:"p-fileupload-file-badge",severity:n.badgeSeverity},null,8,["value","severity"])]),f("div",Fae,[b(a,{icon:"pi pi-times",onClick:u=>e.$emit("remove",A),class:"p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])])]))),128)}FQ.render=Uae;var C_={name:"FileUpload",emits:["select","uploader","before-upload","progress","upload","error","before-send","clear","remove","remove-uploaded-file"],props:{name:{type:String,default:null},url:{type:String,default:null},mode:{type:String,default:"advanced"},multiple:{type:Boolean,default:!1},accept:{type:String,default:null},disabled:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},maxFileSize:{type:Number,default:null},invalidFileSizeMessage:{type:String,default:"{0}: Invalid file size, file size should be smaller than {1}."},invalidFileTypeMessage:{type:String,default:"{0}: Invalid file type, allowed file types: {1}."},fileLimit:{type:Number,default:null},invalidFileLimitMessage:{type:String,default:"Maximum number of files exceeded, limit is {0} at most."},withCredentials:{type:Boolean,default:!1},previewWidth:{type:Number,default:50},chooseLabel:{type:String,default:null},uploadLabel:{type:String,default:null},cancelLabel:{type:String,default:null},customUpload:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},chooseIcon:{type:String,default:"pi pi-plus"},uploadIcon:{type:String,default:"pi pi-upload"},cancelIcon:{type:String,default:"pi pi-times"},style:null,class:null},duplicateIEEvent:!1,data(){return{uploadedFileCount:0,files:[],messages:[],focused:!1,progress:null,uploadedFiles:[]}},methods:{onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.messages=[],this.files=this.files||[];let t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let n of t)this.isFileSelected(n)||this.validate(n)&&(this.isImage(n)&&(n.objectURL=window.URL.createObjectURL(n)),this.files.push(n));this.$emit("select",{originalEvent:e,files:this.files}),this.fileLimit&&this.checkFileLimit(),this.auto&&this.hasFiles&&!this.isFileLimitExceeded()&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()},choose(){this.$refs.fileInput.click()},upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("uploader",{files:this.files}),this.clear();else{let e=new XMLHttpRequest,t=new FormData;this.$emit("before-upload",{xhr:e,formData:t});for(let n of this.files)t.append(this.name,n,n.name);e.upload.addEventListener("progress",n=>{n.lengthComputable&&(this.progress=Math.round(n.loaded*100/n.total)),this.$emit("progress",{originalEvent:n,progress:this.progress})}),e.onreadystatechange=()=>{e.readyState===4&&(this.progress=0,e.status>=200&&e.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.$emit("upload",{xhr:e,files:this.files})):this.$emit("error",{xhr:e,files:this.files}),this.uploadedFiles.push(...this.files),this.clear())},e.open("POST",this.url,!0),this.$emit("before-send",{xhr:e,formData:t}),e.withCredentials=this.withCredentials,e.send(t)}},clear(){this.files=[],this.messages=null,this.$emit("clear"),this.isAdvanced&&this.clearInputElement()},onFocus(){this.focused=!0},onBlur(){this.focused=!1},isFileSelected(e){if(this.files&&this.files.length){for(let t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0}return!1},isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode},validate(e){return this.accept&&!this.isFileTypeValid(e)?(this.messages.push(this.invalidFileTypeMessage.replace("{0}",e.name).replace("{1}",this.accept)),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.messages.push(this.invalidFileSizeMessage.replace("{0}",e.name).replace("{1}",this.formatSize(this.maxFileSize))),!1):!0},isFileTypeValid(e){let t=this.accept.split(",").map(n=>n.trim());for(let n of t)if(this.isWildcard(n)?this.getTypeClass(e.type)===this.getTypeClass(n):e.type==n||this.getFileExtension(e).toLowerCase()===n.toLowerCase())return!0;return!1},getTypeClass(e){return e.substring(0,e.indexOf("/"))},isWildcard(e){return e.indexOf("*")!==-1},getFileExtension(e){return"."+e.name.split(".").pop()},isImage(e){return/^image\//.test(e.type)},onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())},onDragOver(e){this.disabled||(I.addClass(this.$refs.content,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault())},onDragLeave(){this.disabled||I.removeClass(this.$refs.content,"p-fileupload-highlight")},onDrop(e){if(!this.disabled){I.removeClass(this.$refs.content,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();const t=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||t&&t.length===1)&&this.onFileSelect(e)}},onBasicUploaderClick(){this.hasFiles?this.upload():this.$refs.fileInput.click()},remove(e){this.clearInputElement();let t=this.files.splice(e,1)[0];this.files=[...this.files],this.$emit("remove",{file:t,files:this.files})},removeUploadedFile(e){let t=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.$emit("remove-uploaded-file",{file:t,files:this.uploadedFiles})},clearInputElement(){this.$refs.fileInput.value=""},clearIEInput(){this.$refs.fileInput&&(this.duplicateIEEvent=!0,this.$refs.fileInput.value="")},formatSize(e){if(e===0)return"0 B";let t=1e3,n=3,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(n))+" "+i[s]},isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focused&&(this.focused=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount},checkFileLimit(){this.isFileLimitExceeded()&&this.messages.push(this.invalidFileLimitMessage.replace("{0}",this.fileLimit.toString()))},onMessageClose(){this.messages=null}},computed:{isAdvanced(){return this.mode==="advanced"},isBasic(){return this.mode==="basic"},advancedChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-disabled":this.disabled,"p-focus":this.focused}]},basicChooseButtonClass(){return["p-button p-component p-fileupload-choose",this.class,{"p-fileupload-choose-selected":this.hasFiles,"p-disabled":this.disabled,"p-focus":this.focused}]},advancedChooseIconClass(){return["p-button-icon p-button-icon-left pi-fw",this.chooseIcon]},basicChooseButtonIconClass(){return["p-button-icon p-button-icon-left",!this.hasFiles||this.auto?this.uploadIcon:this.chooseIcon]},basicChooseButtonLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles?this.files.map(e=>e.name).join(", "):this.chooseButtonLabel},hasFiles(){return this.files&&this.files.length>0},hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0},chooseDisabled(){return this.disabled||this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount},uploadDisabled(){return this.disabled||!this.hasFiles||this.fileLimit&&this.fileLimit<this.files.length},cancelDisabled(){return this.disabled||!this.hasFiles},chooseButtonLabel(){return this.chooseLabel||this.$primevue.config.locale.choose},uploadButtonLabel(){return this.uploadLabel||this.$primevue.config.locale.upload},cancelButtonLabel(){return this.cancelLabel||this.$primevue.config.locale.cancel},completedLabel(){return this.$primevue.config.locale.completed},pendingLabel(){return this.$primevue.config.locale.pending}},components:{FileUploadButton:Lt,FileUploadProgressBar:Pf,FileUploadMessage:IQ,FileContent:FQ},directives:{ripple:bt}};const Tae={key:0,class:"p-fileupload p-fileupload-advanced p-component"},kae=["multiple","accept","disabled"],Qae={class:"p-fileupload-buttonbar"},Lae={class:"p-button-label"},Oae={key:0,class:"p-fileupload-empty"},Rae={key:1,class:"p-fileupload p-fileupload-basic p-component"},Dae={class:"p-button-label"},Mae=["accept","disabled","multiple"];function Pae(e,t,n,i,s,r){const o=N("FileUploadButton"),a=N("FileUploadProgressBar"),l=N("FileUploadMessage"),A=N("FileContent"),u=pt("ripple");return r.isAdvanced?(y(),_("div",Tae,[f("input",{ref:"fileInput",type:"file",onChange:t[0]||(t[0]=(...c)=>r.onFileSelect&&r.onFileSelect(...c)),multiple:n.multiple,accept:n.accept,disabled:r.chooseDisabled},null,40,kae),f("div",Qae,[ue(e.$slots,"header",{files:s.files,uploadedFiles:s.uploadedFiles,chooseCallback:r.choose,uploadCallback:r.upload,clearCallback:r.clear},()=>[re((y(),_("span",{class:P(r.advancedChooseButtonClass),style:Re(n.style),onClick:t[1]||(t[1]=(...c)=>r.choose&&r.choose(...c)),onKeydown:t[2]||(t[2]=Bi((...c)=>r.choose&&r.choose(...c),["enter"])),onFocus:t[3]||(t[3]=(...c)=>r.onFocus&&r.onFocus(...c)),onBlur:t[4]||(t[4]=(...c)=>r.onBlur&&r.onBlur(...c)),tabindex:"0"},[f("span",{class:P(r.advancedChooseIconClass)},null,2),f("span",Lae,M(r.chooseButtonLabel),1)],38)),[[u]]),n.showUploadButton?(y(),ee(o,{key:0,label:r.uploadButtonLabel,icon:n.uploadIcon,onClick:r.upload,disabled:r.uploadDisabled},null,8,["label","icon","onClick","disabled"])):H("",!0),n.showCancelButton?(y(),ee(o,{key:1,label:r.cancelButtonLabel,icon:n.cancelIcon,onClick:r.clear,disabled:r.cancelDisabled},null,8,["label","icon","onClick","disabled"])):H("",!0)])]),f("div",{ref:"content",class:"p-fileupload-content",onDragenter:t[5]||(t[5]=(...c)=>r.onDragEnter&&r.onDragEnter(...c)),onDragover:t[6]||(t[6]=(...c)=>r.onDragOver&&r.onDragOver(...c)),onDragleave:t[7]||(t[7]=(...c)=>r.onDragLeave&&r.onDragLeave(...c)),onDrop:t[8]||(t[8]=(...c)=>r.onDrop&&r.onDrop(...c))},[ue(e.$slots,"content",{files:s.files,uploadedFiles:s.uploadedFiles,removeUploadedFileCallback:r.removeUploadedFile,removeFileCallback:r.remove,progress:s.progress,messages:s.messages},()=>[r.hasFiles?(y(),ee(a,{key:0,value:s.progress,showValue:!1},null,8,["value"])):H("",!0),(y(!0),_(J,null,be(s.messages,c=>(y(),ee(l,{key:c,severity:"error",onClose:r.onMessageClose},{default:O(()=>[he(M(c),1)]),_:2},1032,["onClose"]))),128)),r.hasFiles?(y(),ee(A,{key:1,files:s.files,onRemove:r.remove,badgeValue:r.pendingLabel,previewWidth:n.previewWidth},null,8,["files","onRemove","badgeValue","previewWidth"])):H("",!0),b(A,{files:s.uploadedFiles,onRemove:r.removeUploadedFile,badgeValue:r.completedLabel,badgeSeverity:"success",previewWidth:n.previewWidth},null,8,["files","onRemove","badgeValue","previewWidth"])]),e.$slots.empty&&!r.hasFiles&&!r.hasUploadedFiles?(y(),_("div",Oae,[ue(e.$slots,"empty")])):H("",!0)],544)])):r.isBasic?(y(),_("div",Rae,[(y(!0),_(J,null,be(s.messages,c=>(y(),ee(l,{key:c,severity:"error",onClose:r.onMessageClose},{default:O(()=>[he(M(c),1)]),_:2},1032,["onClose"]))),128)),re((y(),_("span",{class:P(r.basicChooseButtonClass),style:Re(n.style),onMouseup:t[12]||(t[12]=(...c)=>r.onBasicUploaderClick&&r.onBasicUploaderClick(...c)),onKeydown:t[13]||(t[13]=Bi((...c)=>r.choose&&r.choose(...c),["enter"])),onFocus:t[14]||(t[14]=(...c)=>r.onFocus&&r.onFocus(...c)),onBlur:t[15]||(t[15]=(...c)=>r.onBlur&&r.onBlur(...c)),tabindex:"0"},[f("span",{class:P(r.basicChooseButtonIconClass)},null,2),f("span",Dae,M(r.basicChooseButtonLabel),1),r.hasFiles?H("",!0):(y(),_("input",{key:0,ref:"fileInput",type:"file",accept:n.accept,disabled:n.disabled,multiple:n.multiple,onChange:t[9]||(t[9]=(...c)=>r.onFileSelect&&r.onFileSelect(...c)),onFocus:t[10]||(t[10]=(...c)=>r.onFocus&&r.onFocus(...c)),onBlur:t[11]||(t[11]=(...c)=>r.onBlur&&r.onBlur(...c))},null,40,Mae))],38)),[[u]])])):H("",!0)}function Hae(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Nae=`
.p-fileupload-content {
    position: relative;
}
.p-fileupload-content .p-progressbar {
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
}
.p-button.p-fileupload-choose {
    position: relative;
    overflow: hidden;
}
.p-fileupload-buttonbar {
    display: flex;
    flex-wrap: wrap;
}
.p-fileupload > input[type='file'],
.p-fileupload-basic input[type='file'] {
    display: none;
}
.p-fluid .p-fileupload .p-button {
    width: auto;
}
.p-fileupload-file {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
}
.p-fileupload-file-thumbnail {
    flex-shrink: 0;
}
.p-fileupload-file-actions {
    margin-left: auto;
}
`;Hae(Nae);C_.render=Pae;var x_={name:"Panel",emits:["update:collapsed","toggle"],props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},data(){return{d_collapsed:this.collapsed}},watch:{collapsed(e){this.d_collapsed=e}},methods:{toggle(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{ariaId(){return _t()},containerClass(){return["p-panel p-component",{"p-panel-toggleable":this.toggleable}]},buttonAriaLabel(){return this.toggleButtonProps&&this.toggleButtonProps["aria-label"]?this.toggleButtonProps["aria-label"]:this.header}},directives:{ripple:bt}};const Kae={class:"p-panel-header"},Vae=["id"],$ae={class:"p-panel-icons"},Gae=["id","aria-label","aria-controls","aria-expanded"],zae=["id","aria-labelledby"],jae={class:"p-panel-content"};function Wae(e,t,n,i,s,r){const o=pt("ripple");return y(),_("div",{class:P(r.containerClass)},[f("div",Kae,[ue(e.$slots,"header",{},()=>[n.header?(y(),_("span",{key:0,id:r.ariaId+"_header",class:"p-panel-title"},M(n.header),9,Vae)):H("",!0)]),f("div",$ae,[ue(e.$slots,"icons"),n.toggleable?re((y(),_("button",Ue({key:0,id:r.ariaId+"_header",type:"button",role:"button",class:"p-panel-header-icon p-panel-toggler p-link","aria-label":r.buttonAriaLabel,"aria-controls":r.ariaId+"_content","aria-expanded":!s.d_collapsed,onClick:t[0]||(t[0]=(...a)=>r.toggle&&r.toggle(...a)),onKeydown:t[1]||(t[1]=(...a)=>r.onKeyDown&&r.onKeyDown(...a))},n.toggleButtonProps),[f("span",{class:P({"pi pi-minus":!s.d_collapsed,"pi pi-plus":s.d_collapsed})},null,2)],16,Gae)),[[o]]):H("",!0)])]),b(Dn,{name:"p-toggleable-content"},{default:O(()=>[re(f("div",{id:r.ariaId+"_content",class:"p-toggleable-content",role:"region","aria-labelledby":r.ariaId+"_header"},[f("div",jae,[ue(e.$slots,"default")])],8,zae),[[xe,!s.d_collapsed]])]),_:3})],2)}function qae(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Xae=`
.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.p-panel-title {
    line-height: 1;
}
.p-panel-header-icon {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    text-decoration: none;
    overflow: hidden;
    position: relative;
}
`;qae(Xae);x_.render=Wae;var E_={name:"ScrollPanel",props:{step:{type:Number,default:5}},initialized:!1,documentResizeListener:null,documentMouseMoveListener:null,documentMouseUpListener:null,frame:null,scrollXRatio:null,scrollYRatio:null,isXBarClicked:!1,isYBarClicked:!1,lastPageX:null,lastPageY:null,timer:null,outsideClickListener:null,data(){return{id:_t(),orientation:"vertical",lastScrollTop:0,lastScrollLeft:0}},mounted(){this.$el.offsetParent&&this.initialize()},updated(){!this.initialized&&this.$el.offsetParent&&this.initialize()},beforeUnmount(){this.unbindDocumentResizeListener(),this.frame&&window.cancelAnimationFrame(this.frame)},methods:{initialize(){this.moveBar(),this.bindDocumentResizeListener(),this.calculateContainerHeight()},calculateContainerHeight(){let e=getComputedStyle(this.$el),t=getComputedStyle(this.$refs.xBar),n=I.getHeight(this.$el)-parseInt(t.height,10);e["max-height"]!=="none"&&n===0&&(this.$refs.content.offsetHeight+parseInt(t.height,10)>parseInt(e["max-height"],10)?this.$el.style.height=e["max-height"]:this.$el.style.height=this.$refs.content.offsetHeight+parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)+"px")},moveBar(){let e=this.$refs.content.scrollWidth,t=this.$refs.content.clientWidth,n=(this.$el.clientHeight-this.$refs.xBar.clientHeight)*-1;this.scrollXRatio=t/e;let i=this.$refs.content.scrollHeight,s=this.$refs.content.clientHeight,r=(this.$el.clientWidth-this.$refs.yBar.clientWidth)*-1;this.scrollYRatio=s/i,this.frame=this.requestAnimationFrame(()=>{this.scrollXRatio>=1?I.addClass(this.$refs.xBar,"p-scrollpanel-hidden"):(I.removeClass(this.$refs.xBar,"p-scrollpanel-hidden"),this.$refs.xBar.style.cssText="width:"+Math.max(this.scrollXRatio*100,10)+"%; left:"+this.$refs.content.scrollLeft/e*100+"%;bottom:"+n+"px;"),this.scrollYRatio>=1?I.addClass(this.$refs.yBar,"p-scrollpanel-hidden"):(I.removeClass(this.$refs.yBar,"p-scrollpanel-hidden"),this.$refs.yBar.style.cssText="height:"+Math.max(this.scrollYRatio*100,10)+"%; top: calc("+this.$refs.content.scrollTop/i*100+"% - "+this.$refs.xBar.clientHeight+"px);right:"+r+"px;")})},onYBarMouseDown(e){this.isYBarClicked=!0,this.$refs.yBar.focus(),this.lastPageY=e.pageY,I.addClass(this.$refs.yBar,"p-scrollpanel-grabbed"),I.addClass(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()},onXBarMouseDown(e){this.isXBarClicked=!0,this.$refs.xBar.focus(),this.lastPageX=e.pageX,I.addClass(this.$refs.xBar,"p-scrollpanel-grabbed"),I.addClass(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()},onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()},onKeyDown(e){if(this.orientation==="vertical")switch(e.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),e.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),e.preventDefault();break}case"ArrowLeft":case"ArrowRight":{e.preventDefault();break}}else if(this.orientation==="horizontal")switch(e.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),e.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),e.preventDefault();break}case"ArrowDown":case"ArrowUp":{e.preventDefault();break}}},onKeyUp(){this.clearTimer()},repeat(e,t){this.$refs.content[e]+=t,this.moveBar()},setTimer(e,t){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,t)},40)},clearTimer(){this.timer&&clearTimeout(this.timer)},onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):this.isYBarClicked?this.onMouseMoveForYBar(e):(this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))},onMouseMoveForXBar(e){let t=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.frame=this.requestAnimationFrame(()=>{this.$refs.content.scrollLeft+=t/this.scrollXRatio})},onMouseMoveForYBar(e){let t=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.frame=this.requestAnimationFrame(()=>{this.$refs.content.scrollTop+=t/this.scrollYRatio})},onFocus(e){this.$refs.xBar.isSameNode(e.target)?this.orientation="horizontal":this.$refs.yBar.isSameNode(e.target)&&(this.orientation="vertical")},onBlur(){this.orientation==="horizontal"&&(this.orientation="vertical")},onDocumentMouseUp(){I.removeClass(this.$refs.yBar,"p-scrollpanel-grabbed"),I.removeClass(this.$refs.xBar,"p-scrollpanel-grabbed"),I.removeClass(document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1},requestAnimationFrame(e){return(window.requestAnimationFrame||this.timeoutFrame)(e)},refresh(){this.moveBar()},scrollTop(e){let t=this.$refs.content.scrollHeight-this.$refs.content.clientHeight;e=e>t?t:e>0?e:0,this.$refs.content.scrollTop=e},timeoutFrame(e){setTimeout(e,0)},bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},document.addEventListener("mouseup",this.documentMouseUpListener))},unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=()=>{this.moveBar()},window.addEventListener("resize",this.documentResizeListener))},unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}}};const Jae={class:"p-scrollpanel p-component"},Yae={class:"p-scrollpanel-wrapper"},Zae=["aria-valuenow"],ele=["aria-valuenow"];function tle(e,t,n,i,s,r){return y(),_("div",Jae,[f("div",Yae,[f("div",{ref:"content",class:"p-scrollpanel-content",onScroll:t[0]||(t[0]=(...o)=>r.onScroll&&r.onScroll(...o)),onMouseenter:t[1]||(t[1]=(...o)=>r.moveBar&&r.moveBar(...o))},[ue(e.$slots,"default")],544)]),f("div",{ref:"xBar",class:"p-scrollpanel-bar p-scrollpanel-bar-x",tabindex:"0",role:"scrollbar","aria-orientation":"horizontal","aria-valuenow":s.lastScrollLeft,onMousedown:t[2]||(t[2]=(...o)=>r.onXBarMouseDown&&r.onXBarMouseDown(...o)),onKeydown:t[3]||(t[3]=o=>r.onKeyDown(o)),onKeyup:t[4]||(t[4]=(...o)=>r.onKeyUp&&r.onKeyUp(...o)),onFocus:t[5]||(t[5]=(...o)=>r.onFocus&&r.onFocus(...o)),onBlur:t[6]||(t[6]=(...o)=>r.onBlur&&r.onBlur(...o))},null,40,Zae),f("div",{ref:"yBar",class:"p-scrollpanel-bar p-scrollpanel-bar-y",tabindex:"0",role:"scrollbar","aria-orientation":"vertical","aria-valuenow":s.lastScrollTop,onMousedown:t[7]||(t[7]=(...o)=>r.onYBarMouseDown&&r.onYBarMouseDown(...o)),onKeydown:t[8]||(t[8]=o=>r.onKeyDown(o)),onKeyup:t[9]||(t[9]=(...o)=>r.onKeyUp&&r.onKeyUp(...o)),onFocus:t[10]||(t[10]=(...o)=>r.onFocus&&r.onFocus(...o))},null,40,ele)])}function nle(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var ile=`
.p-scrollpanel-wrapper {
    overflow: hidden;
    width: 100%;
    height: 100%;
    position: relative;
    z-index: 1;
    float: left;
}
.p-scrollpanel-content {
    height: calc(100% + 18px);
    width: calc(100% + 18px);
    padding: 0 18px 18px 0;
    position: relative;
    overflow: scroll;
    box-sizing: border-box;
    scrollbar-width: none;
}
.p-scrollpanel-content::-webkit-scrollbar {
    display: none;
}
.p-scrollpanel-bar {
    position: relative;
    background: #c1c1c1;
    border-radius: 3px;
    z-index: 2;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.25s linear;
}
.p-scrollpanel-bar-y {
    width: 9px;
    top: 0;
}
.p-scrollpanel-bar-x {
    height: 9px;
    bottom: 0;
}
.p-scrollpanel-hidden {
    visibility: hidden;
}
.p-scrollpanel:hover .p-scrollpanel-bar,
.p-scrollpanel:active .p-scrollpanel-bar {
    opacity: 1;
}
.p-scrollpanel-grabbed {
    user-select: none;
}
`;nle(ile);E_.render=tle;const sle={name:"Datasets",components:{Column:Os,MultiSelect:B_,DataTable:ts,Button:Lt,Dialog:fl,InputText:ki},props:{},computed:{},data(){return{loading:!0,owned_groups:null,selected_groups:null,filters:{global:{value:null,matchMode:ze.CONTAINS}},permissionGroup:{},permissionGroupDialog:!1,permissionSubmitted:!1,editPermissionGroupDialog:!1,editPermissionSubmitted:!1,deletePermissionGroupDialog:!1,deletePermissionGroupSubmitted:!1,users:[],selected_admin_users:[],selected_editor_users:[],selected_reader_users:[],groups:[],selected_admin_groups:[],selected_editor_groups:[],selected_reader_groups:[]}},async mounted(){await Promise.all([this.getUsers(),this.getGroups(),this.getOwnedGroups()]),this.loading=!1},methods:{description(e){return e===null?"":e.length<50?e:e.substring(0,50)+"..."},hidePermissionGroupDialog(){this.permissionGroupDialog=!1,this.permissionSubmitted=!1},createPermissionGroupDialog(){this.permissionGroup={name:null,description:null,admin_users:[],admin_groups:[],editor_users:[],editor_groups:[],reader_users:[],reader_groups:[],datasets:[]},this.selected_admin_users=this.users.filter(e=>e.uid==this.$store.state.profileId),this.permissionGroupDialog=!0},async addPermissionGroup(){console.log("addPermissionGroup"),this.permissionSubmitted=!0,this.permissionGroup.name&&(this.permissionGroup.description&&this.permissionGroup.description.length>100||(this.permissionGroup.admin_users.forEach(e=>{console.log("admin: ",e),console.log(e)}),await WN(tr($t,"permission_groups"),{name:this.permissionGroup.name,datasets:[],description:this.permissionGroup.description,owner:this.$store.state.profileId,admin_users:this.selected_admin_users.map(e=>e.uid),editor_users:this.selected_editor_users.map(e=>e.uid),reader_users:this.selected_reader_users.map(e=>e.uid)}),this.permissionSubmitted=!1,await Promise.all([this.getGroups(),this.getOwnedGroups()]),this.selected_admin_users=[],this.selected_editor_users=[],this.selected_reader_users=[],this.hidePermissionGroupDialog()))},showDeletePermissionGroupDialog(){this.deletePermissionGroupDialog=!0},hideDeletePermissionGroupDialog(){this.deletePermissionGroupDialog=!1,this.deletePermissionGroupSubmitted=!1},async deletePermissionGroup(){this.deletePermissionGroupSubmitted=!0,console.log("deletePermissionGroup");const e=vi($t,"permission_groups",this.permissionGroup.group_id);await jN(e),await Promise.all([this.getGroups(),this.getOwnedGroups()]),this.permissionGroup={name:null,description:null,admin_users:[],admin_groups:[],editor_users:[],editor_groups:[],reader_users:[],reader_groups:[],datasets:[]},this.hideDeletePermissionGroupDialog(),this.hideEditPermissionGroupDialog()},async getUsers(){console.log("getUsers");const e=zr(tr($t,"users")),t=await jr(e);this.users=[],t.forEach(n=>{this.users.push({uid:n.id,...n.data()})})},async getGroups(){console.log("getGroups");const e=zr(tr($t,"permission_groups")),t=await jr(e);this.groups=[],t.forEach(n=>{this.groups.push({group_id:n.id,...n.data()})})},async getOwnedGroups(){console.log("getOwnedGroups");const e=zr(tr($t,"permission_groups"),OS("admin_users","array-contains",this.$store.state.profileId)),t=await jr(e);this.owned_groups=[],t.forEach(n=>{this.owned_groups.push({group_id:n.id,...n.data()})})},convertUserIDs(e){return e?this.users.filter(n=>e.includes(n.uid)).map(n=>`${n.firstName}`):[]},convertGroupIDs(e){return e?this.groups.filter(n=>e.includes(n.group_id)).map(n=>n.name):[]},editPermissionGroup(e){console.log("editPermissionGroup"),this.editPermissionGroupDialog=!0,this.permissionGroup={...e},console.log("this.permissionGroup"),console.log(this.permissionGroup),this.selected_admin_users=this.users.filter(t=>this.permissionGroup.admin_users.includes(t.uid)),this.selected_editor_users=this.users.filter(t=>this.permissionGroup.editor_users.includes(t.uid)),this.selected_reader_users=this.users.filter(t=>this.permissionGroup.reader_users.includes(t.uid))},hideEditPermissionGroupDialog(){this.editPermissionGroupDialog=!1,this.editPermissionSubmitted=!1},async updatePermissionGroup(){console.log("updatePermissionGroup"),this.editPermissionSubmitted=!0;let e=!1;if(this.permissionGroup.name?this.permissionGroup.name.length>100&&(e=!0):e=!0,this.permissionGroup.description&&this.permissionGroup.description.length>100&&(e=!0),e){this.editPermissionSubmitted=!1;return}console.log("this.permissionGroup"),console.log(this.permissionGroup);const t=vi($t,"permission_groups",this.permissionGroup.group_id);await QA(t,{name:this.permissionGroup.name,group_id:this.permissionGroup.group_id,description:this.permissionGroup.description,datasets:this.permissionGroup.datasets,admin_users:this.selected_admin_users.map(n=>n.uid),editor_users:this.selected_editor_users.map(n=>n.uid),reader_users:this.selected_reader_users.map(n=>n.uid)}),await Promise.all([this.getGroups(),this.getOwnedGroups()]),this.hideEditPermissionGroupDialog()},async updateUsers(e,t,n,i){console.log("updateUsers",n);const s=Se.difference(e,t);console.log("users_to_add"),console.log(s);const r=Se.difference(t,e);console.log("users_to_remove"),console.log(r),await Promise.all(r.map(async o=>{this.updateUserPermissions(o,n,i,!1)})),await Promise.all(s.map(async o=>{this.updateUserPermissions(o,n,i,!0)}))},async updateUserPermissions(e,t,n,i){console.log("updateUserPermissions",e,t,n);let s=[];e.hasOwnProperty(t)&&(s=e[t]),i&&s.indexOf(n)===-1?s.push(n):s=s.filter(a=>a!=n);const r=vi($t,"users",e.uid),o={};o[t]=s,await QA(r,o)},async updateGroups(e,t,n,i){console.log("updateGroups");const s=Se.difference(e,t),r=Se.difference(t,e);await Promise.all(r.map(async o=>{const a=o[`${n}_users`],l=this.users.filter(A=>a.includes(A.uid));await Promise.all(l.map(async A=>{this.updateUserPermissions(A,n,i,!1)}))})),await Promise.all(s.map(async o=>{const a=o[`${n}_users`],l=this.users.filter(A=>a.includes(A.uid));await Promise.all(l.map(async A=>{this.updateUserPermissions(A,n,i,!0)}))}))}}},nn=e=>(Fi("data-v-98c8bb84"),e=e(),Ui(),e),rle={key:0,id:"owned-groups",class:"p-3"},ole={class:"flex justify-content-between align-items-center"},ale=nn(()=>f("h5",{class:"m-0"},"Permission Groups",-1)),lle={class:"flex flex-row"},Ale={class:"mx-3"},ule={class:"p-input-icon-left mr-0"},cle=nn(()=>f("i",{class:"pi pi-search"},null,-1)),dle={class:"formgrid grid"},hle={class:"field col"},fle=nn(()=>f("label",{for:"name"},"Group Name",-1)),ple={key:0,class:"p-error"},gle={class:"formgrid grid"},mle={class:"field col"},yle=nn(()=>f("label",{for:"description"},"Description",-1)),vle={key:0,class:"p-error"},wle={class:"formgrid grid"},_le={class:"field col"},ble=nn(()=>f("label",{for:"admin_users"},"Admins",-1)),Ble={class:"permission-item w-full"},Cle={class:"flex flex-row items-center"},xle={class:"text-sm basis-1/2"},Ele={class:"text-sm basis-1/2 text-right truncate"},Ile={class:"field col"},Sle=nn(()=>f("label",{for:"admin_groups"},"Admin Groups",-1)),Fle={class:"permission-item w-full"},Ule={class:"flex flex-row items-center"},Tle={class:"text-sm basis-1/3"},kle={class:"text-sm basis-2/3 text-right truncate"},Qle={class:"formgrid grid"},Lle={class:"field col"},Ole=nn(()=>f("label",{for:"editor_users"},"Editors",-1)),Rle={class:"permission-item w-full"},Dle={class:"flex flex-row items-center"},Mle={class:"text-sm basis-1/2"},Ple={class:"text-sm basis-1/2 text-right truncate"},Hle={class:"field col"},Nle=nn(()=>f("label",{for:"editor_groups"},"Editor Groups",-1)),Kle={class:"permission-item w-full"},Vle={class:"flex flex-row items-center"},$le={class:"text-sm basis-1/3"},Gle={class:"text-sm basis-2/3 text-right truncate"},zle={class:"formgrid grid"},jle={class:"field col"},Wle=nn(()=>f("label",{for:"reader_users"},"Readers",-1)),qle={class:"permission-item w-full"},Xle={class:"flex flex-row items-center"},Jle={class:"text-sm basis-1/2"},Yle={class:"text-sm basis-1/2 text-right truncate"},Zle={class:"field col"},eAe=nn(()=>f("label",{for:"reader_groups"},"Reader Groups",-1)),tAe={class:"permission-item w-full"},nAe={class:"flex flex-row items-center"},iAe={class:"text-sm basis-1/3"},sAe={class:"text-sm basis-2/3 text-right truncate"},rAe={class:"formgrid grid"},oAe={class:"field col"},aAe=nn(()=>f("label",{for:"name"},"Group Name",-1)),lAe={key:0,class:"p-error"},AAe={class:"formgrid grid"},uAe={class:"field col"},cAe=nn(()=>f("label",{for:"description"},"Description",-1)),dAe={key:0,class:"p-error"},hAe=nn(()=>f("div",{class:"formgrid grid"},[f("div",{class:"field col"},[f("div",{class:"font-semibold"},"Add Users")])],-1)),fAe={class:"formgrid grid"},pAe={class:"field col"},gAe=nn(()=>f("label",{for:"admin_users"},"Admins",-1)),mAe={class:"permission-item w-full"},yAe={class:"flex flex-row items-center"},vAe={class:"text-sm basis-1/2"},wAe={class:"text-sm basis-1/2 text-right truncate"},_Ae={class:"formgrid grid"},bAe={class:"field col"},BAe=nn(()=>f("label",{for:"editor_users"},"Editors",-1)),CAe={class:"permission-item w-full"},xAe={class:"flex flex-row items-center"},EAe={class:"text-sm basis-1/2"},IAe={class:"text-sm basis-1/2 text-right truncate"},SAe={class:"formgrid grid"},FAe={class:"field col"},UAe=nn(()=>f("label",{for:"reader_users"},"Readers",-1)),TAe={class:"permission-item w-full"},kAe={class:"flex flex-row items-center"},QAe={class:"text-sm basis-1/2"},LAe={class:"text-sm basis-1/2 text-right truncate"},OAe={class:"flex flex-row items-center justify-between"},RAe={class:"ml-0"},DAe={class:"right mr-0"},MAe=nn(()=>f("div",{class:"confirmation-content"},[f("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),f("span",null,"Are you sure you want to delete this permission group?")],-1));function PAe(e,t,n,i,s,r){const o=N("Button"),a=N("InputText"),l=N("Column"),A=N("DataTable"),u=N("MultiSelect"),c=N("Dialog");return s.owned_groups?(y(),_("div",rle,[b(A,{value:s.owned_groups,paginator:!0,rows:10,dataKey:"group_id",rowHover:!0,filters:s.filters,"onUpdate:filters":t[1]||(t[1]=d=>s.filters=d),filterDisplay:"menu",loading:s.loading,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",globalFilterFields:["name","description","admin_users"],responsiveLayout:"scroll"},{header:O(()=>[f("div",ole,[ale,f("div",lle,[f("div",Ale,[b(o,{label:"Create Group",icon:"pi pi-plus-circle",class:"",onClick:r.createPermissionGroupDialog},null,8,["onClick"])]),f("div",ule,[cle,b(a,{modelValue:s.filters.global.value,"onUpdate:modelValue":t[0]||(t[0]=d=>s.filters.global.value=d),placeholder:"Keyword Search"},null,8,["modelValue"])])])])]),empty:O(()=>[he(" No permission groups found. ")]),loading:O(()=>[he(" Loading permission groups. Please wait. ")]),default:O(()=>[b(l,{exportable:!1,headerStyle:"width: 4rem; text-align: center",bodyStyle:"text-align: center; overflow: visible"},{body:O(d=>[b(o,{type:"button",class:"p-button-rounded p-button-sm",icon:"pi pi-pencil",onClick:h=>r.editPermissionGroup(d.data)},null,8,["onClick"])]),_:1}),b(l,{field:"name",header:"Group Name",sortable:"",style:{"min-width":"10rem"}},{body:O(({data:d})=>[he(M(d.name),1)]),filter:O(({filterModel:d})=>[b(a,{type:"text",modelValue:d.value,"onUpdate:modelValue":h=>d.value=h,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(l,{field:"description",header:"Description",filterMatchMode:"contains",style:{"min-width":"12rem"}},{body:O(({data:d})=>[he(M(r.description(d.description)),1)]),filter:O(({filterModel:d})=>[b(a,{type:"text",modelValue:d.value,"onUpdate:modelValue":h=>d.value=h,class:"p-column-filter",placeholder:"Search by description"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(l,{field:"admin_users",header:"Admins",style:{"min-width":"12rem"}},{body:O(({data:d})=>[he(M(r.convertUserIDs(d.admin_users).join(", ")),1)]),_:1}),b(l,{field:"editor_users",header:"Editors",style:{"min-width":"14rem"}},{body:O(({data:d})=>[he(M(r.convertUserIDs(d.editor_users).join(", ")),1)]),_:1}),b(l,{field:"reader_users",header:"Readers",style:{"min-width":"6rem"}},{body:O(({data:d})=>[he(M(r.convertUserIDs(d.reader_users).join(", ")),1)]),_:1})]),_:1},8,["value","filters","loading"]),b(c,{header:"Create Permission Group",visible:s.permissionGroupDialog,"onUpdate:visible":t[10]||(t[10]=d=>s.permissionGroupDialog=d),modal:!0,class:"p-fluid w-1/2 min-w-[300px]"},{footer:O(()=>[b(o,{label:"Cancel",icon:"pi pi-times",class:"p-button-secondary",onClick:r.hidePermissionGroupDialog},null,8,["onClick"]),b(o,{label:"Save",icon:"pi pi-check",class:"",onClick:r.addPermissionGroup},null,8,["onClick"])]),default:O(()=>[f("div",dle,[f("div",hle,[fle,b(a,{id:"name",modelValue:s.permissionGroup.name,"onUpdate:modelValue":t[2]||(t[2]=d=>s.permissionGroup.name=d),modelModifiers:{trim:!0},required:"true",autofocus:"",class:P({"p-invalid":s.permissionSubmitted&&!s.permissionGroup.name})},null,8,["modelValue","class"]),s.permissionSubmitted&&!s.permissionGroup.name?(y(),_("small",ple," Group name is required.")):H("",!0)])]),f("div",gle,[f("div",mle,[yle,b(a,{id:"description",modelValue:s.permissionGroup.description,"onUpdate:modelValue":t[3]||(t[3]=d=>s.permissionGroup.description=d),modelModifiers:{trim:!0},autofocus:""},null,8,["modelValue"]),s.permissionSubmitted&&s.permissionGroup.description&&s.permissionGroup.description.length>100?(y(),_("small",vle," Description too long.")):H("",!0)])]),f("div",wle,[f("div",_le,[ble,b(u,{modelValue:s.selected_admin_users,"onUpdate:modelValue":t[4]||(t[4]=d=>s.selected_admin_users=d),options:s.users,optionLabel:"name",placeholder:"Select Admins",class:"multiselect-custom",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.firstName),1))),128))]),option:O(d=>[f("div",Ble,[f("div",Cle,[f("div",xle,M(d.option.firstName)+" "+M(d.option.lastName),1),f("div",Ele,M(d.option.institution),1)])])]),_:1},8,["modelValue","options"])]),f("div",Ile,[Sle,b(u,{modelValue:s.selected_admin_groups,"onUpdate:modelValue":t[5]||(t[5]=d=>s.selected_admin_groups=d),options:s.groups,optionLabel:"name",placeholder:"Select Admin Groups",class:"multiselect-custom",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.name),1))),128))]),option:O(d=>[f("div",Fle,[f("div",Ule,[f("div",Tle,M(d.option.name),1),f("div",kle,M(d.option.description),1)])])]),_:1},8,["modelValue","options"])])]),f("div",Qle,[f("div",Lle,[Ole,b(u,{modelValue:s.selected_editor_users,"onUpdate:modelValue":t[6]||(t[6]=d=>s.selected_editor_users=d),options:s.users,optionLabel:"name",placeholder:"Select Editors",class:"multiselect-custom",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.firstName),1))),128))]),option:O(d=>[f("div",Rle,[f("div",Dle,[f("div",Mle,M(d.option.firstName)+" "+M(d.option.lastName),1),f("div",Ple,M(d.option.institution),1)])])]),_:1},8,["modelValue","options"])]),f("div",Hle,[Nle,b(u,{modelValue:s.selected_editor_groups,"onUpdate:modelValue":t[7]||(t[7]=d=>s.selected_editor_groups=d),options:s.groups,optionLabel:"name",placeholder:"Select Editor Groups",class:"multiselect-custom",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.name),1))),128))]),option:O(d=>[f("div",Kle,[f("div",Vle,[f("div",$le,M(d.option.name),1),f("div",Gle,M(d.option.description),1)])])]),_:1},8,["modelValue","options"])])]),f("div",zle,[f("div",jle,[Wle,b(u,{modelValue:s.selected_reader_users,"onUpdate:modelValue":t[8]||(t[8]=d=>s.selected_reader_users=d),options:s.users,optionLabel:"name",placeholder:"Select Readers",class:"multiselect-custom",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.firstName),1))),128))]),option:O(d=>[f("div",qle,[f("div",Xle,[f("div",Jle,M(d.option.firstName)+" "+M(d.option.lastName),1),f("div",Yle,M(d.option.institution),1)])])]),_:1},8,["modelValue","options"])]),f("div",Zle,[eAe,b(u,{modelValue:s.selected_reader_groups,"onUpdate:modelValue":t[9]||(t[9]=d=>s.selected_reader_groups=d),options:s.groups,optionLabel:"name",placeholder:"Select Reader Groups",class:"multiselect-custom",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.name),1))),128))]),option:O(d=>[f("div",tAe,[f("div",nAe,[f("div",iAe,M(d.option.name),1),f("div",sAe,M(d.option.description),1)])])]),_:1},8,["modelValue","options"])])])]),_:1},8,["visible"]),b(c,{header:"Edit Permission Group",visible:s.editPermissionGroupDialog,"onUpdate:visible":t[17]||(t[17]=d=>s.editPermissionGroupDialog=d),modal:!0,class:"p-fluid w-1/2 min-w-[300px]"},{footer:O(()=>[f("div",OAe,[f("div",RAe,[b(o,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:r.showDeletePermissionGroupDialog,disabled:s.editPermissionSubmitted},null,8,["onClick","disabled"])]),f("div",DAe,[b(o,{label:"Cancel",icon:"pi pi-times",class:"p-button-secondary",onClick:r.hideEditPermissionGroupDialog,disabled:s.editPermissionSubmitted},null,8,["onClick","disabled"]),b(o,{label:"Save",icon:"pi pi-check",onClick:t[16]||(t[16]=d=>r.updatePermissionGroup(d)),loading:s.editPermissionSubmitted},null,8,["loading"])])])]),default:O(()=>[f("div",rAe,[f("div",oAe,[aAe,b(a,{id:"name",modelValue:s.permissionGroup.name,"onUpdate:modelValue":t[11]||(t[11]=d=>s.permissionGroup.name=d),modelModifiers:{trim:!0},required:"true",autofocus:"",class:P({"p-invalid":s.editPermissionSubmitted&&!s.permissionGroup.name})},null,8,["modelValue","class"]),s.editPermissionSubmitted&&!s.permissionGroup.name?(y(),_("small",lAe," Group name is required.")):H("",!0)])]),f("div",AAe,[f("div",uAe,[cAe,b(a,{id:"description",modelValue:s.permissionGroup.description,"onUpdate:modelValue":t[12]||(t[12]=d=>s.permissionGroup.description=d),modelModifiers:{trim:!0},autofocus:""},null,8,["modelValue"]),s.editPermissionSubmitted&&s.permissionGroup.description&&s.permissionGroup.description.length>100?(y(),_("small",dAe," Description too long.")):H("",!0)])]),hAe,f("div",fAe,[f("div",pAe,[gAe,b(u,{modelValue:s.selected_admin_users,"onUpdate:modelValue":t[13]||(t[13]=d=>s.selected_admin_users=d),options:s.users,optionLabel:"name",placeholder:"Select Admins",class:"multiselect-custom max-w-[400px]",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.firstName),1))),128))]),option:O(d=>[f("div",mAe,[f("div",yAe,[f("div",vAe,M(d.option.firstName)+" "+M(d.option.lastName),1),f("div",wAe,M(d.option.institution),1)])])]),_:1},8,["modelValue","options"])])]),f("div",_Ae,[f("div",bAe,[BAe,b(u,{modelValue:s.selected_editor_users,"onUpdate:modelValue":t[14]||(t[14]=d=>s.selected_editor_users=d),options:s.users,optionLabel:"name",placeholder:"Select Editors",class:"multiselect-custom max-w-[400px]",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.firstName),1))),128))]),option:O(d=>[f("div",CAe,[f("div",xAe,[f("div",EAe,M(d.option.firstName)+" "+M(d.option.lastName),1),f("div",IAe,M(d.option.institution),1)])])]),_:1},8,["modelValue","options"])])]),f("div",SAe,[f("div",FAe,[UAe,b(u,{modelValue:s.selected_reader_users,"onUpdate:modelValue":t[15]||(t[15]=d=>s.selected_reader_users=d),options:s.users,optionLabel:"name",placeholder:"Select Readers",class:"multiselect-custom max-w-[400px]",filter:!0,display:"chip"},{value:O(d=>[(y(!0),_(J,null,be(d.value,h=>(y(),_("div",{class:"p-multiselect-token text-sm",key:h.uid},M(h.firstName),1))),128))]),option:O(d=>[f("div",TAe,[f("div",kAe,[f("div",QAe,M(d.option.firstName)+" "+M(d.option.lastName),1),f("div",LAe,M(d.option.institution),1)])])]),_:1},8,["modelValue","options"])])])]),_:1},8,["visible"]),b(c,{header:"Delete Group",visible:s.deletePermissionGroupDialog,"onUpdate:visible":t[18]||(t[18]=d=>s.deletePermissionGroupDialog=d),style:{width:"350px"},modal:!0},{footer:O(()=>[b(o,{label:"Cancel",icon:"pi pi-times",onClick:r.hideDeletePermissionGroupDialog,disabled:s.deletePermissionGroupSubmitted,class:"p-button-text",autofocus:""},null,8,["onClick","disabled"]),b(o,{label:"Delete",icon:"pi pi-check",onClick:r.deletePermissionGroup,disabled:s.deletePermissionGroupSubmitted,class:"p-button-danger"},null,8,["onClick","disabled"])]),default:O(()=>[MAe]),_:1},8,["visible"])])):H("",!0)}var HAe=Bt(sle,[["render",PAe],["__scopeId","data-v-98c8bb84"]]);const NAe={name:"Admin",components:{Toast:Mf,DataTable:ts,Column:Os,InputText:ki,Button:Lt,Textarea:b_,InputNumber:Nf,Dialog:fl,MultiSelect:B_,InputSwitch:Du,FileUpload:C_,Panel:x_,ScrollPanel:E_,PermissionGroups:HAe},data(){return{adminEmail:"",functionMsg:null,db_metadata:null,owned_datasets:null,selected_datasets:null,dataset:{},filters:{global:{value:null,matchMode:ze.CONTAINS},species:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},experiment:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},tissue:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},institution:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},year:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]}},loading:!0,owned_groups:null,selected_groups:null,submitted:!1,datasetDialog:!1,selectedPermissionGroups:null,permissionGroupDialog:!1,permissionGroup:{},permissionSubmitted:!1,users:[],selected_admin_users:[],selected_editor_users:[],selected_reader_users:[],groups:[],selected_admin_groups:[],selected_editor_groups:[],selected_reader_groups:[],editPermissionGroupDialog:!1,editPermissionSubmitted:!1,upload_gene_metadata_error:null,upload_gene_metadata_error_log:[],upload_gene_metadata_filename:"Select",upload_gene_metadata_file:null,upload_gene_metadata_highlight:null,upload_sample_metadata_error:null,upload_sample_metadata_error_log:[],upload_sample_metadata_filename:"Select",upload_sample_metadata_file:null,upload_sample_metadata_highlight:null,upload_gene_expression_data_error:null,upload_gene_expression_data_error_log:[],upload_gene_expression_data_filename:"Select",upload_gene_expression_data_file:null,upload_gene_expression_data_highlight:null,uploadMsg:null,upload_files_error:null,upload_files_error_log:null,upload_progress:0,uploading:null,conditions_json:null,genders_json:null,deletePermissionGroupDialog:!1,deletePermissionGroupSubmitted:!1}},computed:{datasetDialogVisible:{get(){return this.datasetDialog&&!this.permissionGroupDialog},set(e){this.datasetDialog=e}}},mounted(){this.getOwnedDatasets()},methods:{async load_metadata(){let e=new FormData;const t=this.$store.getters.getToken;e.append("authorization",t),console.log("formData"),console.log(e),this.db_metadata=await ti.getDatasetsMetadata(e).then(n=>n.data)},async getOwnedDatasets(){console.log("getOwnedDatasets"),await Promise.all([this.load_metadata(),this.getUsers(),this.getGroups(),this.getOwnedGroups()]),this.db_metadata.forEach(t=>{const n=t.gender.replaceAll(/[']+/g,'"');t.gender=JSON.parse(n);const i=t.condition.replaceAll(/[']+/g,'"');t.condition=JSON.parse(i),t.year=parseInt(t.year)});const e=this.$store.state.profileId;this.owned_datasets=this.db_metadata.filter(t=>t.owner==e),this.loading=!1},async editDataset(e){console.log("editDataset"),this.dataset={...e},console.log("this.dataset"),console.log(this.dataset),console.log("this.groups"),console.log(this.groups),this.selected_admin_groups=await this.getDatasetGroups(this.dataset.admin_groups),this.selected_editor_groups=await this.getDatasetGroups(this.dataset.editor_groups),this.selected_reader_groups=await this.getDatasetGroups(this.dataset.reader_groups),console.log("this.selected_reader_groups"),console.log(this.selected_reader_groups),this.datasetDialog=!0},hideDatasetDialog(){this.datasetDialog=!1,this.submitted=!1},async saveDataset(){console.log("saveDataset"),this.submitted=!0;let e=!1,t="";if(this.dataset.experiment||(e=!0,t=t.concat(`Missing experiment.
`)),this.dataset.species||(e=!0,t=t.concat(`Missing species.
`)),this.dataset.tissue||(e=!0,t=t.concat(`Missing tissue.
`)),this.dataset.year?(this.dataset.year<1900||this.dataset.year>2100)&&(e=!0,t=t.concat(`Invalid year.
`)):(e=!0,t=t.concat(`Missing year.
`)),this.dataset.institution&&this.dataset.institution.length>100&&(e=!0,t=t.concat(`Invalid institution length.
`)),this.dataset.doi){RegExp.escape=function(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};const i=`\\b(10[.][0-9]{4,}(?:[.][0-9]+)*/(?:(?!["&'])\\S)+)\\b`;var n=new RegExp(i).exec(this.dataset.doi);n||(console.log("ERROR: Invalid DOI format."),e=!0,t=t.concat(`Invalid DOI.
`))}if(e){this.submitted=!1,this.$toast.add({severity:"error",summary:"Validation Error",detail:t,life:1e4});return}console.log("reader_groups"),console.log(this.selected_reader_groups),console.log(this.selected_reader_groups.map(i=>i.group_id)),console.log("editor_groups"),console.log(this.selected_editor_groups),console.log(this.selected_editor_groups.map(i=>i.group_id)),console.log("admin_groups"),console.log(this.selected_admin_groups),console.log(this.selected_admin_groups.map(i=>i.group_id)),console.log("this.dataset"),console.log(this.dataset),console.log("docRef"),console.log(docRef),await QA(docRef,{experiment:this.dataset.experiment,institution:this.dataset.institution,otherInformation:this.dataset.otherInformation,species:this.dataset.species,tissue:this.dataset.tissue,year:this.dataset.year,reader_groups:this.selected_reader_groups.map(i=>i.group_id),editor_groups:this.selected_editor_groups.map(i=>i.group_id),admin_groups:this.selected_admin_groups.map(i=>i.group_id)}),this.getOwnedDatasets(),this.hideDatasetDialog()},async getUsers(){console.log("getUsers");const e=zr(tr($t,"users")),t=await jr(e);this.users=[],t.forEach(n=>{this.users.push({uid:n.id,...n.data()})})},async getGroups(){console.log("getGroups");const e=zr(tr($t,"permission_groups")),t=await jr(e);this.groups=[],t.forEach(n=>{this.groups.push({group_id:n.id,...n.data()})})},async getDatasetGroups(e){if(console.log("getDatasetGroups"),console.log(e),!e)return[];const t=zr(tr($t,"permission_groups")),n=await jr(t);let i=[];return n.forEach(s=>{e.includes(s.id)&&i.push({group_id:s.id,...s.data()})}),console.log(i),i},async getOwnedGroups(){console.log("getOwnedGroups");const e=zr(tr($t,"permission_groups"),OS("admin_users","array-contains",this.$store.state.profileId)),t=await jr(e);this.owned_groups=[],t.forEach(n=>{console.log(n.id," => ",n.data()),this.owned_groups.push({group_id:n.id,...n.data()})})},convertUserIDs(e){return e?this.users.filter(n=>e.includes(n.uid)).map(n=>`${n.firstName}`):[]},convertGroupIDs(e){return e?this.groups.filter(n=>e.includes(n.group_id)).map(n=>n.name):[]},editPermissionGroup(e){console.log("editPermissionGroup"),this.editPermissionGroupDialog=!0,this.permissionGroup={...e},console.log("this.permissionGroup"),console.log(this.permissionGroup),this.selected_admin_users=this.users.filter(t=>this.permissionGroup.admin_users.includes(t.uid)),this.selected_editor_users=this.users.filter(t=>this.permissionGroup.editor_users.includes(t.uid)),this.selected_reader_users=this.users.filter(t=>this.permissionGroup.reader_users.includes(t.uid))},hideEditPermissionGroupDialog(){this.editPermissionGroupDialog=!1,this.editPermissionSubmitted=!1},async updateUsers(e,t,n){await Promise.all(e.map(async i=>{this.updateUserPermissions(i,t,n)}))},async updateUserPermissions(e,t,n){if(e&&t in e&&e[t].indexOf(n)===-1){console.log("Updating permission",e.name,t,n),e[t].push(n);const i=vi($t,"users",e.uid),s={};s[t]=e[t],await QA(i,s)}},async updateGroups(e,t,n){console.log("updateGroups"),await Promise.all(e.map(async i=>{this.updateUsers(i[`${t}_users`],t,n)}))},description(e){return e.length<50?e:e.substring(0,50)+"..."},startProgress(){this.interval=setInterval(()=>{let e=this.upload_progress+5;e>=99&&(e=99),this.upload_progress=e},1500)},endProgress(){this.upload_progress=0,clearInterval(this.interval),this.interval=null},isItInteger(e){return/^\-?[0-9]+$/.test(e)},isItFloat(e){return/^\-?[0-9]+(\.[0-9]+)?$/.test(e)},validateCSV(e,t,n){let i=e.split(`
`),s=[],r=null;const o=["+","-"];let a=i[0].split(",");for(var l=0;l<t.length;l++)a[l]?a[l].valueOf().trim()!=t[l].valueOf().trim()&&(r=`Header Error on column ${l+1}, expected ${t[l]} got ${a[l]}`,s.push(r),console.log(r)):n[l].valueOf()!=="optional"&&(r=`Header Error on column ${l+1}, missing ${t[l]}`,s.push(r),console.log(r));let A=i[i.length-1].split(","),u=0;for(var c=0;c<A.length;c++)u+=A[c].length;u==0&&i.pop();for(var l=1;l<i.length;l++){let h=i[l].split(",");for(var c=0;c<n.length;c++){let m=h[c];if(n[c]!="optional"&&(!m||!m.length)){r=`Null Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}if(n[c]=="integer"){if(!this.isItInteger(m.trim())){r=`Integer Type Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}}else if(n[c]=="float"){if(!this.isItFloat(m.trim())){r=`Float Type Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}}else if(n[c]=="char(+/-)"&&!o.some(g=>m===g)){r=`Char(+/-) Type Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}}}return s},sample_counts(e){console.log("sample_counts"),console.log(e);let t=e.split(`
`),n={},i={};for(var s=1;s<t.length;s++){let r=t[s].split(","),o=r[3];n[o]=n[o]+1||1;let a=r[5];i[a]=i[a]+1||1}this.conditions_json=JSON.stringify(Object.keys(n).map(r=>({condition:r,count:n[r]}))),this.genders_json=JSON.stringify(Object.keys(i).map(r=>({gender:r,count:i[r]})))},download(e){const t=ref(T3,e);getDownloadURL(t).then(n=>{window.location.href=n}).catch(n=>{console.log("Error on download: ",n.code)})},save(){this.saveMsg=null,this.databaseTablePrefix=null;let e=!1;if(this.experiment?this.experimentInvalid=!1:(console.log("ERROR: Invalid experiment name"),this.experimentInvalid=!0,this.experimentErrorMsg="Experiment name required.",e=!0),this.year=Number.parseInt(this.year),this.year?this.year>2050||this.year<1850?(console.log("ERROR: Year must be reasonable."),this.yearInvalid=!0,this.yearErrorMsg="Year must be non-silly.",e=!0):this.yearInvalid=!1:(console.log("ERROR: Year required."),this.yearInvalid=!0,this.yearErrorMsg="Year required.",e=!0),this.institution&&this.institution.length>100?(console.log("ERROR: Institution name too long"),this.institutionInvalid=!0,this.institutionErrorMsg="Institution name too long, must be less than 100 characters.",e=!0):this.institutionInvalid=!1,this.species?this.speciesInvalid=!1:(console.log("ERROR: Invalid species name"),this.speciesInvalid=!0,this.speciesErrorMsg="Species name required.",e=!0),this.doi){RegExp.escape=function(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};const n=`\\b(10[.][0-9]{4,}(?:[.][0-9]+)*/(?:(?!["&'])\\S)+)\\b`,i=new RegExp(n);console.log("this.doi",this.doi),console.log("re:",i);var t=i.exec(this.doi);console.log(t),t||(console.log("ERROR: Invalid DOI format."),this.doiInvalid=!0,this.doiErrorMsg="Invalid DOI format.",e=!0)}else this.doiInvalid=!1;this.tissue?(this.tissue=this.tissue.replace(/ /g,"_"),this.tissueInvalid=!1):(console.log("ERROR: Invalid tissue"),this.tissueInvalid=!0,this.tissueErrorMsg="Tissue required.",e=!0),this.other&&this.other.length>1e4?(console.log("ERROR: Other details too long."),this.otherInvalid=!0,this.otherErrorMsg="Other information section too long, must be less than 10,000 characters.",e=!0):this.otherInvalid=!1,!e&&(this.saveMsg="Dataset details saved.",this.databaseTablePrefix=`${this.experiment}_${this.year}_${this.species}_${this.tissue}`)}}},Hn=e=>(Fi("data-v-76f45279"),e=e(),Ui(),e),KAe={id:"admin",class:"w-full p-3 mx-auto mb-20"},VAe=Hn(()=>f("div",{id:"page-title",class:"pb-2 font-semibold text-3xl text-center"}," Administration ",-1)),$Ae={id:"admin-ui",class:"rounded-lg bg-white shadow mx-10"},GAe={id:"owned-datasets",class:"p-3"},zAe={class:"flex justify-content-between align-items-center"},jAe=Hn(()=>f("h5",{class:"m-0"},"Datasets",-1)),WAe={class:"p-input-icon-left mr-0"},qAe=Hn(()=>f("i",{class:"pi pi-search"},null,-1)),XAe={class:"formgrid grid"},JAe={class:"field col"},YAe=Hn(()=>f("label",{for:"species"},"Species",-1)),ZAe={key:0,class:"p-error"},eue={class:"field col"},tue=Hn(()=>f("label",{for:"tissue"},"Tissue",-1)),nue={key:0,class:"p-error"},iue={class:"formgrid grid"},sue={class:"field col"},rue=Hn(()=>f("label",{for:"experiment"},"Experiment",-1)),oue={key:0,class:"p-error"},aue={class:"field col"},lue=Hn(()=>f("label",{for:"year"},"Year",-1)),Aue={key:0,class:"p-error"},uue={class:"field"},cue=Hn(()=>f("label",{for:"institution"},"Institution",-1)),due={key:0,class:"p-error"},hue={class:"field"},fue=Hn(()=>f("label",{for:"institution"},"DOI",-1)),pue=Hn(()=>f("div",{id:"permissions-info",class:"py-1"},[f("div",{class:"font-semibold"}," Permissions "),f("div",{class:"text-sm"},[f("p",null,"Grant specific permissions to corresponding users from a permission group."),f("p",null,"Only the admin users for a group selected as an admin group will have administrative permissions."),f("p",null,"The reader users will not have additional permissions.")])],-1)),gue={class:"flex flex-row items-center"},mue={class:"w-1/3 pr-1"},yue=Hn(()=>f("label",{for:"admin_groups"},"Admin Groups",-1)),vue={class:"permission-item w-full"},wue={class:"flex flex-row items-center"},_ue={class:"text-sm basis-1/3"},bue={class:"text-sm basis-2/3 text-right truncate"},Bue={class:"w-1/3 px-1"},Cue=Hn(()=>f("label",{for:"editor_groups"},"Editor Groups",-1)),xue={class:"permission-item w-full"},Eue={class:"flex flex-row items-center"},Iue={class:"text-sm basis-1/3"},Sue={class:"text-sm basis-2/3 text-right truncate"},Fue={class:"w-1/3 pl-1"},Uue=Hn(()=>f("label",{for:"reader_groups"},"Reader Groups",-1)),Tue={class:"permission-item w-full"},kue={class:"flex flex-row items-center"},Que={class:"text-sm basis-1/3"},Lue={class:"text-sm basis-2/3 text-right truncate"},Oue={class:"field"},Rue=Hn(()=>f("label",{for:"otherInformation"},"Other Information",-1));function Due(e,t,n,i,s,r){const o=N("Toast"),a=N("PermissionGroups"),l=N("InputText"),A=N("Button"),u=N("Column"),c=N("DataTable"),d=N("InputNumber"),h=N("MultiSelect"),p=N("Textarea"),m=N("Dialog");return y(),_("div",KAe,[VAe,b(o),f("div",$Ae,[b(a),f("div",GAe,[b(c,{value:s.owned_datasets,paginator:!0,rows:10,dataKey:"sample_metadata_table_name",rowHover:!0,selection:s.selected_datasets,"onUpdate:selection":t[1]||(t[1]=g=>s.selected_datasets=g),filters:s.filters,"onUpdate:filters":t[2]||(t[2]=g=>s.filters=g),filterDisplay:"menu",loading:s.loading,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",globalFilterFields:["species","experiment","tissue","year","institution"],responsiveLayout:"scroll"},{header:O(()=>[f("div",zAe,[jAe,f("span",WAe,[qAe,b(l,{modelValue:s.filters.global.value,"onUpdate:modelValue":t[0]||(t[0]=g=>s.filters.global.value=g),placeholder:"Keyword Search"},null,8,["modelValue"])])])]),empty:O(()=>[he(" No datasets found. ")]),loading:O(()=>[he(" Loading datasets. Please wait. ")]),default:O(()=>[b(u,{exportable:!1,headerStyle:"width: 3rem; text-align: center",bodyStyle:"text-align: center; overflow: visible"},{body:O(g=>[b(A,{type:"button",class:"p-button-rounded p-button-sm",icon:"pi pi-pencil",onClick:w=>r.editDataset(g.data)},null,8,["onClick"])]),_:1}),b(u,{field:"species",header:"Species",sortable:"",style:{"min-width":"10rem"}},{body:O(({data:g})=>[he(M(g.species),1)]),filter:O(({filterModel:g})=>[b(l,{type:"text",modelValue:g.value,"onUpdate:modelValue":w=>g.value=w,class:"p-column-filter",placeholder:"Search by species"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(u,{field:"experiment",header:"Experiment",sortable:"",filterMatchMode:"contains",style:{"min-width":"12rem"}},{body:O(({data:g})=>[he(M(g.experiment),1)]),filter:O(({filterModel:g})=>[b(l,{type:"text",modelValue:g.value,"onUpdate:modelValue":w=>g.value=w,class:"p-column-filter",placeholder:"Search by experiment"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(u,{field:"tissue",header:"Tissue",sortable:"",style:{"min-width":"12rem"}},{body:O(({data:g})=>[he(M(g.tissue),1)]),filter:O(({filterModel:g})=>[b(l,{type:"text",modelValue:g.value,"onUpdate:modelValue":w=>g.value=w,class:"p-column-filter",placeholder:"Search by tissue"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(u,{field:"institution",header:"Institution",sortable:"",style:{"min-width":"14rem"}},{body:O(({data:g})=>[he(M(g.institution),1)]),filter:O(({filterModel:g})=>[b(l,{type:"text",modelValue:g.value,"onUpdate:modelValue":w=>g.value=w,class:"p-column-filter",placeholder:"Search by institution"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(u,{field:"year",header:"Year",sortable:"",style:{"min-width":"6rem"}},{body:O(({data:g})=>[he(M(g.year),1)]),filter:O(({filterModel:g})=>[b(l,{type:"text",modelValue:g.value,"onUpdate:modelValue":w=>g.value=w,class:"p-column-filter",placeholder:"Search by year"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["value","selection","filters","loading"]),b(m,{visible:r.datasetDialogVisible,"onUpdate:visible":t[13]||(t[13]=g=>r.datasetDialogVisible=g),header:"Dataset Details",modal:!0,class:"p-fluid w-2/3 min-w-[510px]"},{footer:O(()=>[b(A,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:r.hideDatasetDialog,disabled:s.submitted},null,8,["onClick","disabled"]),b(A,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:r.saveDataset,loading:s.submitted},null,8,["onClick","loading"])]),default:O(()=>[f("div",XAe,[f("div",JAe,[YAe,b(l,{id:"species",modelValue:s.dataset.species,"onUpdate:modelValue":t[3]||(t[3]=g=>s.dataset.species=g),modelModifiers:{trim:!0},required:"true",autofocus:"",class:P({"p-invalid":s.submitted&&!s.dataset.species})},null,8,["modelValue","class"]),s.submitted&&!s.dataset.species?(y(),_("small",ZAe," Species is required.")):H("",!0)]),f("div",eue,[tue,b(l,{id:"tissue",modelValue:s.dataset.tissue,"onUpdate:modelValue":t[4]||(t[4]=g=>s.dataset.tissue=g),modelModifiers:{trim:!0},required:"true",autofocus:"",class:P({"p-invalid":s.submitted&&!s.dataset.tissue})},null,8,["modelValue","class"]),s.submitted&&!s.dataset.tissue?(y(),_("small",nue," Tissue is required.")):H("",!0)])]),f("div",iue,[f("div",sue,[rue,b(l,{id:"experiment",modelValue:s.dataset.experiment,"onUpdate:modelValue":t[5]||(t[5]=g=>s.dataset.experiment=g),modelModifiers:{trim:!0},required:"true",autofocus:"",class:P({"p-invalid":s.submitted&&!s.dataset.experiment})},null,8,["modelValue","class"]),s.submitted&&!s.dataset.experiment?(y(),_("small",oue," Experiment is required.")):H("",!0)]),f("div",aue,[lue,b(d,{id:"year",modelValue:s.dataset.year,"onUpdate:modelValue":t[6]||(t[6]=g=>s.dataset.year=g),integeronly:"",useGrouping:!1},null,8,["modelValue"]),s.submitted&&s.dataset.year&&(s.dataset.year<1900||s.dataset.year>2100)?(y(),_("small",Aue," Year is invalid.")):H("",!0)])]),f("div",uue,[cue,b(l,{id:"institution",modelValue:s.dataset.institution,"onUpdate:modelValue":t[7]||(t[7]=g=>s.dataset.institution=g),modelModifiers:{trim:!0},required:"true",autofocus:"",class:P({"p-invalid":s.submitted&&s.dataset.institution.length>100})},null,8,["modelValue","class"]),s.submitted&&s.dataset.institution.length>100?(y(),_("small",due," Institution must be less than 100 characters.")):H("",!0)]),f("div",hue,[fue,b(l,{id:"institution",modelValue:s.dataset.doi,"onUpdate:modelValue":t[8]||(t[8]=g=>s.dataset.doi=g),modelModifiers:{trim:!0},required:"false",autofocus:""},null,8,["modelValue"])]),pue,f("div",gue,[f("div",mue,[yue,b(h,{modelValue:s.selected_admin_groups,"onUpdate:modelValue":t[9]||(t[9]=g=>s.selected_admin_groups=g),options:s.groups,maxSelectedLabels:3,optionLabel:"name",placeholder:"Select Admin Groups",class:"multiselect-custom text-sm w-full",filter:!0,display:"chip"},{value:O(g=>[(y(!0),_(J,null,be(g.value,w=>(y(),_("div",{class:"p-multiselect-token text-sm",key:w.uid},M(w.name),1))),128))]),option:O(g=>[f("div",vue,[f("div",wue,[f("div",_ue,M(g.option.name),1),f("div",bue,M(g.option.description),1)])])]),_:1},8,["modelValue","options"])]),f("div",Bue,[Cue,b(h,{modelValue:s.selected_editor_groups,"onUpdate:modelValue":t[10]||(t[10]=g=>s.selected_editor_groups=g),options:s.groups,maxSelectedLabels:3,optionLabel:"name",placeholder:"Select Editor Groups",class:"multiselect-custom text-sm w-full",filter:!0,display:"chip"},{value:O(g=>[(y(!0),_(J,null,be(g.value,w=>(y(),_("div",{class:"p-multiselect-token text-sm",key:w.uid},M(w.name),1))),128))]),option:O(g=>[f("div",xue,[f("div",Eue,[f("div",Iue,M(g.option.name),1),f("div",Sue,M(g.option.description),1)])])]),_:1},8,["modelValue","options"])]),f("div",Fue,[Uue,b(h,{modelValue:s.selected_reader_groups,"onUpdate:modelValue":t[11]||(t[11]=g=>s.selected_reader_groups=g),options:s.groups,maxSelectedLabels:3,optionLabel:"name",placeholder:"Select Reader Groups",class:"multiselect-custom text-sm w-full",filter:!0,display:"chip"},{value:O(g=>[(y(!0),_(J,null,be(g.value,w=>(y(),_("div",{class:"p-multiselect-token text-sm",key:w.uid},M(w.name),1))),128))]),option:O(g=>[f("div",Tue,[f("div",kue,[f("div",Que,M(g.option.name),1),f("div",Lue,M(g.option.description),1)])])]),_:1},8,["modelValue","options"])])]),f("div",Oue,[Rue,b(p,{id:"otherInformation",modelValue:s.dataset.otherInformation,"onUpdate:modelValue":t[12]||(t[12]=g=>s.dataset.otherInformation=g),required:"false",rows:"3",cols:"20"},null,8,["modelValue"])])]),_:1},8,["visible"])])])])}var Mue=Bt(NAe,[["render",Due],["__scopeId","data-v-76f45279"]]);function UQ(e,t){return y(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})])}function Pue(e,t){return y(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[b("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z","clip-rule":"evenodd"})])}const Hue={name:"Profile",components:{Dialog:fl,Button:Lt,InputText:ki,ToggleButton:Pu,PaperClipIcon:UQ},data(){return{modalMessage:"Changes were saved!",display:!1,editMode:!1,firstName:null,firstNameInvalid:null,lastName:null,lastNameInvalid:null,email:null,emailInvalid:null,institution:null,institutionInvalid:null,admin:null,uploader:null}},async mounted(){console.log("Profile mounted"),this.getProfile();let e=new FormData;const t=this.$store.getters.getToken;console.log("token"),console.log(t),e.append("authorization",t);let n=await ti.testAuth(e);console.log("api_result"),console.log(n)},methods:{getProfile(){this.firstName=this.$store.state.profileFirstName,this.firstNameInvalid=!1,this.lastName=this.$store.state.profileLastName,this.lastNameInvalid=!1,this.institution=this.$store.state.profileInstitution,this.institutionInvalid=!1,this.email=this.$store.state.profileEmail,this.admin=this.$store.state.profileAdmin?"Yes":"No",this.uploader=this.$store.state.profileUploader?"Yes":"No"},toggleEdit(){console.log("toggleEdit",this.editMode),this.editMode==!1&&this.getProfile()},async update(){if(!this.firstName){console.log("ERROR: Invalid first name"),this.firstNameInvalid=!0;return}if(this.firstNameInvalid=!1,!this.lastName){console.log("ERROR: Invalid last name"),this.lastNameInvalid=!0;return}if(this.lastNameInvalid=!1,this.institution.length>100){console.log("ERROR: Institution name too long"),this.institutionInvalid=!0;return}this.institutionInvalid=!1,console.log("Validation passed"),this.editMode=!1,this.$store.commit("changeFirstName",this.firstName),this.$store.commit("changeLastName",this.lastName),this.$store.commit("changeInstitution",this.institution),await this.$store.dispatch("updateUserSettings")}}},ko=e=>(Fi("data-v-1db61fe6"),e=e(),Ui(),e),Nue={class:"w-3/4 mx-auto py-6"},Kue={class:"bg-white shadow overflow-hidden sm:rounded-lg"},Vue={class:"px-4 py-5 sm:px-6"},$ue={class:"flex"},Gue=ko(()=>f("div",{class:"flex-1 min-w0 align-middle my-auto"},[f("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Profile Information")],-1)),zue={class:"mt-5 flex lg:mt-0 lg:ml-4 sm:block"},jue={class:"border-t border-gray-200"},Wue={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},que=ko(()=>f("dt",{class:"text-sm font-medium text-gray-500 my-auto"},"First name",-1)),Xue={id:"firstName-help",class:"p-error"},Jue={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Yue=ko(()=>f("dt",{class:"text-sm font-medium text-gray-500"},"Last name",-1)),Zue={id:"lastName-help",class:"p-error"},ece={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},tce=ko(()=>f("dt",{class:"text-sm font-medium text-gray-500"},"Institution",-1)),nce={id:"institution-help",class:"p-error"},ice={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},sce=ko(()=>f("div",null,[f("dt",{class:"text-sm font-medium text-gray-500"},"Email address")],-1)),rce={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},oce=ko(()=>f("dt",{class:"text-sm font-medium text-gray-500"},"Admin",-1)),ace={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},lce={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ace=ko(()=>f("dt",{class:"text-sm font-medium text-gray-500"},"Uploader",-1)),uce={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"};function cce(e,t,n,i,s,r){const o=N("Button"),a=N("ToggleButton"),l=N("InputText");return y(),_("div",Nue,[f("div",Kue,[f("div",Vue,[f("div",$ue,[Gue,f("div",zue,[re(b(o,{class:"p-button-sm mx-2 p-button-success z-0",onClick:r.update,label:"Confirm"},null,8,["onClick"]),[[xe,s.editMode]]),b(a,{class:"p-button-sm mx-2 z-0",onChange:r.toggleEdit,modelValue:s.editMode,"onUpdate:modelValue":t[0]||(t[0]=A=>s.editMode=A),onLabel:"Cancel",offLabel:"Edit"},null,8,["onChange","modelValue"])])])]),f("div",jue,[f("dl",null,[f("div",Wue,[f("div",null,[que,re(f("small",Xue," First name required ",512),[[xe,s.firstNameInvalid]])]),b(l,{modelValue:s.firstName,"onUpdate:modelValue":t[1]||(t[1]=A=>s.firstName=A),class:P(["mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",{"p-invalid":s.firstNameInvalid}]),disabled:!s.editMode},null,8,["modelValue","disabled","class"])]),f("div",Jue,[f("div",null,[Yue,re(f("small",Zue," Last name required ",512),[[xe,s.lastNameInvalid]])]),b(l,{modelValue:s.lastName,"onUpdate:modelValue":t[2]||(t[2]=A=>s.lastName=A),class:P(["mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",{"p-invalid":s.lastNameInvalid}]),disabled:!s.editMode},null,8,["modelValue","disabled","class"])]),f("div",ece,[f("div",null,[tce,re(f("small",nce,"Institution name too long",512),[[xe,s.institutionInvalid]])]),b(l,{modelValue:s.institution,"onUpdate:modelValue":t[3]||(t[3]=A=>s.institution=A),class:P(["mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",{"p-invalid":s.institutionInvalid}]),disabled:!s.editMode},null,8,["modelValue","disabled","class"])]),f("div",ice,[sce,b(l,{modelValue:s.email,"onUpdate:modelValue":t[4]||(t[4]=A=>s.email=A),class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",disabled:""},null,8,["modelValue"])]),f("div",rce,[oce,f("dd",ace,M(s.admin),1)]),f("div",lce,[Ace,f("dd",uce,M(s.uploader),1)])])])])])}var dce=Bt(Hue,[["render",cce],["__scopeId","data-v-1db61fe6"]]);const hce={name:"Settings",components:{SelectButton:l_},data(){return{selectedTestOption:null,testOptions:[{name:"First",rank:1},{name:"Second",rank:2},{name:"Third",rank:3}]}}},fce={class:"surface-card p-4 shadow-2 border-round w-11/12 mx-auto mt-6"},pce={class:"w-11/12 mx-auto"},gce=f("div",{class:"text-center my-5"},[f("div",{class:"text-900 text-3xl font-medium mb-3"},"Settings")],-1),mce=f("div",{class:"text-xl font-medium mb-3"}," Configuration settings ",-1);function yce(e,t,n,i,s,r){const o=N("SelectButton");return y(),_("div",fce,[f("div",pce,[gce,mce,f("div",null,[b(o,{modelValue:s.selectedTestOption,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedTestOption=a),options:s.testOptions,optionLabel:"name"},null,8,["modelValue","options"])])])])}var vce=Bt(hce,[["render",yce]]);const wce={name:"Data",components:{Toast:Mf,FileUpload:C_,InputText:ki,InputNumber:Nf,DataTable:ts,Column:Os,Button:Lt,Checkbox:w_,Textarea:b_,Panel:x_,ScrollPanel:E_,Divider:__,ProgressBar:Pf},data(){return{token:null,experiment:null,experimentInvalid:null,experimentErrorMsg:null,species:null,speciesInvalid:null,speciesErrorMsg:null,year:null,yearInvalid:null,yearErrorMsg:null,tissue:null,tissueInvalid:null,tissueErrorMsg:null,institution:null,institutionInvalid:null,institutionErrorMsg:null,other:null,otherInvalid:null,otherErrorMsg:null,doi:"",doiInvalid:null,doiErrorMsg:null,saveMsg:null,databaseTablePrefix:null,gene_metadata:[{gene_id:"<REQUIRED>",gene_name:"<REQUIRED>",refseq:"<REQUIRED>",chr:"<REQUIRED>",start:"<REQUIRED>",end:"<REQUIRED>",strand:"<REQUIRED>",length:"<REQUIRED>",description:"<REQUIRED>",ensembl_gene_id:"<REQUIRED>",gene_biotype:"<REQUIRED>",copies:"<OPTIONAL>",annotation_divergence:"<OPTIONAL>",external_gene_name:"<OPTIONAL>",ensembl_peptide_id:"<OPTIONAL>"},{gene_id:"<String>",gene_name:"<String>",refseq:"<String>",chr:"<String>",start:"<Integer>",end:"<Integer>",strand:"<Char(+/-)>",length:"<Float>",description:"<String>",ensembl_gene_id:"<String>",gene_biotype:"<String>",copies:"<Integer>",annotation_divergence:"<String>",external_gene_name:"<String>",ensembl_peptide_id:"<String>"}],sample_metadata:[{sample_name:"<REQUIRED>",species:"<REQUIRED>",time_point:"<REQUIRED>",group_name:"<REQUIRED>",age_months:"<REQUIRED>",gender:"<REQUIRED>",tissue:"<REQUIRED>",number_of_replicates:"<REQUIRED>",data_type:"<REQUIRED>"},{sample_name:"<String>",species:"<String>",time_point:"<String>",group_name:"<String>",age_months:"<Integer>",gender:"<String>",tissue:"<String>",number_of_replicates:"<Integer>",data_type:"<String>"}],gene_expression_data:[{gene_id:"<REQUIRED>",sample_name:"<REQUIRED>",gene_expression:"<REQUIRED>"},{gene_id:"<String>",sample_name:"<String>",gene_expression:"<Float>"}],upload_gene_metadata_error:null,upload_gene_metadata_error_log:[],upload_gene_metadata_filename:"Select",upload_gene_metadata_file:null,upload_gene_metadata_highlight:null,upload_sample_metadata_error:null,upload_sample_metadata_error_log:[],upload_sample_metadata_filename:"Select",upload_sample_metadata_file:null,upload_sample_metadata_highlight:null,upload_gene_expression_data_error:null,upload_gene_expression_data_error_log:[],upload_gene_expression_data_filename:"Select",upload_gene_expression_data_file:null,upload_gene_expression_data_highlight:null,uploadMsg:null,uploadSuccess:!1,upload_files_error:null,upload_files_error_log:null,upload_progress:0,uploading:null,conditions_json:null,genders_json:null,publicize:!0}},mounted(){},methods:{async recaptcha(){await this.$recaptchaLoaded(),this.token=await this.$recaptcha("login")},startProgress(){const e=this.upload_gene_expression_data_file.size/1e6;console.log("gene_exp_file_size: "+e),this.interval=setInterval(()=>{let t=this.upload_progress+5;t>=99&&(t=99),this.upload_progress=t},3e3)},endProgress(){this.upload_progress=0,clearInterval(this.interval),this.interval=null},isItInteger(e){return/^\-?[0-9]+$/.test(e)},isItFloat(e){return/^\-?[0-9]+(\.[0-9]+)?$/.test(e)},validateCSV(e,t,n){let i=e.split(`
`),s=[],r=null;const o=["+","-"];let a=i[0].split(",");for(var l=0;l<t.length;l++)a[l]?a[l].valueOf().trim()!=t[l].valueOf().trim()&&(r=`Header Error on column ${l+1}, expected ${t[l]} got ${a[l]}`,s.push(r),console.log(r)):n[l].valueOf()!=="optional"&&(r=`Header Error on column ${l+1}, missing ${t[l]}`,s.push(r),console.log(r));let A=i[i.length-1].split(","),u=0;for(var c=0;c<A.length;c++)u+=A[c].length;u==0&&i.pop();for(var l=1;l<i.length;l++){let h=i[l].split(",");for(var c=0;c<n.length;c++){let m=h[c];if(n[c]!="optional"&&(!m||!m.length)){r=`Null Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}if(n[c]=="integer"){if(!this.isItInteger(m.trim())){r=`Integer Type Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}}else if(n[c]=="float"){if(!this.isItFloat(m.trim())){r=`Float Type Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}}else if(n[c]=="char(+/-)"&&!o.some(g=>m===g)){r=`Char(+/-) Type Error on line ${l} column ${t[c]}, value: ${m}`,s.push(r),console.log(r);continue}}}return s},upload_gene_metadata(e){const n=e.files[0],i=["gene_id","gene_name","refseq","chr","start","end","strand","length","description","ensembl_gene_id","gene_biotype","copies","annotation_divergence","external_gene_name","ensembl_peptide_id"],s=["string","string","string","string","integer","integer","char(+/-)","float","string","string","string","optional","optional","optional","optional"];let r=[],o=new FileReader;o.readAsText(n),o.onload=a=>{let l=a.target.result;r=this.validateCSV(l,i,s),this.upload_gene_metadata_error_log=r,this.upload_gene_metadata_error=r.length,this.upload_gene_metadata_error?(this.$toast.add({severity:"error",summary:"Error",detail:"Failed Type Validation",life:5e3}),this.upload_gene_metadata_filename="Select",this.upload_gene_metadata_file=null,console.log("upload_gene_metadata: ERROR")):(this.$toast.add({severity:"success",summary:"Success",detail:"File Validated",life:5e3}),this.upload_gene_metadata_filename=n.name,this.upload_gene_metadata_file=n,this.upload_gene_metadata_highlight=!1)}},sample_counts(e){let t=e.split(`
`),n={},i={};for(var s=1;s<t.length;s++){let r=t[s].split(",");if(r.length==9){let o=r[3];n[o]=n[o]+1||1;let a=r[5];i[a]=i[a]+1||1}}this.conditions_json=JSON.stringify(Object.keys(n).map(r=>({condition:r,count:n[r]}))),console.log("this.conditions_json"),console.log(this.conditions_json),this.genders_json=JSON.stringify(Object.keys(i).map(r=>({gender:r,count:i[r]}))),console.log("this.genders_json"),console.log(this.genders_json)},upload_sample_metadata(e){const n=e.files[0],i=["sample_name","species","time_point","group_name","age_months","gender","tissue","number_of_replicates","data_type"],s=["string","string","string","string","integer","string","string","integer","string"];let r=[],o=new FileReader;o.readAsText(n),o.onload=a=>{let l=a.target.result;r=this.validateCSV(l,i,s),this.upload_sample_metadata_error_log=r,this.upload_sample_metadata_error=r.length,this.upload_sample_metadata_error?(this.$toast.add({severity:"error",summary:"Error",detail:"Failed Type Validation",life:5e3}),this.upload_sample_metadata_filename="Select",this.upload_sample_metadata_file=null):(this.$toast.add({severity:"success",summary:"Success",detail:"File Validated",life:5e3}),this.upload_sample_metadata_filename=n.name,this.upload_sample_metadata_file=n,this.upload_sample_metadata_highlight=!1,this.sample_counts(l))}},upload_gene_expression_data(e){const n=e.files[0],i=["gene_id","sample_name","gene_expression"],s=["string","string","float"];let r=[],o=new FileReader;o.readAsText(n),o.onload=a=>{let l=a.target.result;r=this.validateCSV(l,i,s),this.upload_gene_expression_data_error_log=r,this.upload_gene_expression_data_error=r.length,this.upload_gene_expression_data_error?(this.$toast.add({severity:"error",summary:"Error",detail:"Failed Type Validation",life:5e3}),this.upload_gene_expression_data_filename="Select",this.upload_gene_expression_data_file=null):(this.$toast.add({severity:"success",summary:"Success",detail:"File Validated",life:5e3}),this.upload_gene_expression_data_filename=n.name,this.upload_gene_expression_data_file=n,this.upload_gene_expression_data_highlight=!1,console.log("Size: "+this.upload_gene_expression_data_file.size))}},download(e){console.log("Downloading..."+e);const t="https://storage.googleapis.com/rbio-p-datasharing.appspot.com/"+e;window.location.assign(t)},save(){this.saveMsg=null,this.databaseTablePrefix=null,this.uploadSuccess=!1;let e=!1;if(this.experiment?this.experimentInvalid=!1:(console.log("ERROR: Invalid experiment name"),this.experimentInvalid=!0,this.experimentErrorMsg="Experiment name required.",e=!0),this.year=Number.parseInt(this.year),this.year?this.year>2050||this.year<1850?(console.log("ERROR: Year must be reasonable."),this.yearInvalid=!0,this.yearErrorMsg="Year must be non-silly.",e=!0):this.yearInvalid=!1:(console.log("ERROR: Year required."),this.yearInvalid=!0,this.yearErrorMsg="Year required.",e=!0),this.institution&&this.institution.length>100?(console.log("ERROR: Institution name too long"),this.institutionInvalid=!0,this.institutionErrorMsg="Institution name too long, must be less than 100 characters.",e=!0):this.institutionInvalid=!1,this.species?this.speciesInvalid=!1:(console.log("ERROR: Invalid species name"),this.speciesInvalid=!0,this.speciesErrorMsg="Species name required.",e=!0),this.doi.length>0){RegExp.escape=function(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};const n=`\\b(10[.][0-9]{4,}(?:[.][0-9]+)*/(?:(?!["&'])\\S)+)\\b`;var t=new RegExp(n).exec(this.doi);t||(console.log("ERROR: Invalid DOI format."),this.doiInvalid=!0,this.doiErrorMsg="Invalid DOI format.",e=!0)}else this.doiInvalid=!1;this.tissue?this.tissueInvalid=!1:(console.log("ERROR: Invalid tissue"),this.tissueInvalid=!0,this.tissueErrorMsg="Tissue required.",e=!0),this.other&&this.other.length>1e4?(console.log("ERROR: Other details too long."),this.otherInvalid=!0,this.otherErrorMsg="Other information section too long, must be less than 10,000 characters.",e=!0):this.otherInvalid=!1,!e&&(this.saveMsg="Dataset details saved.",this.databaseTablePrefix=`${this.experiment}_${this.year}_${this.species}_${this.tissue}`)},async post_dataset(){console.log("post_dataset: Posting dataset to BigQuery"),this.uploading=!0,this.uploadSuccess=!1,this.startProgress();const e=Date.now();let t=new FormData;t.append("files",this.upload_gene_metadata_file),t.append("files",this.upload_sample_metadata_file),t.append("files",this.upload_gene_expression_data_file);const n=`${this.databaseTablePrefix}_gene_metadata`,i=`${this.databaseTablePrefix}_sample_metadata`,s=`${this.databaseTablePrefix}_gene_expression_data`;this.publicize;let r={owner:this.$store.state.profileId,experiment:this.experiment,institution:this.institution,species:this.species,tissue:this.tissue,year:this.year,doi:this.doi||"",id:this.databaseTablePrefix,otherInformation:this.other||"",gene_metadata_table_name:`${n}_${this.$store.state.profileId}`,sample_metadata_table_name:`${i}_${this.$store.state.profileId}`,gene_expression_data_table_name:`${s}_${this.$store.state.profileId}`,gender:this.genders_json,condition:this.conditions_json,admin_groups:[],editor_groups:[],reader_groups:[],permittedUsers:[],adminUsers:[],valid:!0};for(const[A,u]of Object.entries(r))t.append(A,u);t.append("gene_metadata_filename",this.upload_gene_metadata_filename),t.append("sample_metadata_filename",this.upload_sample_metadata_filename),t.append("gene_expression_data_filename",this.upload_gene_expression_data_filename);const o=this.$store.getters.getToken;t.append("authorization",o),t.append("replace",1);let a=await ti.postDataset(t);const l=(Date.now()-e)/1e3;return console.log(`post_dataset: Time elapsed: ${l}s`),this.uploading=!1,this.endProgress(),a},async upload_files(){if(console.log("upload_files"),this.upload_files_error=!1,this.upload_gene_metadata_highlight=!1,this.upload_sample_metadata_highlight=!1,this.upload_gene_expression_data_highlight=!1,this.upload_files_error_log=[],this.uploadSuccess=!1,this.save(),!this.saveMsg){this.upload_files_error=!0,this.upload_files_error_log.push("ERROR: Failed validation of dataset details."),document.getElementById("dataset-details").scrollIntoView({behavior:"smooth"}),console.log("Failed validation");return}if(this.upload_gene_metadata_file||(this.upload_files_error=!0,this.upload_gene_metadata_highlight=!0,this.upload_files_error_log.push("ERROR: Missing gene metadata file."),document.getElementById("gene_metadata").scrollIntoView({behavior:"smooth"}),console.log("ERROR: Missing gene metadata file.")),this.upload_sample_metadata_file||(this.upload_files_error=!0,this.upload_sample_metadata_highlight=!0,this.upload_files_error_log.push("ERROR: Missing sample metadata file."),document.getElementById("sample_metadata").scrollIntoView({behavior:"smooth"}),console.log("ERROR: Missing sample metadata file.")),this.upload_gene_expression_data_file||(this.upload_files_error=!0,this.upload_gene_expression_data_highlight=!0,this.upload_files_error_log.push("ERROR: Missing gene expression data file."),document.getElementById("gene_expression_data").scrollIntoView({behavior:"smooth"}),console.log("ERROR: Missing gene expression data file.")),!this.upload_files_error){`${this.databaseTablePrefix}`,`${this.databaseTablePrefix}`,`${this.databaseTablePrefix}`;{console.log("Firestore: Successfully uploaded dataset metadata.");let e=await this.post_dataset();if(console.log("api_result"),console.log(e),e.status==200&&e.data.status_code==200?(this.$toast.add({severity:"success",summary:"Success",detail:"Dataset Uploaded",life:1e4}),console.log("BigQuery: Successfully uploaded dataset tables."),this.uploadSuccess=!0,this.upload_gene_metadata_filename="Select",this.upload_gene_metadata_file=null,this.upload_sample_metadata_filename="Select",this.upload_sample_metadata_file=null,this.upload_gene_expression_data_filename="Select",this.upload_gene_expression_data_file=null,this.tissue=""):(this.$toast.add({severity:"error",summary:"Error",detail:"Error",life:1e4}),this.upload_files_error=!0,this.upload_files_error_log.push(`ERROR: ${e.data.status_code} ${e.data.detail}`)),e.data.errorLog)for(let t=0;t<e.data.errorLog.length;t++)e.data.errorLog[t]&&e.data.errorLog[t].length>0&&this.upload_files_error_log.concat(e.data.errorLog[t])}}}}},ot=e=>(Fi("data-v-1db1df44"),e=e(),Ui(),e),_ce={class:"surface-card p-4 shadow-2 border-round w-11/12 mx-auto mt-6"},bce={class:"w-11/12 mx-auto"},Bce=ot(()=>f("div",{class:"text-center my-5"},[f("div",{class:"text-900 text-3xl font-medium mb-3"},"Upload New Dataset")],-1)),Cce=ot(()=>f("div",{id:"dataset-details",class:"text-xl font-medium mb-3"}," Dataset details ",-1)),xce={class:"p-fluid grid"},Ece={id:"left-panels",class:"col-12"},Ice={class:"p-fluid grid formgrid"},Sce={class:"field col-7 pr-2"},Fce=ot(()=>f("label",{for:"experiment",class:"block text-900 font-medium mb-2"},"Experiment name",-1)),Uce={class:"field col-3"},Tce=ot(()=>f("label",{for:"year",class:"block text-900 font-medium mb-2"},"Year",-1)),kce={class:"p-fluid grid"},Qce={class:"field col-7 pr-2"},Lce=ot(()=>f("label",{for:"institution",class:"block text-900 font-medium mb-2"},"Institution name",-1)),Oce={class:"field col-3"},Rce=ot(()=>f("label",{for:"species",class:"block text-900 font-medium mb-2"},"Species",-1)),Dce={class:"p-fluid grid"},Mce={class:"field col-7 pr-2"},Pce=ot(()=>f("label",{for:"doi",class:"block text-900 font-medium mb-2"},"DOI",-1)),Hce={class:"field col-3"},Nce=ot(()=>f("label",{for:"tissue",class:"block text-900 font-medium mb-2"},"Tissue",-1)),Kce={class:"p-fluid grid"},Vce={class:"col-10"},$ce=ot(()=>f("label",{for:"other",class:"block text-900 font-medium mb-2"},"Other information",-1)),Gce={class:"p-fluid grid formgrid"},zce={class:"field col-8 pr-2"},jce=ot(()=>f("label",{class:"block text-900 font-medium mb-2"},"Dataset Visibility",-1)),Wce=ot(()=>f("label",{for:"publicize",class:"ml-2 align-middle"}," Public ",-1)),qce={class:"field col-2"},Xce={id:"gene_metadata"},Jce=ot(()=>f("div",{class:"text-xl font-medium mb-3 mt-5"}," Gene Metadata ",-1)),Yce=ot(()=>f("div",{class:"mb-3"}," The gene metadata table must be a CSV file conforming to the following format. ",-1)),Zce={class:"my-3 flex items-center align"},ede=ot(()=>f("div",null," Download gene metadata template CSV: ",-1)),tde={id:"upload_gene_metadata_error_panel",class:"my-3"},nde={class:"flex items-center content-center my-1"},ide=ot(()=>f("div",{class:"text-lg align-middle font-medium"},"Select gene metadata CSV",-1)),sde={class:"ml-5"},rde={id:"sample_metadata"},ode=ot(()=>f("div",{class:"text-xl font-medium mb-3 mt-5"}," Sample Metadata ",-1)),ade=ot(()=>f("div",{class:"mb-3"}," The sample metadata table must be a CSV file conforming to the following format. ",-1)),lde={class:"my-3 flex items-center align"},Ade=ot(()=>f("div",null," Download sample metadata template CSV: ",-1)),ude={id:"upload_sample_metadata_error_panel",class:"my-3"},cde={class:"flex items-center content-center my-1"},dde=ot(()=>f("div",{class:"text-lg align-middle font-medium"},"Select sample metadata CSV",-1)),hde={class:"ml-5"},fde={id:"gene_expression_data"},pde=ot(()=>f("div",{class:"text-xl font-medium mb-3 mt-5"}," Gene Expression Data ",-1)),gde=ot(()=>f("div",{class:"mb-3"}," The gene expression table must be a CSV file conforming to the following format. ",-1)),mde={class:"my-3 flex items-center align"},yde=ot(()=>f("div",null," Download gene expression data template CSV: ",-1)),vde={id:"upload_gene_expression_data_error_panel",class:"my-3"},wde={class:"flex items-center content-center my-1"},_de=ot(()=>f("div",{class:"text-lg align-middle font-medium"},"Select gene expression CSV",-1)),bde={class:"ml-5"},Bde={class:"mx-auto my-5"},Cde=ot(()=>f("div",{class:"text-center my-5"},[f("div",{class:"text-900 text-2xl font-medium mb-3"},"Finalize and upload dataset")],-1)),xde=ot(()=>f("div",{class:"p-4 w-1/2 mx-auto my-5 text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400",role:"alert"},[f("div",{class:"font-medium text-center"},"Successfully uploaded dataset!")],-1)),Ede=[xde],Ide={id:"upload_files_error_panel",class:"my-3"},Sde={class:"mx-auto flex items-center justify-center"},Fde={class:"mx-auto my-3 w-1/3"},Ude=ot(()=>f("div",{class:"text-center mb-3"},[f("p",null,"Please wait... "),f("p",null,"Can take up to 1 minute to upload.")],-1));function Tde(e,t,n,i,s,r){const o=N("Toast"),a=N("InputText"),l=N("InputNumber"),A=N("Textarea"),u=N("Checkbox"),c=N("Button"),d=N("Column"),h=N("DataTable"),p=N("ScrollPanel"),m=N("Panel"),g=N("FileUpload"),w=N("ProgressBar");return y(),_("div",_ce,[f("div",bce,[b(o),Bce,Cce,f("div",xce,[f("div",Ece,[f("div",Ice,[f("div",Sce,[Fce,b(a,{modelValue:s.experiment,"onUpdate:modelValue":t[0]||(t[0]=v=>s.experiment=v),type:"text",class:P(["w-full mb-2",{"p-invalid":s.experimentInvalid}])},null,8,["modelValue","class"]),re(f("small",{id:"experiment-help",class:"p-error"},M(s.experimentErrorMsg),513),[[xe,s.experimentInvalid]])]),f("div",Uce,[Tce,b(l,{modelValue:s.year,"onUpdate:modelValue":t[1]||(t[1]=v=>s.year=v),mode:"decimal",useGrouping:!1,class:P(["w-full mb-2",{"p-invalid":s.yearInvalid}])},null,8,["modelValue","class"]),re(f("small",{id:"year-help",class:"p-error"},M(s.yearErrorMsg),513),[[xe,s.yearInvalid]])])]),f("div",kce,[f("div",Qce,[Lce,b(a,{modelValue:s.institution,"onUpdate:modelValue":t[2]||(t[2]=v=>s.institution=v),type:"text",class:P(["w-full mb-2",{"p-invalid":s.institutionInvalid}])},null,8,["modelValue","class"]),re(f("small",{id:"institution-help",class:"p-error"},M(s.institutionErrorMsg),513),[[xe,s.institutionInvalid]])]),f("div",Oce,[Rce,b(a,{modelValue:s.species,"onUpdate:modelValue":t[3]||(t[3]=v=>s.species=v),type:"text",class:P(["w-full mb-2",{"p-invalid":s.speciesInvalid}])},null,8,["modelValue","class"]),re(f("small",{id:"species-help",class:"p-error"},M(s.speciesErrorMsg),513),[[xe,s.speciesInvalid]])])]),f("div",Dce,[f("div",Mce,[Pce,b(a,{modelValue:s.doi,"onUpdate:modelValue":t[4]||(t[4]=v=>s.doi=v),type:"text",class:P(["w-full mb-2",{"p-invalid":s.doiInvalid}])},null,8,["modelValue","class"]),re(f("small",{id:"doi-help",class:"p-error"},M(s.doiErrorMsg),513),[[xe,s.doiInvalid]])]),f("div",Hce,[Nce,b(a,{modelValue:s.tissue,"onUpdate:modelValue":t[5]||(t[5]=v=>s.tissue=v),type:"text",class:P(["w-full mb-2",{"p-invalid":s.tissueInvalid}])},null,8,["modelValue","class"]),re(f("small",{id:"tissue-help",class:"p-error"},M(s.tissueErrorMsg),513),[[xe,s.tissueInvalid]])])])])]),f("div",Kce,[f("div",Vce,[$ce,b(A,{modelValue:s.other,"onUpdate:modelValue":t[6]||(t[6]=v=>s.other=v),rows:"5",cols:"90",class:P({"p-invalid":s.otherInvalid})},null,8,["modelValue","class"]),re(f("small",{id:"other-help",class:"p-error"},M(s.otherErrorMsg),513),[[xe,s.otherInvalid]])])]),f("div",Gce,[f("div",zce,[f("div",null,[jce,b(u,{inputId:"publicize",modelValue:s.publicize,"onUpdate:modelValue":t[7]||(t[7]=v=>s.publicize=v),binary:!1,class:"align-middle"},null,8,["modelValue"]),Wce])]),f("div",qce,[b(c,{label:"Save Details",onClick:r.save,class:""},null,8,["onClick"])])]),f("div",Xce,[Jce,Yce,f("div",null,[b(h,{value:s.gene_metadata,class:"p-datatable-sm",responsiveLayout:"scroll"},{default:O(()=>[b(d,{field:"gene_id",header:"gene_id <UNIQUE>"}),b(d,{field:"gene_name",header:"gene_name"}),b(d,{field:"refseq",header:"refseq"}),b(d,{field:"chr",header:"chr"}),b(d,{field:"start",header:"start"}),b(d,{field:"end",header:"end"}),b(d,{field:"strand",header:"strand"}),b(d,{field:"length",header:"length"}),b(d,{field:"description",header:"description"}),b(d,{field:"ensembl_gene_id",header:"ensembl_gene_id"}),b(d,{field:"gene_biotype",header:"gene_biotype"}),b(d,{field:"copies",header:"copies"}),b(d,{field:"annotation_divergence",header:"annotation_divergence"}),b(d,{field:"external_gene_name",header:"external_gene_name"}),b(d,{field:"ensembl_peptide_id",header:"ensembl_peptide_id"})]),_:1},8,["value"])]),f("div",Zce,[ede,f("div",null,[b(c,{label:"Template",class:"p-button-link",onClick:t[8]||(t[8]=v=>r.download("gene_metadata_template.csv"))})])]),re(f("div",tde,[b(m,{header:"Gene Metadata Error Log",class:"p-error"},{default:O(()=>[b(p,{style:{width:"100%",height:"200px"},class:"custom"},{default:O(()=>[(y(!0),_(J,null,be(this.upload_gene_metadata_error_log,v=>(y(),_("li",null,M(v),1))),256))]),_:1})]),_:1})],512),[[xe,this.upload_gene_metadata_error]]),f("div",nde,[ide,f("div",sde,[b(g,{class:P({"p-button-warning":s.upload_gene_metadata_highlight}),mode:"basic",name:"upload_gene_metadata",chooseLabel:s.upload_gene_metadata_filename,auto:!0,customUpload:!0,accept:".csv",maxFileSize:1e8,onUploader:r.upload_gene_metadata},null,8,["class","chooseLabel","onUploader"])])])]),f("div",rde,[ode,ade,f("div",null,[b(h,{value:s.sample_metadata,class:"p-datatable-sm",responsiveLayout:"scroll"},{default:O(()=>[b(d,{field:"sample_name",header:"sample_name <UNIQUE>"}),b(d,{field:"species",header:"species"}),b(d,{field:"time_point",header:"time_point"}),b(d,{field:"group_name",header:"group_name"}),b(d,{field:"age_months",header:"age_months"}),b(d,{field:"gender",header:"gender"}),b(d,{field:"tissue",header:"tissue"}),b(d,{field:"number_of_replicates",header:"number_of_replicates"}),b(d,{field:"data_type",header:"data_type"})]),_:1},8,["value"])]),f("div",lde,[Ade,f("div",null,[b(c,{label:"Template",class:"p-button-link",onClick:t[9]||(t[9]=v=>r.download("sample_metadata_template.csv"))})])]),re(f("div",ude,[b(m,{header:"Sample Metadata Error Log",class:"custom"},{default:O(()=>[b(p,{style:{width:"100%",height:"200px"},class:"custom"},{default:O(()=>[(y(!0),_(J,null,be(this.upload_sample_metadata_error_log,v=>(y(),_("li",null,M(v),1))),256))]),_:1})]),_:1})],512),[[xe,this.upload_sample_metadata_error]]),f("div",cde,[dde,f("div",hde,[b(g,{class:P({"p-button-warning":s.upload_sample_metadata_highlight}),mode:"basic",name:"upload_sample_metadata",chooseLabel:s.upload_sample_metadata_filename,auto:!0,customUpload:!0,accept:".csv",maxFileSize:1e8,onUploader:r.upload_sample_metadata},null,8,["class","chooseLabel","onUploader"])])])]),f("div",fde,[pde,gde,f("div",null,[b(h,{value:s.gene_expression_data,autoLayout:"",class:"p-datatable-sm",responsiveLayout:"scroll"},{default:O(()=>[b(d,{field:"gene_id",header:"gene_id <UNIQUE>"}),b(d,{field:"sample_name",header:"sample_name <UNIQUE>"}),b(d,{field:"gene_expression",header:"gene_expression"})]),_:1},8,["value"])]),f("div",mde,[yde,f("div",null,[b(c,{label:"Template",class:"p-button-link",onClick:t[10]||(t[10]=v=>r.download("geneexpression_data_template.csv"))})])]),re(f("div",vde,[b(m,{header:"Gene Expression Data Error Log",class:"p-error"},{default:O(()=>[b(p,{style:{width:"100%",height:"200px"},class:"custom"},{default:O(()=>[(y(!0),_(J,null,be(this.upload_gene_expression_data_error_log,v=>(y(),_("li",null,M(v),1))),256))]),_:1})]),_:1})],512),[[xe,this.upload_gene_expression_data_error]]),f("div",wde,[_de,f("div",bde,[b(g,{mode:"basic",class:P({"p-button-warning":s.upload_gene_metadata_highlight}),name:"upload_gene_expression_data",chooseLabel:s.upload_gene_expression_data_filename,auto:!0,customUpload:!0,accept:".csv",maxFileSize:1e8,onUploader:r.upload_gene_expression_data},null,8,["class","chooseLabel","onUploader"])])])]),f("div",Bde,[Cde,re(f("div",null,Ede,512),[[xe,s.uploadSuccess]]),re(f("div",Ide,[b(m,{header:"Error Log",class:"custom"},{default:O(()=>[b(p,{style:{width:"100%",height:"200px"},class:"custom"},{default:O(()=>[(y(!0),_(J,null,be(this.upload_files_error_log,v=>(y(),_("li",null,M(v),1))),256))]),_:1})]),_:1})],512),[[xe,this.upload_files_error]]),f("div",Sde,[re(b(c,{label:"Upload Files",icon:"pi pi-cloud",class:"p-button-lg mx-auto",onClick:r.upload_files},null,8,["onClick"]),[[xe,!this.uploading]])]),re(f("div",Fde,[Ude,b(w,{value:this.upload_progress},null,8,["value"])],512),[[xe,this.uploading]])])])])}var kde=Bt(wce,[["render",Tde],["__scopeId","data-v-1db1df44"]]),TQ={name:"OverlayPanel",inheritAttrs:!1,emits:["show","hide"],props:{dismissable:{type:Boolean,default:!0},showCloseIcon:{type:Boolean,default:!1},appendTo:{type:String,default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null}},data(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,beforeUnmount(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&st.clear(this.container),this.overlayEventListener&&(hn.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted(){this.breakpoints&&this.createStyle()},methods:{toggle(e,t){this.visible?this.hide():this.show(e,t)},show(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide(){this.visible=!1,I.focus(this.target)},onContentClick(){this.selfClick=!0},onEnter(e){this.container.setAttribute(this.attributeSelector,""),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&st.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=t=>{this.container.contains(t.target)&&(this.selfClick=!0)},this.focus(),hn.on("overlay-click",this.overlayEventListener),this.$emit("show")},onLeave(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),hn.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave(e){this.autoZIndex&&st.clear(e)},alignOverlay(){I.absolutePosition(this.container,this.target);const e=I.getOffset(this.container),t=I.getOffset(this.target);let n=0;e.left<t.left&&(n=t.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${n}px`),e.top<t.top&&I.addClass(this.container,"p-overlaypanel-flipped")},onContentKeydown(e){e.code==="Escape"&&this.hide()},onButtonKeydown(e){switch(e.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":e.preventDefault()}},focus(){let e=this.container.querySelector("[autofocus]");e&&e.focus()},bindOutsideClickListener(){!this.outsideClickListener&&I.isClient()&&(this.outsideClickListener=e=>{this.visible&&!this.selfClick&&!this.isTargetClicked(e)&&(this.visible=!1),this.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Io(this.target,()=>{this.visible&&(this.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.visible&&!I.isTouchDevice()&&(this.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef(e){this.container=e},createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-overlaypanel[${this.attributeSelector}] {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.styleElement.innerHTML=e}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick(e){hn.emit("overlay-click",{originalEvent:e,target:this.target})}},computed:{containerClass(){return["p-overlaypanel p-component",{"p-input-filled":this.$primevue.config.inputStyle==="filled","p-ripple-disabled":this.$primevue.config.ripple===!1}]},attributeSelector(){return _t()},closeAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},directives:{focustrap:gw,ripple:bt},components:{Portal:es}};const Qde=["aria-modal"],Lde=["aria-label"],Ode=f("span",{class:"p-overlaypanel-close-icon pi pi-times"},null,-1),Rde=[Ode];function Dde(e,t,n,i,s,r){const o=N("Portal"),a=pt("ripple"),l=pt("focustrap");return y(),ee(o,{appendTo:n.appendTo},{default:O(()=>[b(Dn,{name:"p-overlaypanel",onEnter:r.onEnter,onLeave:r.onLeave,onAfterLeave:r.onAfterLeave},{default:O(()=>[s.visible?re((y(),_("div",Ue({key:0,ref:r.containerRef,role:"dialog",class:r.containerClass,"aria-modal":s.visible,onClick:t[5]||(t[5]=(...A)=>r.onOverlayClick&&r.onOverlayClick(...A))},e.$attrs),[f("div",{class:"p-overlaypanel-content",onClick:t[0]||(t[0]=(...A)=>r.onContentClick&&r.onContentClick(...A)),onMousedown:t[1]||(t[1]=(...A)=>r.onContentClick&&r.onContentClick(...A)),onKeydown:t[2]||(t[2]=(...A)=>r.onContentKeydown&&r.onContentKeydown(...A))},[ue(e.$slots,"default")],32),n.showCloseIcon?re((y(),_("button",{key:0,class:"p-overlaypanel-close p-link","aria-label":r.closeAriaLabel,type:"button",autofocus:"",onClick:t[3]||(t[3]=(...A)=>r.hide&&r.hide(...A)),onKeydown:t[4]||(t[4]=(...A)=>r.onButtonKeydown&&r.onButtonKeydown(...A))},Rde,40,Lde)),[[a]]):H("",!0)],16,Qde)),[[l]]):H("",!0)]),_:3},8,["onEnter","onLeave","onAfterLeave"])]),_:3},8,["appendTo"])}function Mde(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var Pde=`
.p-overlaypanel {
    position: absolute;
    margin-top: 10px;
    top: 0;
    left: 0;
}
.p-overlaypanel-flipped {
    margin-top: 0;
    margin-bottom: 10px;
}
.p-overlaypanel-close {
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
}

/* Animation */
.p-overlaypanel-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}
.p-overlaypanel-leave-to {
    opacity: 0;
}
.p-overlaypanel-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}
.p-overlaypanel-leave-active {
    transition: opacity 0.1s linear;
}
.p-overlaypanel:after,
.p-overlaypanel:before {
    bottom: 100%;
    left: calc(var(--overlayArrowLeft, 0) + 1.25rem);
    content: ' ';
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}
.p-overlaypanel:after {
    border-width: 8px;
    margin-left: -8px;
}
.p-overlaypanel:before {
    border-width: 10px;
    margin-left: -10px;
}
.p-overlaypanel-flipped:after,
.p-overlaypanel-flipped:before {
    bottom: auto;
    top: 100%;
}
.p-overlaypanel.p-overlaypanel-flipped:after {
    border-bottom-color: transparent;
}
.p-overlaypanel.p-overlaypanel-flipped:before {
    border-bottom-color: transparent;
}
`;Mde(Pde);TQ.render=Dde;const Hde={name:"Datasets",components:{DataTable:ts,Column:Os,OverlayPanel:TQ,Dialog:fl,Button:Lt,InputText:ki,ToggleButton:Pu,PaperClipIcon:UQ},data(){return{loading:!0,db_metadata:[],datasets:[],selected_datasets:[],filters:{global:{value:null,matchMode:ze.CONTAINS},organism:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},experimentName:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},tissues:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},institution:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]},timePoints:{operator:Un.AND,constraints:[{value:null,matchMode:ze.CONTAINS}]}},currentHoveredData:null}},methods:{async load_metadata(){console.log("load_metadata");let e=new FormData,t=this.$store.getters.getToken;e.append("authorization",t),console.log("formData"),console.log(e),this.db_metadata=await ti.getDatasetsMetadata(e).then(n=>n.data)},process_datasets(){console.log("process_datasets"),console.log(this.db_metadata);let e=this.db_metadata.reduce((t,n)=>{let i=`${n.experiment}`;if(!t[i])t[i]={experimentName:i,description:n.otherInformation,doi:n.doi,institution:n.institution,tissues:[n.tissue],timePoints:n.time_points.map(function(s){return s.replace("ZT","")}),organism:n.species,conditions:JSON.parse(n.condition.replace(/'/g,'"')).map(s=>s.condition),genders:JSON.parse(n.gender.replace(/'/g,'"')).map(s=>s.gender)};else{t[i].tissues.push(n.tissue);const s=JSON.parse(n.condition.replace(/'/g,'"')).map(o=>o.condition),r=JSON.parse(n.gender.replace(/'/g,'"')).map(o=>o.gender);s.forEach(o=>{t[i].conditions.includes(o)||t[i].conditions.push(o)}),r.forEach(o=>{t[i].genders.includes(o)||t[i].genders.push(o)})}return t},{});this.datasets=Object.values(e)},showPanel(e,t){console.log("showPanel"),console.log(e),console.log(t),this.currentHoveredData=t,this.$refs[this.getOverlayRef(t.experimentName)].show(e)},hidePanel(e){console.log("hidePanel"),console.log(e),this.$refs[this.getOverlayRef(e.experimentName)].hide(),this.currentHoveredData=null},getOverlayRef(e){return`overlayPanel-${e}`},getTissuesForColumn(e,t){return e.length>20?t===1?e.slice(0,Math.ceil(e.length/2)):e.slice(Math.ceil(e.length/2)):e},longestTissueLength(e){let t=0;return e.forEach(n=>{const i=n.length;i>t&&(t=i)}),t}},watch:{"$store.state.token":{handler:async function(e){if(this.$store.state.user&&!e)return;e=this.$store.getters.getToken,console.log("Datasets mounted");let t=new FormData;t.append("authorization",e);let n=await ti.testAuth(t);console.log("api_result"),console.log(n),await this.load_metadata(),console.log("db_metadata"),console.log(this.db_metadata),this.process_datasets(),console.log("datasets"),console.log(this.datasets),this.loading=!1},immediate:!0}}},kQ=e=>(Fi("data-v-4a03805e"),e=e(),Ui(),e),Nde={id:"frame"},Kde={id:"datasets"},Vde={class:"flex justify-content-between align-items-center"},$de=kQ(()=>f("h5",{class:"m-0"},"Datasets",-1)),Gde={class:"p-input-icon-left mr-0"},zde=kQ(()=>f("i",{class:"pi pi-search"},null,-1)),jde={key:0},Wde=["onMouseover","onMouseout"],qde={key:0,class:"flex"},Xde={class:"w-full lg:w-1/2 mr-2"},Jde={key:0,class:"w-full lg:w-1/2 ml-2"};function Yde(e,t,n,i,s,r){const o=N("InputText"),a=N("Column"),l=N("OverlayPanel"),A=N("DataTable");return y(),_("div",Nde,[f("div",Kde,[b(A,{value:s.datasets,paginator:!0,rows:10,dataKey:"sample_metadata_table_name",rowHover:!0,selection:s.selected_datasets,"onUpdate:selection":t[1]||(t[1]=u=>s.selected_datasets=u),filters:s.filters,"onUpdate:filters":t[2]||(t[2]=u=>s.filters=u),loading:this.loading,filterDisplay:"menu",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",globalFilterFields:["experimentName","description","doi","tissues","timePoints","organism","conditions","genders","institution"],responsiveLayout:"scroll"},{header:O(()=>[f("div",Vde,[$de,f("span",Gde,[zde,b(o,{modelValue:s.filters.global.value,"onUpdate:modelValue":t[0]||(t[0]=u=>s.filters.global.value=u),placeholder:"Keyword Search"},null,8,["modelValue"])])])]),empty:O(()=>[he(" No datasets found. ")]),loading:O(()=>[he(" Loading datasets. Please wait. ")]),default:O(()=>[b(a,{field:"experimentName",header:"Dataset",sortable:"",style:{"min-width":"10rem"}},{body:O(({data:u})=>[he(M(u.experimentName),1)]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by dataset name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(a,{field:"description",header:"Description",style:{"min-width":"10rem"}},{body:O(({data:u})=>[he(M(u.description),1)]),_:1}),b(a,{field:"doi",header:"DOI",style:{"min-width":"10rem"}},{body:O(({data:u})=>[he(M(u.doi),1)]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by DOI"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(a,{field:"tissues",header:"Tissues",filterMatchMode:"contains",style:{"min-width":"12rem"}},{body:O(({data:u})=>[u.tissues.length===1?(y(),_("div",jde,M(u.tissues[0]),1)):(y(),_("div",{key:1,onMouseover:c=>r.showPanel(c,u),onMouseout:c=>r.hidePanel(u)},[he(M(u.tissues.length)+" tissues ",1),b(l,{ref:r.getOverlayRef(u.experimentName),showCloseIcon:!1,dismissable:!0},{default:O(()=>[s.currentHoveredData===u?(y(),_("div",qde,[f("div",Xde,[f("ul",null,[(y(!0),_(J,null,be(r.getTissuesForColumn(u.tissues,1),(c,d)=>(y(),_("li",{key:d},M(c),1))),128))])]),u.tissues.length>20?(y(),_("div",Jde,[f("ul",null,[(y(!0),_(J,null,be(r.getTissuesForColumn(u.tissues,2),(c,d)=>(y(),_("li",{key:d},M(c),1))),128))])])):H("",!0)])):H("",!0)]),_:2},1536)],40,Wde))]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by tissue"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(a,{field:"timePoints",header:"Time Points (ZT)",style:{"max-width":"10rem"}},{body:O(({data:u})=>[he(M(u.timePoints.join(", ")),1)]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by time points"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(a,{field:"organism",header:"Organism",sortable:"",filterMatchMode:"contains",style:{"min-width":"10rem"}},{body:O(({data:u})=>[he(M(u.organism),1)]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by organism"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(a,{field:"conditions",header:"Conditions",sortable:"",filterMatchMode:"contains",style:{"min-width":"6rem"}},{body:O(({data:u})=>[he(M(u.conditions.join(", ")),1)]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by conditions"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(a,{field:"genders",header:"Sex",filterMatchMode:"contains",style:{"min-width":"6rem"}},{body:O(({data:u})=>[he(M(u.genders.join(", ")),1)]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by conditions"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),b(a,{field:"institution",header:"Institution",sortable:"",filterMatchMode:"contains",style:{"min-width":"14rem"}},{body:O(({data:u})=>[he(M(u.institution),1)]),filter:O(({filterModel:u})=>[b(o,{type:"text",modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:"p-column-filter",placeholder:"Search by institution"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["value","selection","filters","loading"])])])}var Zde=Bt(Hde,[["render",Yde],["__scopeId","data-v-4a03805e"]]);const ehe={name:"Forgot Password",components:{InputText:ki,Button:Lt,Dialog:fl},data(){return{email:null,emailInvalid:null,display:!1,errorMsg:null}},methods:{resetPassword(){this.display=!1;const e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!this.email||!this.email.match(e)){console.log("ERROR: Invalid email"),this.emailInvalid=!0,this.errorMsg="Invalid email address";return}const t=Eo();EK(t,this.email).then(()=>{this.display=!0,this.emailInvalid=!1}).catch(n=>{const i=n.code,s=n.message;if(i=="auth/user-not-found"){this.display=!0,this.emailInvalid=!1;return}this.errorMsg="ERROR: Something went wrong.",console.log("ERROR: "),console.log(i),console.log(s),this.errorMsg=""})},closeModal(){this.display=!1}}},the={class:"surface-card p-4 shadow-2 border-round w-1/2 mx-auto mt-6"},nhe=f("div",{class:"text-center my-5"},[f("div",{class:"text-900 text-3xl font-medium mb-3"},"Forgot your password")],-1),ihe=f("div",{class:"text-900 fond-medium mb-5 w-11/12 mx-auto"}," Please enter the email address associated with your account to receive the password reset link. ",-1),she={class:"w-11/12 mx-auto"},rhe={class:"mb-3"},ohe=f("label",{for:"email",class:"block text-900 font-medium mb-2"},"Enter your email address",-1),ahe=f("div",{class:"flex items-center justify-center"},[f("div",null,[f("div",{class:"py-1"},"A password reset link will be sent to the specified email address."),f("div",{class:"pt-2"},"If you don't see the email please check your spam folder.")])],-1);function lhe(e,t,n,i,s,r){const o=N("InputText"),a=N("Button"),l=N("Dialog");return y(),_("div",the,[nhe,ihe,f("div",she,[f("div",rhe,[ohe,b(o,{modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=A=>s.email=A),type:"text",class:P(["w-full mb-2",{"p-invalid":s.emailInvalid}])},null,8,["modelValue","class"]),re(f("small",{id:"email-help",class:"p-error"},M(s.errorMsg),513),[[xe,s.emailInvalid]])]),b(a,{label:"Request password reset",icon:"pi pi-inbox",class:"w-full",onClick:r.resetPassword},null,8,["onClick"]),b(l,{header:"Password reset sent",visible:s.display,"onUpdate:visible":t[1]||(t[1]=A=>s.display=A),class:"w-5/12",modal:!0},{footer:O(()=>[b(a,{label:"Ok",onClick:r.closeModal,autofocus:""},null,8,["onClick"])]),default:O(()=>[ahe]),_:1},8,["visible"])])])}var Ahe=Bt(ehe,[["render",lhe]]);const uhe="RBIO-P Data Sharing",che=[{path:"/:catchAll(.*)*",redirect:"/"},{path:"/",name:"Main",component:Tre,meta:{title:"Main",requiresAuth:!1,onNavbar:!0}},{path:"/about",name:"About",component:Y$,meta:{title:"About",requiresAuth:!1,onNavbar:!0}},{path:"/login",name:"Login",component:jre,meta:{title:"Log In",requiresAuth:!1,onNavbar:!1}},{path:"/register",name:"Register",component:koe,meta:{title:"Register",requiresAuth:!1,onNavbar:!1}},{path:"/user",name:"User",component:Ooe,meta:{title:"User",requiresAuth:!0,onNavbar:!1}},{path:"/admin",name:"Admin",component:Mue,meta:{title:"Administration",requiresAuth:!0,onNavbar:!1}},{path:"/profile",name:"Profile",component:dce,meta:{title:"Profile",requiresAuth:!0,onNavbar:!1}},{path:"/settings",name:"Settings",component:vce,meta:{title:"Settings",requiresAuth:!0,onNavbar:!1}},{path:"/data",name:"Data",component:kde,meta:{title:"Data",requiresAuth:!0,onNavbar:!1}},{path:"/datasets",name:"Datasets",component:Zde,meta:{title:"Datasets",requiresAuth:!1,onNavbar:!0}},{path:"/forgot-password",name:"Forgot Password",component:Ahe,meta:{title:"Forgot Password",requiresAuth:!1,onNavbar:!1}}],QQ=Q$({history:X3(),routes:che});function dhe(e,t,n){e.matched.some(s=>s.meta.requiresAuth)?TK(U3,s=>{s?n():n("/login")}):n()}QQ.beforeEach((e,t,n)=>{document.title=`${e.meta.title} |${uhe}`,dhe(e,t,n)});var hhe=function(){function e(t,n){n===void 0&&(n=[]),this._eventType=t,this._eventFunctions=n}return e.prototype.init=function(){var t=this;this._eventFunctions.forEach(function(n){typeof window!="undefined"&&window.addEventListener(t._eventType,n)})},e}(),Sh=globalThis&&globalThis.__assign||function(){return Sh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Sh.apply(this,arguments)},Fh={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},LQ=function(){function e(t,n){t===void 0&&(t=[]),n===void 0&&(n=Fh),this._items=t,this._options=Sh(Sh({},Fh),n),this._init()}return e.prototype._init=function(){var t=this;this._items.length&&this._items.map(function(n){n.active&&t.open(n.id),n.triggerEl.addEventListener("click",function(){t.toggle(n.id)})})},e.prototype.getItem=function(t){return this._items.filter(function(n){return n.id===t})[0]},e.prototype.open=function(t){var n,i,s=this,r=this.getItem(t);this._options.alwaysOpen||this._items.map(function(o){var a,l;o!==r&&((a=o.triggerEl.classList).remove.apply(a,s._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,s._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.remove("rotate-180"))}),(n=r.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),r.triggerEl.setAttribute("aria-expanded","true"),r.targetEl.classList.remove("hidden"),r.active=!0,r.iconEl&&r.iconEl.classList.add("rotate-180"),this._options.onOpen(this,r)},e.prototype.toggle=function(t){var n=this.getItem(t);n.active?this.close(t):this.open(t),this._options.onToggle(this,n)},e.prototype.close=function(t){var n,i,s=this.getItem(t);(n=s.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(i=s.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),s.targetEl.classList.add("hidden"),s.triggerEl.setAttribute("aria-expanded","false"),s.active=!1,s.iconEl&&s.iconEl.classList.remove("rotate-180"),this._options.onClose(this,s)},e}();typeof window!="undefined"&&(window.Accordion=LQ);function fhe(){document.querySelectorAll("[data-accordion]").forEach(function(e){var t=e.getAttribute("data-accordion"),n=e.getAttribute("data-active-classes"),i=e.getAttribute("data-inactive-classes"),s=[];e.querySelectorAll("[data-accordion-target]").forEach(function(r){var o={id:r.getAttribute("data-accordion-target"),triggerEl:r,targetEl:document.querySelector(r.getAttribute("data-accordion-target")),iconEl:r.querySelector("[data-accordion-icon]"),active:r.getAttribute("aria-expanded")==="true"};s.push(o)}),new LQ(s,{alwaysOpen:t==="open",activeClasses:n||Fh.activeClasses,inactiveClasses:i||Fh.inactiveClasses})})}var Uh=globalThis&&globalThis.__assign||function(){return Uh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Uh.apply(this,arguments)},kx={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},OQ=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=kx),this._targetEl=t,this._triggerEl=n,this._options=Uh(Uh({},kx),i),this._visible=!1,this._init()}return e.prototype._init=function(){var t=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){t.toggle()}))},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e}();typeof window!="undefined"&&(window.Collapse=OQ);function phe(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(e){var t=e.getAttribute("data-collapse-toggle"),n=document.getElementById(t);n?new OQ(n,e):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-collapse-toggle attribute.'))})}var Pr=globalThis&&globalThis.__assign||function(){return Pr=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Pr.apply(this,arguments)},wd={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},RQ=function(){function e(t,n){t===void 0&&(t=[]),n===void 0&&(n=wd),this._items=t,this._options=Pr(Pr(Pr({},wd),n),{indicators:Pr(Pr({},wd.indicators),n.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return e.prototype._init=function(){var t=this;this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,i){n.el.addEventListener("click",function(){t.slideTo(i)})})},e.prototype.getItem=function(t){return this._items[t]},e.prototype.slideTo=function(t){var n=this._items[t],i={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(i),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var t=this._getActiveItem(),n=null;t.position===this._items.length-1?n=this._items[0]:n=this._items[t.position+1],this.slideTo(n.position),this._options.onNext(this)},e.prototype.prev=function(){var t=this._getActiveItem(),n=null;t.position===0?n=this._items[this._items.length-1]:n=this._items[t.position-1],this.slideTo(n.position),this._options.onPrev(this)},e.prototype._rotate=function(t){this._items.map(function(n){n.el.classList.add("hidden")}),t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-20"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.right.el.classList.add("translate-x-full","z-10")},e.prototype.cycle=function(){var t=this;typeof window!="undefined"&&(this._intervalInstance=window.setInterval(function(){t.next()},this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype._getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(t){var n,i,s=this;this._activeItem=t;var r=t.position;this._indicators.length&&(this._indicators.map(function(o){var a,l;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,s._options.indicators.activeClasses.split(" ")),(l=o.el.classList).add.apply(l,s._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[r].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[r].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[r].el.setAttribute("aria-current","true"))},e}();typeof window!="undefined"&&(window.Carousel=RQ);function ghe(){document.querySelectorAll("[data-carousel]").forEach(function(e){var t=e.getAttribute("data-carousel-interval"),n=e.getAttribute("data-carousel")==="slide",i=[],s=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map(function(A,u){i.push({position:u,el:A}),A.getAttribute("data-carousel-item")==="active"&&(s=u)});var r=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map(function(A){r.push({position:parseInt(A.getAttribute("data-carousel-slide-to")),el:A})});var o=new RQ(i,{defaultPosition:s,indicators:{items:r},interval:t||wd.interval});n&&o.cycle();var a=e.querySelector("[data-carousel-next]"),l=e.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),l&&l.addEventListener("click",function(){o.prev()})})}var Th=globalThis&&globalThis.__assign||function(){return Th=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Th.apply(this,arguments)},Qx={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},DQ=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=Qx),this._targetEl=t,this._triggerEl=n,this._options=Th(Th({},Qx),i),this._init()}return e.prototype._init=function(){var t=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){t.hide()})},e.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){t._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},e}();typeof window!="undefined"&&(window.Dismiss=DQ);function mhe(){document.querySelectorAll("[data-dismiss-target]").forEach(function(e){var t=e.getAttribute("data-dismiss-target"),n=document.querySelector(t);n?new DQ(n,e):console.error('The dismiss element with id "'.concat(t,'" does not exist. Please check the data-dismiss-target attribute.'))})}var Tn="top",Ai="bottom",ui="right",kn="left",I_="auto",Nu=[Tn,Ai,ui,kn],$a="start",YA="end",yhe="clippingParents",MQ="viewport",Il="popper",vhe="reference",Lx=Nu.reduce(function(e,t){return e.concat([t+"-"+$a,t+"-"+YA])},[]),PQ=[].concat(Nu,[I_]).reduce(function(e,t){return e.concat([t,t+"-"+$a,t+"-"+YA])},[]),whe="beforeRead",_he="read",bhe="afterRead",Bhe="beforeMain",Che="main",xhe="afterMain",Ehe="beforeWrite",Ihe="write",She="afterWrite",Fhe=[whe,_he,bhe,Bhe,Che,xhe,Ehe,Ihe,She];function Ji(e){return e?(e.nodeName||"").toLowerCase():null}function Xn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function mo(e){var t=Xn(e).Element;return e instanceof t||e instanceof Element}function li(e){var t=Xn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function S_(e){if(typeof ShadowRoot=="undefined")return!1;var t=Xn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Uhe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},s=t.attributes[n]||{},r=t.elements[n];!li(r)||!Ji(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function The(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=o.reduce(function(l,A){return l[A]="",l},{});!li(s)||!Ji(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}var khe={name:"applyStyles",enabled:!0,phase:"write",fn:Uhe,effect:The,requires:["computeStyles"]};function Gi(e){return e.split("-")[0]}var ao=Math.max,kh=Math.min,Ga=Math.round;function by(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function HQ(){return!/^((?!chrome|android).)*safari/i.test(by())}function za(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),s=1,r=1;t&&li(e)&&(s=e.offsetWidth>0&&Ga(i.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Ga(i.height)/e.offsetHeight||1);var o=mo(e)?Xn(e):window,a=o.visualViewport,l=!HQ()&&n,A=(i.left+(l&&a?a.offsetLeft:0))/s,u=(i.top+(l&&a?a.offsetTop:0))/r,c=i.width/s,d=i.height/r;return{width:c,height:d,top:u,right:A+c,bottom:u+d,left:A,x:A,y:u}}function F_(e){var t=za(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function NQ(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&S_(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ts(e){return Xn(e).getComputedStyle(e)}function Qhe(e){return["table","td","th"].indexOf(Ji(e))>=0}function Sr(e){return((mo(e)?e.ownerDocument:e.document)||window.document).documentElement}function fp(e){return Ji(e)==="html"?e:e.assignedSlot||e.parentNode||(S_(e)?e.host:null)||Sr(e)}function Ox(e){return!li(e)||Ts(e).position==="fixed"?null:e.offsetParent}function Lhe(e){var t=/firefox/i.test(by()),n=/Trident/i.test(by());if(n&&li(e)){var i=Ts(e);if(i.position==="fixed")return null}var s=fp(e);for(S_(s)&&(s=s.host);li(s)&&["html","body"].indexOf(Ji(s))<0;){var r=Ts(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Ku(e){for(var t=Xn(e),n=Ox(e);n&&Qhe(n)&&Ts(n).position==="static";)n=Ox(n);return n&&(Ji(n)==="html"||Ji(n)==="body"&&Ts(n).position==="static")?t:n||Lhe(e)||t}function U_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function lA(e,t,n){return ao(e,kh(t,n))}function Ohe(e,t,n){var i=lA(e,t,n);return i>n?n:i}function KQ(){return{top:0,right:0,bottom:0,left:0}}function VQ(e){return Object.assign({},KQ(),e)}function $Q(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var Rhe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,VQ(typeof t!="number"?t:$Q(t,Nu))};function Dhe(e){var t,n=e.state,i=e.name,s=e.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Gi(n.placement),l=U_(a),A=[kn,ui].indexOf(a)>=0,u=A?"height":"width";if(!(!r||!o)){var c=Rhe(s.padding,n),d=F_(r),h=l==="y"?Tn:kn,p=l==="y"?Ai:ui,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],g=o[l]-n.rects.reference[l],w=Ku(r),v=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,C=m/2-g/2,B=c[h],E=v-d[u]-c[p],S=v/2-d[u]/2+C,F=lA(B,S,E),U=l;n.modifiersData[i]=(t={},t[U]=F,t.centerOffset=F-S,t)}}function Mhe(e){var t=e.state,n=e.options,i=n.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!NQ(t.elements.popper,s)||(t.elements.arrow=s))}var Phe={name:"arrow",enabled:!0,phase:"main",fn:Dhe,effect:Mhe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ja(e){return e.split("-")[1]}var Hhe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nhe(e,t){var n=e.x,i=e.y,s=t.devicePixelRatio||1;return{x:Ga(n*s)/s||0,y:Ga(i*s)/s||0}}function Rx(e){var t,n=e.popper,i=e.popperRect,s=e.placement,r=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,A=e.adaptive,u=e.roundOffsets,c=e.isFixed,d=o.x,h=d===void 0?0:d,p=o.y,m=p===void 0?0:p,g=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var w=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),C=kn,B=Tn,E=window;if(A){var S=Ku(n),F="clientHeight",U="clientWidth";if(S===Xn(n)&&(S=Sr(n),Ts(S).position!=="static"&&a==="absolute"&&(F="scrollHeight",U="scrollWidth")),S=S,s===Tn||(s===kn||s===ui)&&r===YA){B=Ai;var Q=c&&S===E&&E.visualViewport?E.visualViewport.height:S[F];m-=Q-i.height,m*=l?1:-1}if(s===kn||(s===Tn||s===Ai)&&r===YA){C=ui;var k=c&&S===E&&E.visualViewport?E.visualViewport.width:S[U];h-=k-i.width,h*=l?1:-1}}var L=Object.assign({position:a},A&&Hhe),R=u===!0?Nhe({x:h,y:m},Xn(n)):{x:h,y:m};if(h=R.x,m=R.y,l){var D;return Object.assign({},L,(D={},D[B]=v?"0":"",D[C]=w?"0":"",D.transform=(E.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",D))}return Object.assign({},L,(t={},t[B]=v?m+"px":"",t[C]=w?h+"px":"",t.transform="",t))}function Khe(e){var t=e.state,n=e.options,i=n.gpuAcceleration,s=i===void 0?!0:i,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,A={placement:Gi(t.placement),variation:ja(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Rx(Object.assign({},A,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rx(Object.assign({},A,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Vhe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Khe,data:{}},$c={passive:!0};function $he(e){var t=e.state,n=e.instance,i=e.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Xn(t.elements.popper),A=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&A.forEach(function(u){u.addEventListener("scroll",n.update,$c)}),a&&l.addEventListener("resize",n.update,$c),function(){r&&A.forEach(function(u){u.removeEventListener("scroll",n.update,$c)}),a&&l.removeEventListener("resize",n.update,$c)}}var Ghe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$he,data:{}},zhe={left:"right",right:"left",bottom:"top",top:"bottom"};function _d(e){return e.replace(/left|right|bottom|top/g,function(t){return zhe[t]})}var jhe={start:"end",end:"start"};function Dx(e){return e.replace(/start|end/g,function(t){return jhe[t]})}function T_(e){var t=Xn(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function k_(e){return za(Sr(e)).left+T_(e).scrollLeft}function Whe(e,t){var n=Xn(e),i=Sr(e),s=n.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var A=HQ();(A||!A&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+k_(e),y:l}}function qhe(e){var t,n=Sr(e),i=T_(e),s=(t=e.ownerDocument)==null?void 0:t.body,r=ao(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ao(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+k_(e),l=-i.scrollTop;return Ts(s||n).direction==="rtl"&&(a+=ao(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function Q_(e){var t=Ts(e),n=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function GQ(e){return["html","body","#document"].indexOf(Ji(e))>=0?e.ownerDocument.body:li(e)&&Q_(e)?e:GQ(fp(e))}function AA(e,t){var n;t===void 0&&(t=[]);var i=GQ(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),r=Xn(i),o=s?[r].concat(r.visualViewport||[],Q_(i)?i:[]):i,a=t.concat(o);return s?a:a.concat(AA(fp(o)))}function By(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xhe(e,t){var n=za(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Mx(e,t,n){return t===MQ?By(Whe(e,n)):mo(t)?Xhe(t,n):By(qhe(Sr(e)))}function Jhe(e){var t=AA(fp(e)),n=["absolute","fixed"].indexOf(Ts(e).position)>=0,i=n&&li(e)?Ku(e):e;return mo(i)?t.filter(function(s){return mo(s)&&NQ(s,i)&&Ji(s)!=="body"}):[]}function Yhe(e,t,n,i){var s=t==="clippingParents"?Jhe(e):[].concat(t),r=[].concat(s,[n]),o=r[0],a=r.reduce(function(l,A){var u=Mx(e,A,i);return l.top=ao(u.top,l.top),l.right=kh(u.right,l.right),l.bottom=kh(u.bottom,l.bottom),l.left=ao(u.left,l.left),l},Mx(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zQ(e){var t=e.reference,n=e.element,i=e.placement,s=i?Gi(i):null,r=i?ja(i):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(s){case Tn:l={x:o,y:t.y-n.height};break;case Ai:l={x:o,y:t.y+t.height};break;case ui:l={x:t.x+t.width,y:a};break;case kn:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var A=s?U_(s):null;if(A!=null){var u=A==="y"?"height":"width";switch(r){case $a:l[A]=l[A]-(t[u]/2-n[u]/2);break;case YA:l[A]=l[A]+(t[u]/2-n[u]/2);break}}return l}function ZA(e,t){t===void 0&&(t={});var n=t,i=n.placement,s=i===void 0?e.placement:i,r=n.strategy,o=r===void 0?e.strategy:r,a=n.boundary,l=a===void 0?yhe:a,A=n.rootBoundary,u=A===void 0?MQ:A,c=n.elementContext,d=c===void 0?Il:c,h=n.altBoundary,p=h===void 0?!1:h,m=n.padding,g=m===void 0?0:m,w=VQ(typeof g!="number"?g:$Q(g,Nu)),v=d===Il?vhe:Il,C=e.rects.popper,B=e.elements[p?v:d],E=Yhe(mo(B)?B:B.contextElement||Sr(e.elements.popper),l,u,o),S=za(e.elements.reference),F=zQ({reference:S,element:C,strategy:"absolute",placement:s}),U=By(Object.assign({},C,F)),Q=d===Il?U:S,k={top:E.top-Q.top+w.top,bottom:Q.bottom-E.bottom+w.bottom,left:E.left-Q.left+w.left,right:Q.right-E.right+w.right},L=e.modifiersData.offset;if(d===Il&&L){var R=L[s];Object.keys(k).forEach(function(D){var z=[ui,Ai].indexOf(D)>=0?1:-1,ce=[Tn,Ai].indexOf(D)>=0?"y":"x";k[D]+=R[ce]*z})}return k}function Zhe(e,t){t===void 0&&(t={});var n=t,i=n.placement,s=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,A=l===void 0?PQ:l,u=ja(i),c=u?a?Lx:Lx.filter(function(p){return ja(p)===u}):Nu,d=c.filter(function(p){return A.indexOf(p)>=0});d.length===0&&(d=c);var h=d.reduce(function(p,m){return p[m]=ZA(e,{placement:m,boundary:s,rootBoundary:r,padding:o})[Gi(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function efe(e){if(Gi(e)===I_)return[];var t=_d(e);return[Dx(e),t,Dx(t)]}function tfe(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,A=n.padding,u=n.boundary,c=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,m=n.allowedAutoPlacements,g=t.options.placement,w=Gi(g),v=w===g,C=l||(v||!p?[_d(g)]:efe(g)),B=[g].concat(C).reduce(function(Ot,V){return Ot.concat(Gi(V)===I_?Zhe(t,{placement:V,boundary:u,rootBoundary:c,padding:A,flipVariations:p,allowedAutoPlacements:m}):V)},[]),E=t.rects.reference,S=t.rects.popper,F=new Map,U=!0,Q=B[0],k=0;k<B.length;k++){var L=B[k],R=Gi(L),D=ja(L)===$a,z=[Tn,Ai].indexOf(R)>=0,ce=z?"width":"height",Y=ZA(t,{placement:L,boundary:u,rootBoundary:c,altBoundary:d,padding:A}),q=z?D?ui:kn:D?Ai:Tn;E[ce]>S[ce]&&(q=_d(q));var ae=_d(q),ve=[];if(r&&ve.push(Y[R]<=0),a&&ve.push(Y[q]<=0,Y[ae]<=0),ve.every(function(Ot){return Ot})){Q=L,U=!1;break}F.set(L,ve)}if(U)for(var Ne=p?3:1,tt=function(V){var oe=B.find(function(se){var ge=F.get(se);if(ge)return ge.slice(0,V).every(function(Me){return Me})});if(oe)return Q=oe,"break"},We=Ne;We>0;We--){var Ct=tt(We);if(Ct==="break")break}t.placement!==Q&&(t.modifiersData[i]._skip=!0,t.placement=Q,t.reset=!0)}}var nfe={name:"flip",enabled:!0,phase:"main",fn:tfe,requiresIfExists:["offset"],data:{_skip:!1}};function Px(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Hx(e){return[Tn,ui,Ai,kn].some(function(t){return e[t]>=0})}function ife(e){var t=e.state,n=e.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=ZA(t,{elementContext:"reference"}),a=ZA(t,{altBoundary:!0}),l=Px(o,i),A=Px(a,s,r),u=Hx(l),c=Hx(A);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:A,isReferenceHidden:u,hasPopperEscaped:c},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":c})}var sfe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ife};function rfe(e,t,n){var i=Gi(e),s=[kn,Tn].indexOf(i)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[kn,ui].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function ofe(e){var t=e.state,n=e.options,i=e.name,s=n.offset,r=s===void 0?[0,0]:s,o=PQ.reduce(function(u,c){return u[c]=rfe(c,t.rects,r),u},{}),a=o[t.placement],l=a.x,A=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=A),t.modifiersData[i]=o}var afe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ofe};function lfe(e){var t=e.state,n=e.name;t.modifiersData[n]=zQ({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Afe={name:"popperOffsets",enabled:!0,phase:"read",fn:lfe,data:{}};function ufe(e){return e==="x"?"y":"x"}function cfe(e){var t=e.state,n=e.options,i=e.name,s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,A=n.rootBoundary,u=n.altBoundary,c=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,m=p===void 0?0:p,g=ZA(t,{boundary:l,rootBoundary:A,padding:c,altBoundary:u}),w=Gi(t.placement),v=ja(t.placement),C=!v,B=U_(w),E=ufe(B),S=t.modifiersData.popperOffsets,F=t.rects.reference,U=t.rects.popper,Q=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,k=typeof Q=="number"?{mainAxis:Q,altAxis:Q}:Object.assign({mainAxis:0,altAxis:0},Q),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(!!S){if(r){var D,z=B==="y"?Tn:kn,ce=B==="y"?Ai:ui,Y=B==="y"?"height":"width",q=S[B],ae=q+g[z],ve=q-g[ce],Ne=h?-U[Y]/2:0,tt=v===$a?F[Y]:U[Y],We=v===$a?-U[Y]:-F[Y],Ct=t.elements.arrow,Ot=h&&Ct?F_(Ct):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:KQ(),oe=V[z],se=V[ce],ge=lA(0,F[Y],Ot[Y]),Me=C?F[Y]/2-Ne-ge-oe-k.mainAxis:tt-ge-oe-k.mainAxis,at=C?-F[Y]/2+Ne+ge+se+k.mainAxis:We+ge+se+k.mainAxis,Qe=t.elements.arrow&&Ku(t.elements.arrow),x=Qe?B==="y"?Qe.clientTop||0:Qe.clientLeft||0:0,T=(D=L==null?void 0:L[B])!=null?D:0,K=q+Me-T-x,G=q+at-T,W=lA(h?kh(ae,K):ae,q,h?ao(ve,G):ve);S[B]=W,R[B]=W-q}if(a){var ne,le=B==="x"?Tn:kn,te=B==="x"?Ai:ui,ie=S[E],X=E==="y"?"height":"width",_e=ie+g[le],pe=ie-g[te],we=[Tn,kn].indexOf(w)!==-1,Ie=(ne=L==null?void 0:L[E])!=null?ne:0,De=we?_e:ie-F[X]-U[X]-Ie+k.altAxis,Ye=we?ie+F[X]+U[X]-Ie-k.altAxis:pe,Ge=h&&we?Ohe(De,ie,Ye):lA(h?De:_e,ie,h?Ye:pe);S[E]=Ge,R[E]=Ge-ie}t.modifiersData[i]=R}}var dfe={name:"preventOverflow",enabled:!0,phase:"main",fn:cfe,requiresIfExists:["offset"]};function hfe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ffe(e){return e===Xn(e)||!li(e)?T_(e):hfe(e)}function pfe(e){var t=e.getBoundingClientRect(),n=Ga(t.width)/e.offsetWidth||1,i=Ga(t.height)/e.offsetHeight||1;return n!==1||i!==1}function gfe(e,t,n){n===void 0&&(n=!1);var i=li(t),s=li(t)&&pfe(t),r=Sr(t),o=za(e,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Ji(t)!=="body"||Q_(r))&&(a=ffe(t)),li(t)?(l=za(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=k_(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function mfe(e){var t=new Map,n=new Set,i=[];e.forEach(function(r){t.set(r.name,r)});function s(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&s(l)}}),i.push(r)}return e.forEach(function(r){n.has(r.name)||s(r)}),i}function yfe(e){var t=mfe(e);return Fhe.reduce(function(n,i){return n.concat(t.filter(function(s){return s.phase===i}))},[])}function vfe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function wfe(e){var t=e.reduce(function(n,i){var s=n[i.name];return n[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var Nx={placement:"bottom",modifiers:[],strategy:"absolute"};function Kx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function _fe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,s=t.defaultOptions,r=s===void 0?Nx:s;return function(a,l,A){A===void 0&&(A=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nx,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},c=[],d=!1,h={state:u,setOptions:function(w){var v=typeof w=="function"?w(u.options):w;m(),u.options=Object.assign({},r,u.options,v),u.scrollParents={reference:mo(a)?AA(a):a.contextElement?AA(a.contextElement):[],popper:AA(l)};var C=yfe(wfe([].concat(i,u.options.modifiers)));return u.orderedModifiers=C.filter(function(B){return B.enabled}),p(),h.update()},forceUpdate:function(){if(!d){var w=u.elements,v=w.reference,C=w.popper;if(!!Kx(v,C)){u.rects={reference:gfe(v,Ku(C),u.options.strategy==="fixed"),popper:F_(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var B=0;B<u.orderedModifiers.length;B++){if(u.reset===!0){u.reset=!1,B=-1;continue}var E=u.orderedModifiers[B],S=E.fn,F=E.options,U=F===void 0?{}:F,Q=E.name;typeof S=="function"&&(u=S({state:u,options:U,name:Q,instance:h})||u)}}}},update:vfe(function(){return new Promise(function(g){h.forceUpdate(),g(u)})}),destroy:function(){m(),d=!0}};if(!Kx(a,l))return h;h.setOptions(A).then(function(g){!d&&A.onFirstUpdate&&A.onFirstUpdate(g)});function p(){u.orderedModifiers.forEach(function(g){var w=g.name,v=g.options,C=v===void 0?{}:v,B=g.effect;if(typeof B=="function"){var E=B({state:u,name:w,instance:h,options:C}),S=function(){};c.push(E||S)}})}function m(){c.forEach(function(g){return g()}),c=[]}return h}}var bfe=[Ghe,Afe,Vhe,khe,afe,nfe,dfe,Phe,sfe],L_=_fe({defaultModifiers:bfe}),js=globalThis&&globalThis.__assign||function(){return js=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},js.apply(this,arguments)},Gc=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Hr={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,onShow:function(){},onHide:function(){},onToggle:function(){}},jQ=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=Hr),this._targetEl=t,this._triggerEl=n,this._options=js(js({},Hr),i),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return e.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){t.toggle()})}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){i==="click"?t.toggle():setTimeout(function(){t.show()},t._options.delay)}),t._targetEl.addEventListener(i,function(){t.show()})}),n.hideEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},t._options.delay)}),t._targetEl.addEventListener(i,function(){setTimeout(function(){t._triggerEl.matches(":hover")||t.hide()},t._options.delay)})}))},e.prototype._createPopperInstance=function(){return L_(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var i=t.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(t){return js(js({},t),{modifiers:Gc(Gc([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(t){return js(js({},t),{modifiers:Gc(Gc([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e}();typeof window!="undefined"&&(window.Dropdown=jQ);function Bfe(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(e){var t=e.getAttribute("data-dropdown-toggle"),n=document.getElementById(t);if(n){var i=e.getAttribute("data-dropdown-placement"),s=e.getAttribute("data-dropdown-offset-skidding"),r=e.getAttribute("data-dropdown-offset-distance"),o=e.getAttribute("data-dropdown-trigger"),a=e.getAttribute("data-dropdown-delay");new jQ(n,e,{placement:i||Hr.placement,triggerType:o||Hr.triggerType,offsetSkidding:s?parseInt(s):Hr.offsetSkidding,offsetDistance:r?parseInt(r):Hr.offsetDistance,delay:a?parseInt(a):Hr.delay})}else console.error('The dropdown element with id "'.concat(t,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}var Qh=globalThis&&globalThis.__assign||function(){return Qh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qh.apply(this,arguments)},aa={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},Cy=function(){function e(t,n){t===void 0&&(t=null),n===void 0&&(n=aa),this._targetEl=t,this._options=Qh(Qh({},aa),n),this._isHidden=!0,this._backdropEl=null,this._init()}return e.prototype._init=function(){var t=this;this._targetEl&&this._getPlacementClasses().map(function(n){t._targetEl.classList.add(n)})},e.prototype._createBackdrop=function(){var t;if(this._isHidden){var n=document.createElement("div");n.setAttribute("modal-backdrop",""),(t=n.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},e.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},e.prototype._setupModalCloseEventListeners=function(){var t=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){t._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e}();typeof window!="undefined"&&(window.Modal=Cy);var zc=function(e,t){return t.some(function(n){return n.id===e})?t.find(function(n){return n.id===e}):null};function Cfe(){var e=[];document.querySelectorAll("[data-modal-target]").forEach(function(t){var n=t.getAttribute("data-modal-target"),i=document.getElementById(n);if(i){var s=i.getAttribute("data-modal-placement"),r=i.getAttribute("data-modal-backdrop");zc(n,e)||e.push({id:n,object:new Cy(i,{placement:s||aa.placement,backdrop:r||aa.backdrop})})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(t){var n=t.getAttribute("data-modal-toggle"),i=document.getElementById(n);if(i){var s=i.getAttribute("data-modal-placement"),r=i.getAttribute("data-modal-backdrop"),o=zc(n,e);o||(o={id:n,object:new Cy(i,{placement:s||aa.placement,backdrop:r||aa.backdrop})},e.push(o)),t.addEventListener("click",function(){o.object.toggle()})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(t){var n=t.getAttribute("data-modal-show"),i=document.getElementById(n);if(i){var s=zc(n,e);s?t.addEventListener("click",function(){s.object.isHidden&&s.object.show()}):console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(t){var n=t.getAttribute("data-modal-hide"),i=document.getElementById(n);if(i){var s=zc(n,e);s?t.addEventListener("click",function(){s.object.isVisible&&s.object.hide()}):console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}var Lh=globalThis&&globalThis.__assign||function(){return Lh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Lh.apply(this,arguments)},Nr={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},WQ=function(){function e(t,n){t===void 0&&(t=null),n===void 0&&(n=Nr),this._targetEl=t,this._options=Lh(Lh({},Nr),n),this._visible=!1,this._init()}return e.prototype._init=function(){var t=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function(n){t._targetEl.classList.add(n)}),document.addEventListener("keydown",function(n){n.key==="Escape"&&t.isVisible()&&t.hide()})},e.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){t._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){t._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){t._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){t._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){t._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){t._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){t._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){t._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var t,n=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(t=i.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",function(){n.hide()})}},e.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e}();typeof window!="undefined"&&(window.Drawer=WQ);var jc=function(e,t){if(t.some(function(n){return n.id===e}))return t.find(function(n){return n.id===e})};function xfe(){var e=[];document.querySelectorAll("[data-drawer-target]").forEach(function(t){var n=t.getAttribute("data-drawer-target"),i=document.getElementById(n);if(i){var s=t.getAttribute("data-drawer-placement"),r=t.getAttribute("data-drawer-body-scrolling"),o=t.getAttribute("data-drawer-backdrop"),a=t.getAttribute("data-drawer-edge"),l=t.getAttribute("data-drawer-edge-offset");jc(n,e)||e.push({id:n,object:new WQ(i,{placement:s||Nr.placement,bodyScrolling:r?r==="true":Nr.bodyScrolling,backdrop:o?o==="true":Nr.backdrop,edge:a?a==="true":Nr.edge,edgeOffset:l||Nr.edgeOffset})})}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(t){var n=t.getAttribute("data-drawer-toggle"),i=document.getElementById(n);if(i){var s=jc(n,e);s?t.addEventListener("click",function(){s.object.toggle()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(t){var n=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide"),i=document.getElementById(n);if(i){var s=jc(n,e);s?t.addEventListener("click",function(){s.object.hide()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(t){var n=t.getAttribute("data-drawer-show"),i=document.getElementById(n);if(i){var s=jc(n,e);s?t.addEventListener("click",function(){s.object.show()}):console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}var Oh=globalThis&&globalThis.__assign||function(){return Oh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Oh.apply(this,arguments)},Vx={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},qQ=function(){function e(t,n){t===void 0&&(t=[]),n===void 0&&(n=Vx),this._items=t,this._activeTab=n?this.getTab(n.defaultTabId):null,this._options=Oh(Oh({},Vx),n),this._init()}return e.prototype._init=function(){var t=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(){t.show(n.id)})}))},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype._setActiveTab=function(t){this._activeTab=t},e.prototype.getTab=function(t){return this._items.filter(function(n){return n.id===t})[0]},e.prototype.show=function(t,n){var i,s,r=this;n===void 0&&(n=!1);var o=this.getTab(t);o===this._activeTab&&!n||(this._items.map(function(a){var l,A;a!==o&&((l=a.triggerEl.classList).remove.apply(l,r._options.activeClasses.split(" ")),(A=a.triggerEl.classList).add.apply(A,r._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(s=o.triggerEl.classList).remove.apply(s,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this._setActiveTab(o),this._options.onShow(this,o))},e}();typeof window!="undefined"&&(window.Tabs=qQ);function Efe(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(e){var t=[],n=null;e.querySelectorAll('[role="tab"]').forEach(function(i){var s=i.getAttribute("aria-selected")==="true",r={id:i.getAttribute("data-tabs-target"),triggerEl:i,targetEl:document.querySelector(i.getAttribute("data-tabs-target"))};t.push(r),s&&(n=r.id)}),new qQ(t,{defaultTabId:n})})}var Ws=globalThis&&globalThis.__assign||function(){return Ws=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ws.apply(this,arguments)},Wc=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Rh={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},XQ=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=Rh),this._targetEl=t,this._triggerEl=n,this._options=Ws(Ws({},Rh),i),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return e.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){t.show()})}),n.hideEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){t.hide()})})},e.prototype._createPopperInstance=function(){return L_(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var i=t.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return Ws(Ws({},t),{modifiers:Wc(Wc([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return Ws(Ws({},t),{modifiers:Wc(Wc([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e}();typeof window!="undefined"&&(window.Tooltip=XQ);function Ife(){document.querySelectorAll("[data-tooltip-target]").forEach(function(e){var t=e.getAttribute("data-tooltip-target"),n=document.getElementById(t);if(n){var i=e.getAttribute("data-tooltip-trigger"),s=e.getAttribute("data-tooltip-placement");new XQ(n,e,{placement:s||Rh.placement,triggerType:i||Rh.triggerType})}else console.error('The tooltip element with id "'.concat(t,'" does not exist. Please check the data-tooltip-target attribute.'))})}var qs=globalThis&&globalThis.__assign||function(){return qs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},qs.apply(this,arguments)},qc=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,r;i<s;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},uA={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},JQ=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=uA),this._targetEl=t,this._triggerEl=n,this._options=qs(qs({},uA),i),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return e.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){t.show()}),t._targetEl.addEventListener(i,function(){t.show()})}),n.hideEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},100)}),t._targetEl.addEventListener(i,function(){setTimeout(function(){t._triggerEl.matches(":hover")||t.hide()},100)})})},e.prototype._createPopperInstance=function(){return L_(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var i=t.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return qs(qs({},t),{modifiers:qc(qc([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return qs(qs({},t),{modifiers:qc(qc([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e}();typeof window!="undefined"&&(window.Popover=JQ);function Sfe(){document.querySelectorAll("[data-popover-target]").forEach(function(e){var t=e.getAttribute("data-popover-target"),n=document.getElementById(t);if(n){var i=e.getAttribute("data-popover-trigger"),s=e.getAttribute("data-popover-placement"),r=e.getAttribute("data-popover-offset");new JQ(n,e,{placement:s||uA.placement,offset:r?parseInt(r):uA.offset,triggerType:i||uA.triggerType})}else console.error('The popover element with id "'.concat(t,'" does not exist. Please check the data-popover-target attribute.'))})}var Dh=globalThis&&globalThis.__assign||function(){return Dh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dh.apply(this,arguments)},xy={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},YQ=function(){function e(t,n,i,s){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=xy),this._parentEl=t,this._triggerEl=n,this._targetEl=i,this._options=Dh(Dh({},xy),s),this._visible=!1,this._init()}return e.prototype._init=function(){var t=this;if(this._triggerEl){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,function(){t.show()}),t._targetEl.addEventListener(i,function(){t.show()})}),n.hideEvents.forEach(function(i){t._parentEl.addEventListener(i,function(){t._parentEl.matches(":hover")||t.hide()})})}},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e}();typeof window!="undefined"&&(window.Dial=YQ);function Ffe(){document.querySelectorAll("[data-dial-init]").forEach(function(e){var t=e.querySelector("[data-dial-toggle]");if(t){var n=t.getAttribute("data-dial-toggle"),i=document.getElementById(n);if(i){var s=t.getAttribute("data-dial-trigger");new YQ(e,t,i,{triggerType:s||xy.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}var Ufe=new hhe("load",[fhe,phe,ghe,mhe,Bfe,Cfe,xfe,Efe,Ife,Sfe,Ffe]);Ufe.init();const $x={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[ze.STARTS_WITH,ze.CONTAINS,ze.NOT_CONTAINS,ze.ENDS_WITH,ze.EQUALS,ze.NOT_EQUALS],numeric:[ze.EQUALS,ze.NOT_EQUALS,ze.LESS_THAN,ze.LESS_THAN_OR_EQUAL_TO,ze.GREATER_THAN,ze.GREATER_THAN_OR_EQUAL_TO],date:[ze.DATE_IS,ze.DATE_IS_NOT,ze.DATE_BEFORE,ze.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}},Tfe=Symbol();function kfe(e,t,n,i){const s=document.getElementById(n),r=s.cloneNode(!0),o=s.getAttribute("href").replace(e,t);r.setAttribute("id",n+"-clone"),r.setAttribute("href",o),r.addEventListener("load",()=>{s.remove(),r.setAttribute("id",n),i&&i()}),s.parentNode&&s.parentNode.insertBefore(r,s.nextSibling)}var Qfe={install:(e,t)=>{let n=t?{...$x,...t}:{...$x};const i={config:vo(n),changeTheme:kfe};e.config.globalProperties.$primevue=i,e.provide(Tfe,i)}};const Lfe=Symbol();var Ofe={install:e=>{const t={add:n=>{ds.emit("add",n)},removeGroup:n=>{ds.emit("remove-group",n)},removeAllGroups:()=>{ds.emit("remove-all-groups")}};e.config.globalProperties.$toast=t,e.provide(Lfe,t)}};const Rfe={name:"AppLink",inheritAttrs:!1,props:{...zF.props,inactiveClass:String},computed:{isExternalLink(){return typeof this.to=="string"&&this.to.startsWith("http")}}},Dfe=["href","onClick"];function Mfe(e,t,n,i,s,r){const o=N("router-link");return y(),ee(o,Ue(e.$props,{custom:""}),{default:O(({isActive:a,href:l,navigate:A})=>[f("a",Ue(e.$attrs,{href:l,onClick:A,class:a?e.activeClass:n.inactiveClass}),[ue(e.$slots,"default")],16,Dfe)]),_:3},16)}var O_=Bt(Rfe,[["render",Mfe]]);const Pfe={name:"NavLink",components:{AppLink:O_}};function Hfe(e,t,n,i,s,r){const o=N("AppLink");return y(),ee(o,Ue(e.$attrs,{class:"px-3 py-2 rounded-md text-sm font-medium","active-class":"bg-gray-900 text-white","inactive-class":"text-gray-300 hover:bg-gray-700 hover:text-white"}),{default:O(()=>[ue(e.$slots,"default")]),_:3},16)}var Nfe=Bt(Pfe,[["render",Hfe]]);const Kfe={name:"ProfileLink",components:{AppLink:O_}};function Vfe(e,t,n,i,s,r){const o=N("AppLink");return y(),ee(o,Ue(e.$attrs,{class:"block px-4 py-2 text-sm text-gray-700","active-class":"bg-gray-100","inactive-class":""}),{default:O(()=>[ue(e.$slots,"default")]),_:3},16)}var $fe=Bt(Kfe,[["render",Vfe]]);function Wa(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Wa),i}var eu=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(eu||{}),Gfe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Gfe||{});function Qo({visible:e=!0,features:t=0,ourProps:n,theirProps:i,...s}){var r;let o=eL(i,n),a=Object.assign(s,{props:o});if(e||t&2&&o.static)return Fg(a);if(t&1){let l=(r=o.unmount)==null||r?0:1;return Wa(l,{[0](){return null},[1](){return Fg({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Fg(a)}function Fg({props:e,attrs:t,slots:n,slot:i,name:s}){var r,o;let{as:a,...l}=zfe(e,["unmount","static"]),A=(r=n.default)==null?void 0:r.call(n,i),u={};if(i){let c=!1,d=[];for(let[h,p]of Object.entries(i))typeof p=="boolean"&&(c=!0),p===!0&&d.push(h);c&&(u["data-headlessui-state"]=d.join(" "))}if(a==="template"){if(A=ZQ(A!=null?A:[]),Object.keys(l).length>0||Object.keys(t).length>0){let[c,...d]=A!=null?A:[];if(!jfe(c)||d.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(m=>m.trim()).filter((m,g,w)=>w.indexOf(m)===g).sort((m,g)=>m.localeCompare(g)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let h=eL((o=c.props)!=null?o:{},l),p=ji(c,h);for(let m in h)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=h[m]);return p}return Array.isArray(A)&&A.length===1?A[0]:A}return Xh(a,Object.assign({},l,u),{default:()=>A})}function ZQ(e){return e.flatMap(t=>t.type===J?ZQ(t.children):[t])}function eL(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let i of e)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):t[s]=i[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(t,{[i](s,...r){let o=n[i];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...r)}}});return t}function zfe(e,t=[]){let n=Object.assign({},e);for(let i of t)i in n&&delete n[i];return n}function jfe(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Wfe=0;function qfe(){return++Wfe}function Vu(){return qfe()}var yt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(yt||{});function Xfe(e){throw new Error("Unexpected object: "+e)}var zn=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(zn||{});function Jfe(e,t){let n=t.resolveItems();if(n.length<=0)return null;let i=t.resolveActiveIndex(),s=i!=null?i:-1,r=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,A)=>s!==-1&&A.length-l-1>=s?!1:!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=s?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:Xfe(e)}})();return r===-1?i:r}function nt(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let tL=Symbol("Context");var ks=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ks||{});function nL(){return jn(tL,null)}function iL(e){lr(tL,e)}function Gx(e,t){if(e)return e;let n=t!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function sL(e,t){let n=Rt(Gx(e.value.type,e.value.as));return gr(()=>{n.value=Gx(e.value.type,e.value.as)}),nu(()=>{var i;n.value||nt(t)&&nt(t)instanceof HTMLButtonElement&&!((i=nt(t))!=null&&i.hasAttribute("type"))&&(n.value="button")}),n}var Yfe=Object.defineProperty,Zfe=(e,t,n)=>t in e?Yfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zx=(e,t,n)=>(Zfe(e,typeof t!="symbol"?t+"":t,n),n);class epe{constructor(){zx(this,"current",this.detect()),zx(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"client"}}let rL=new epe;function R_(e){if(rL.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=nt(e);if(t)return t.ownerDocument}return document}function tpe({container:e,accept:t,walk:n,enabled:i}){nu(()=>{let s=e.value;if(!s||i!==void 0&&!i.value)return;let r=R_(e);if(!r)return;let o=Object.assign(l=>t(l),{acceptNode:t}),a=r.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)n(a.currentNode)})}let Ey=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Iy=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Iy||{}),npe=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(npe||{}),ipe=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ipe||{});function oL(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ey)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var D_=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(D_||{});function M_(e,t=0){var n;return e===((n=R_(e))==null?void 0:n.body)?!1:Wa(t,{[0](){return e.matches(Ey)},[1](){let i=e;for(;i!==null;){if(i.matches(Ey))return!0;i=i.parentElement}return!1}})}function aL(e){let t=R_(e);ms(()=>{t&&!M_(t.activeElement,0)&&rpe(e)})}var spe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(spe||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function rpe(e){e==null||e.focus({preventScroll:!0})}let ope=["textarea","input"].join(",");function ape(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,ope))!=null?n:!1}function lL(e,t=n=>n){return e.slice().sort((n,i)=>{let s=t(n),r=t(i);if(s===null||r===null)return 0;let o=s.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function lpe(e,t){return Ape(oL(),t,{relativeTo:e})}function Ape(e,t,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var r;let o=(r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?r:document,a=Array.isArray(e)?n?lL(e):e:oL(e);s.length>0&&a.length>1&&(a=a.filter(p=>!s.includes(p))),i=i!=null?i:o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),A=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(i))-1;if(t&4)return Math.max(0,a.indexOf(i))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,d=a.length,h;do{if(c>=d||c+d<=0)return 0;let p=A+c;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=a[p],h==null||h.focus(u),c+=l}while(h!==o.activeElement);return t&6&&ape(h)&&h.select(),2}function Ug(e,t,n){rL.isServer||nu(i=>{document.addEventListener(e,t,n),i(()=>document.removeEventListener(e,t,n))})}function upe(e,t,n=it(()=>!0)){function i(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let l=function A(u){return typeof u=="function"?A(u()):Array.isArray(u)||u instanceof Set?u:[u]}(e);for(let A of l){if(A===null)continue;let u=A instanceof HTMLElement?A:nt(A);if(u!=null&&u.contains(a)||r.composed&&r.composedPath().includes(u))return}return!M_(a,D_.Loose)&&a.tabIndex!==-1&&r.preventDefault(),t(r,a)}let s=Rt(null);Ug("mousedown",r=>{var o,a;n.value&&(s.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),Ug("click",r=>{s.value&&(i(r,()=>s.value),s.value=null)},!0),Ug("blur",r=>i(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function jx(e){return[e.screenX,e.screenY]}function cpe(){let e=Rt([-1,-1]);return{wasMoved(t){let n=jx(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=jx(t)}}}var dpe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dpe||{});let AL=Symbol("DisclosureContext");function P_(e){let t=jn(AL,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,P_),n}return t}let uL=Symbol("DisclosurePanelContext");function hpe(){return jn(uL,null)}let fpe=Qs({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:n}){let i=Rt(e.defaultOpen?0:1),s=Rt(null),r=Rt(null),o={buttonId:Rt(null),panelId:Rt(null),disclosureState:i,panel:s,button:r,toggleDisclosure(){i.value=Wa(i.value,{[0]:1,[1]:0})},closeDisclosure(){i.value!==1&&(i.value=1)},close(a){o.closeDisclosure();let l=(()=>a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?nt(a):nt(o.button):nt(o.button))();l==null||l.focus()}};return lr(AL,o),iL(it(()=>Wa(i.value,{[0]:ks.Open,[1]:ks.Closed}))),()=>{let{defaultOpen:a,...l}=e,A={open:i.value===0,close:o.close};return Qo({theirProps:l,ourProps:{},slot:A,slots:t,attrs:n,name:"Disclosure"})}}}),ppe=Qs({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${Vu()}`}},setup(e,{attrs:t,slots:n,expose:i}){let s=P_("DisclosureButton");gr(()=>{s.buttonId.value=e.id}),iu(()=>{s.buttonId.value=null});let r=hpe(),o=it(()=>r===null?!1:r.value===s.panelId.value),a=Rt(null);i({el:a,$el:a}),o.value||nu(()=>{s.button.value=a.value});let l=sL(it(()=>({as:e.as,type:t.type})),a);function A(){var d;e.disabled||(o.value?(s.toggleDisclosure(),(d=nt(s.button))==null||d.focus()):s.toggleDisclosure())}function u(d){var h;if(!e.disabled)if(o.value)switch(d.key){case yt.Space:case yt.Enter:d.preventDefault(),d.stopPropagation(),s.toggleDisclosure(),(h=nt(s.button))==null||h.focus();break}else switch(d.key){case yt.Space:case yt.Enter:d.preventDefault(),d.stopPropagation(),s.toggleDisclosure();break}}function c(d){switch(d.key){case yt.Space:d.preventDefault();break}}return()=>{let d={open:s.disclosureState.value===0},{id:h,...p}=e,m=o.value?{ref:a,type:l.value,onClick:A,onKeydown:u}:{id:h,ref:a,type:l.value,"aria-expanded":e.disabled?void 0:s.disclosureState.value===0,"aria-controls":nt(s.panel)?s.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:A,onKeydown:u,onKeyup:c};return Qo({ourProps:m,theirProps:p,slot:d,attrs:t,slots:n,name:"DisclosureButton"})}}}),gpe=Qs({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${Vu()}`}},setup(e,{attrs:t,slots:n,expose:i}){let s=P_("DisclosurePanel");gr(()=>{s.panelId.value=e.id}),iu(()=>{s.panelId.value=null}),i({el:s.panel,$el:s.panel}),lr(uL,s.panelId);let r=nL(),o=it(()=>r!==null?(r.value&ks.Open)===ks.Open:s.disclosureState.value===0);return()=>{let a={open:s.disclosureState.value===0,close:s.close},{id:l,...A}=e,u={id:l,ref:s.panel};return Qo({ourProps:u,theirProps:A,slot:a,attrs:t,slots:n,features:eu.RenderStrategy|eu.Static,visible:o.value,name:"DisclosurePanel"})}}});var mpe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mpe||{}),ype=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ype||{});function vpe(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let cL=Symbol("MenuContext");function pp(e){let t=jn(cL,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pp),n}return t}let wpe=Qs({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let i=Rt(1),s=Rt(null),r=Rt(null),o=Rt([]),a=Rt(""),l=Rt(null),A=Rt(1);function u(d=h=>h){let h=l.value!==null?o.value[l.value]:null,p=lL(d(o.value.slice()),g=>nt(g.dataRef.domRef)),m=h?p.indexOf(h):null;return m===-1&&(m=null),{items:p,activeItemIndex:m}}let c={menuState:i,buttonRef:s,itemsRef:r,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:A,closeMenu:()=>{i.value=1,l.value=null},openMenu:()=>i.value=0,goToItem(d,h,p){let m=u(),g=Jfe(d===zn.Specific?{focus:zn.Specific,id:h}:{focus:d},{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.disabled});a.value="",l.value=g,A.value=p!=null?p:1,o.value=m.items},search(d){let h=a.value!==""?0:1;a.value+=d.toLowerCase();let p=(l.value!==null?o.value.slice(l.value+h).concat(o.value.slice(0,l.value+h)):o.value).find(g=>g.dataRef.textValue.startsWith(a.value)&&!g.dataRef.disabled),m=p?o.value.indexOf(p):-1;m===-1||m===l.value||(l.value=m,A.value=1)},clearSearch(){a.value=""},registerItem(d,h){let p=u(m=>[...m,{id:d,dataRef:h}]);o.value=p.items,l.value=p.activeItemIndex,A.value=1},unregisterItem(d){let h=u(p=>{let m=p.findIndex(g=>g.id===d);return m!==-1&&p.splice(m,1),p});o.value=h.items,l.value=h.activeItemIndex,A.value=1}};return upe([s,r],(d,h)=>{var p;c.closeMenu(),M_(h,D_.Loose)||(d.preventDefault(),(p=nt(s))==null||p.focus())},it(()=>i.value===0)),lr(cL,c),iL(it(()=>Wa(i.value,{[0]:ks.Open,[1]:ks.Closed}))),()=>{let d={open:i.value===0,close:c.closeMenu};return Qo({ourProps:{},theirProps:e,slot:d,slots:t,attrs:n,name:"Menu"})}}}),_pe=Qs({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${Vu()}`}},setup(e,{attrs:t,slots:n,expose:i}){let s=pp("MenuButton");i({el:s.buttonRef,$el:s.buttonRef});function r(A){switch(A.key){case yt.Space:case yt.Enter:case yt.ArrowDown:A.preventDefault(),A.stopPropagation(),s.openMenu(),ms(()=>{var u;(u=nt(s.itemsRef))==null||u.focus({preventScroll:!0}),s.goToItem(zn.First)});break;case yt.ArrowUp:A.preventDefault(),A.stopPropagation(),s.openMenu(),ms(()=>{var u;(u=nt(s.itemsRef))==null||u.focus({preventScroll:!0}),s.goToItem(zn.Last)});break}}function o(A){switch(A.key){case yt.Space:A.preventDefault();break}}function a(A){e.disabled||(s.menuState.value===0?(s.closeMenu(),ms(()=>{var u;return(u=nt(s.buttonRef))==null?void 0:u.focus({preventScroll:!0})})):(A.preventDefault(),s.openMenu(),vpe(()=>{var u;return(u=nt(s.itemsRef))==null?void 0:u.focus({preventScroll:!0})})))}let l=sL(it(()=>({as:e.as,type:t.type})),s.buttonRef);return()=>{var A;let u={open:s.menuState.value===0},{id:c,...d}=e,h={ref:s.buttonRef,id:c,type:l.value,"aria-haspopup":"menu","aria-controls":(A=nt(s.itemsRef))==null?void 0:A.id,"aria-expanded":e.disabled?void 0:s.menuState.value===0,onKeydown:r,onKeyup:o,onClick:a};return Qo({ourProps:h,theirProps:d,slot:u,attrs:t,slots:n,name:"MenuButton"})}}}),bpe=Qs({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${Vu()}`}},setup(e,{attrs:t,slots:n,expose:i}){let s=pp("MenuItems"),r=Rt(null);i({el:s.itemsRef,$el:s.itemsRef}),tpe({container:it(()=>nt(s.itemsRef)),enabled:it(()=>s.menuState.value===0),accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});function o(u){var c;switch(r.value&&clearTimeout(r.value),u.key){case yt.Space:if(s.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),s.search(u.key);case yt.Enter:if(u.preventDefault(),u.stopPropagation(),s.activeItemIndex.value!==null){let d=s.items.value[s.activeItemIndex.value];(c=nt(d.dataRef.domRef))==null||c.click()}s.closeMenu(),aL(nt(s.buttonRef));break;case yt.ArrowDown:return u.preventDefault(),u.stopPropagation(),s.goToItem(zn.Next);case yt.ArrowUp:return u.preventDefault(),u.stopPropagation(),s.goToItem(zn.Previous);case yt.Home:case yt.PageUp:return u.preventDefault(),u.stopPropagation(),s.goToItem(zn.First);case yt.End:case yt.PageDown:return u.preventDefault(),u.stopPropagation(),s.goToItem(zn.Last);case yt.Escape:u.preventDefault(),u.stopPropagation(),s.closeMenu(),ms(()=>{var d;return(d=nt(s.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case yt.Tab:u.preventDefault(),u.stopPropagation(),s.closeMenu(),ms(()=>lpe(nt(s.buttonRef),u.shiftKey?Iy.Previous:Iy.Next));break;default:u.key.length===1&&(s.search(u.key),r.value=setTimeout(()=>s.clearSearch(),350));break}}function a(u){switch(u.key){case yt.Space:u.preventDefault();break}}let l=nL(),A=it(()=>l!==null?(l.value&ks.Open)===ks.Open:s.menuState.value===0);return()=>{var u,c;let d={open:s.menuState.value===0},{id:h,...p}=e,m={"aria-activedescendant":s.activeItemIndex.value===null||(u=s.items.value[s.activeItemIndex.value])==null?void 0:u.id,"aria-labelledby":(c=nt(s.buttonRef))==null?void 0:c.id,id:h,onKeydown:o,onKeyup:a,role:"menu",tabIndex:0,ref:s.itemsRef};return Qo({ourProps:m,theirProps:p,slot:d,attrs:t,slots:n,features:eu.RenderStrategy|eu.Static,visible:A.value,name:"MenuItems"})}}}),Bpe=Qs({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${Vu()}`}},setup(e,{slots:t,attrs:n,expose:i}){let s=pp("MenuItem"),r=Rt(null);i({el:r,$el:r});let o=it(()=>s.activeItemIndex.value!==null?s.items.value[s.activeItemIndex.value].id===e.id:!1),a=it(()=>({disabled:e.disabled,textValue:"",domRef:r}));gr(()=>{var p,m;let g=(m=(p=nt(r))==null?void 0:p.textContent)==null?void 0:m.toLowerCase().trim();g!==void 0&&(a.value.textValue=g)}),gr(()=>s.registerItem(e.id,a)),iu(()=>s.unregisterItem(e.id)),nu(()=>{s.menuState.value===0&&o.value&&s.activationTrigger.value!==0&&ms(()=>{var p,m;return(m=(p=nt(r))==null?void 0:p.scrollIntoView)==null?void 0:m.call(p,{block:"nearest"})})});function l(p){if(e.disabled)return p.preventDefault();s.closeMenu(),aL(nt(s.buttonRef))}function A(){if(e.disabled)return s.goToItem(zn.Nothing);s.goToItem(zn.Specific,e.id)}let u=cpe();function c(p){u.update(p)}function d(p){u.wasMoved(p)&&(e.disabled||o.value||s.goToItem(zn.Specific,e.id,0))}function h(p){u.wasMoved(p)&&(e.disabled||o.value&&s.goToItem(zn.Nothing))}return()=>{let{disabled:p}=e,m={active:o.value,disabled:p,close:s.closeMenu},{id:g,...w}=e;return Qo({ourProps:{id:g,ref:r,role:"menuitem",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,disabled:void 0,onClick:l,onFocus:A,onPointerenter:c,onMouseenter:c,onPointermove:d,onMousemove:d,onPointerleave:h,onMouseleave:h},theirProps:{...n,...w},slot:m,attrs:n,slots:t,name:"MenuItem"})}}});function Cpe(e,t){return y(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])}function xpe(e,t){return y(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})])}function Epe(e,t){return y(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const Ipe={name:"NavBar",components:{AppLink:O_,NavLink:Nfe,ProfileLink:$fe,Disclosure:fpe,DisclosureButton:ppe,DisclosurePanel:gpe,Menu:wpe,MenuButton:_pe,MenuItem:Bpe,MenuItems:bpe,BellIcon:Cpe,MenuIcon:xpe,XIcon:Epe,UserCircleIcon:Pue},data(){return{test:null,dropdown:!1}},computed:{user(){return!!this.$store.state.user},firstName(){return this.$store.state.profileFirstName},lastName(){return this.$store.state.profileLastName}},methods:{signOut(){Eo().signOut(),this.$store.commit("reset"),this.$router.push({name:"About"}),console.log("this.$store.state"),console.log(this.$store.state)}}},Spe={class:"mx-auto px-2"},Fpe={class:"relative flex items-center justify-start h-16"},Upe={class:"flex-1 flex items-center justify-start"},Tpe={class:""},kpe={class:"flex space-x-4"},Qpe=f("div",{class:""},[f("i",{class:"pi pi-chart-bar mr-3"}),f("span",null,"Main")],-1),Lpe=f("div",{class:""},[f("i",{class:"pi pi-info-circle mr-3"}),f("span",null,"About")],-1),Ope=f("div",{class:""},[f("i",{class:"pi pi-database mr-3"}),f("span",null,"Datasets")],-1),Rpe=f("div",{class:""},[f("i",{class:"pi pi-list mr-3"}),f("span",null,"Admin")],-1),Dpe=f("div",{class:""},[f("i",{class:"pi pi-user mr-3"}),f("span",null,"Login")],-1),Mpe={id:"profile-menu",class:"absolute inset-y-0 right-10 flex items-center pr-2"},Ppe=f("span",{class:"sr-only"},"Open user menu",-1),Hpe={class:"px-3 py-1"},Npe={class:"px-2 pt-2 pb-3 space-y-1"};function Kpe(e,t,n,i,s,r){const o=N("NavLink"),a=N("UserCircleIcon"),l=N("MenuButton"),A=N("MenuItem"),u=N("MenuItems"),c=N("Menu"),d=N("DisclosureButton"),h=N("DisclosurePanel"),p=N("Disclosure");return y(),ee(p,{as:"nav",class:"bg-gray-800"},{default:O(({open:m})=>[f("div",Spe,[f("div",Fpe,[f("div",Upe,[f("div",Tpe,[f("div",kpe,[b(o,{to:{name:"Main"}},{default:O(()=>[Qpe]),_:1}),b(o,{to:{name:"About"}},{default:O(()=>[Lpe]),_:1}),b(o,{to:{name:"Datasets"}},{default:O(()=>[Ope]),_:1}),r.user?(y(),ee(o,{key:0,to:{name:"Admin"}},{default:O(()=>[Rpe]),_:1})):H("",!0),r.user?H("",!0):(y(),ee(o,{key:1,to:{name:"Login"}},{default:O(()=>[Dpe]),_:1}))])])]),f("div",Mpe,[re(b(c,{as:"div",class:"ml-3 relative z-10"},{default:O(()=>[f("div",null,[b(l,{class:"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white"},{default:O(()=>[Ppe,b(a,{id:"user-icon",style:{width:"100% !important"},class:"w-8 h-8 fill-white rounded-full"})]),_:1})]),b(Dn,{"enter-active-class":"transition ease-out duration-100 z-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:O(()=>[b(u,{class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:O(()=>[f("div",Hpe,M(r.firstName)+" "+M(r.lastName),1),b(A,null,{default:O(({active:g})=>[f("a",{href:"/profile",class:P([g?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Your Profile",2)]),_:1}),b(A,null,{default:O(({active:g})=>[f("a",{href:"/settings",class:P([g?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Settings",2)]),_:1}),b(A,{onClick:r.signOut},{default:O(({active:g})=>[f("a",{href:"#",class:P([g?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Sign out",2)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512),[[xe,r.user]])])])]),b(h,{class:"sm:hidden"},{default:O(()=>[f("div",Npe,[(y(!0),_(J,null,be(e.navigation,g=>(y(),ee(d,{key:g.name,as:"a",href:g.href,class:P([g.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"]),"aria-current":g.current?"page":void 0},{default:O(()=>[he(M(g.name),1)]),_:2},1032,["href","class","aria-current"]))),128))])]),_:1})]),_:1})}var Vpe=Bt(Ipe,[["render",Kpe]]);const $pe={},Gpe={class:"w-11/12 mx-auto my-10 mt-auto"},zpe=iR('<footer class="p-4 mt-32 bg-white rounded-lg shadow flex justify-between items-center dark:bg-gray-800"><div class="text-sm text-gray-500 sm:text-center dark:text-gray-400"> \xA9 2022 All Rights Reserved. </div><div><ul class="flex flex-wrap items-center mt-3 text-sm text-gray-500 dark:text-gray-400 sm:mt-0"><li><a href="/" class="mr-4 hover:underline md:mr-6">Home</a></li><li><a href="/about" class="mr-4 hover:underline md:mr-6">About</a></li><li><a href="/privacy" class="mr-4 hover:underline md:mr-6">Privacy Policy</a></li><li><a href="/contact" class="hover:underline">Contact</a></li></ul></div></footer>',1),jpe=[zpe];function Wpe(e,t){return y(),_("div",Gpe,jpe)}var qpe=Bt($pe,[["render",Wpe]]);const Xpe={name:"App",components:{NavBar:Vpe,Footer:qpe},data(){return{navigation:null}},async created(){console.log("App created"),sessionStorage.getItem("store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("store",JSON.stringify(this.$store.state))}),Eo().onAuthStateChanged(t=>{this.$store.commit("updateUser",t),t?this.$store.dispatch("getCurrentUser",t):console.log("App: No user"),console.log("App: After auth state changed")})}},Jpe={class:"flex flex-col min-h-screen"};function Ype(e,t,n,i,s,r){const o=N("NavBar"),a=N("router-view"),l=N("Footer");return y(),_("div",Jpe,[b(o),b(a),b(l)])}var Zpe=Bt(Xpe,[["render",Ype]]);const $u=jR(Zpe);$u.use(k3);$u.use(QQ);$u.use(Qfe);$u.use(Ofe);$u.mount("#app");
